/*
 * GoJS™ v1.0.8 JavaScript Library for HTML Canvas Diagrams
 * Northwoods Software®, http://www.nwoods.com/
 *
 * Copyright © 1998-2012 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.0.8/doc/license.html.
 */
(function(window) { var f=void 0,h=!0,n=null,p=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function s(a){return function(){return this[a]}}function ca(a){return function(){return a}}var ea,fa={};
if(document.createElement("canvas").getContext===f)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.prototype.__defineGetter__&&!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
Object.prototype.__defineGetter__&&!Object.defineProperty&&(Object.defineProperty=function(a,b,c){c.get&&a.__defineGetter__(b,c.get);c.set&&a.__defineSetter__(b,c.set)});Object.prototype.__lookupGetter__&&!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(a,b){return{get:a.__lookupGetter__(b),set:a.__lookupSetter__(b)}});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__});Object.isFrozen||(Object.isFrozen=function(a){return a.vE===h});
Object.freeze||(Object.freeze=function(a){a.vE=h});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b});
for(var ga=0,ha=["ms","moz","webkit","o"],ia=0;ia<ha.length&&!window.requestAnimationFrame;++ia)window.requestAnimationFrame=window[ha[ia]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ha[ia]+"CancelAnimationFrame"]||window[ha[ia]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(0,16-(b-ga)),d=window.setTimeout(function(){a(b+c)},c);ga=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});
var t={vr:p,aC:p,$B:p,OF:p,Wy:p,sC:p,pH:p,trace:function(a){window&&window.console&&window.console.log(a)},pB:p,assert:function(a,b){if(!a&&t.pB)throw window&&(window.console&&window.console.log(b),window.alert(b)),Error(b);},Cr:n,XB:function(a,b){a===f&&(a=t.Cr);b===f&&(b=a.bj("").nb);var c=b.length,d=a.ma.getContext("2d");d.fillStyle="rgba(255,255,0,.3)";for(var e=0;e<c;e++){var g=b.R(e),i=g.pa;if(g.oa!==n)t.XB(a,g.oa);else{var j=g.sj.copy();j.DG(g.ud);d.save();d.transform(j.m11,j.m12,j.m21,j.m22,
j.Na,j.Oa);d.fillRect(i.x,i.y,i.width,i.height);d.restore()}}},YB:function(a,b){a||(a=t.Cr);b||(b=a.bj("").nb);var c=a.ma.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=b.R(e),i=g.qa,j=g.sj;g.oa!==n?t.YB(a,g.oa):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.Na,j.Oa),c.fillRect(i.x,i.y,i.width,i.height),c.restore())}},JF:function(a,b){a||(a=t.Cr);b||(b=a.bj("").nb);var c=a.ma.getContext("2d"),d=b.length;c.fillStyle="rgba(0,0,255,.3)";for(var e=0;e<d;e++){var g=
b.R(e),i=g.ua,j=g.sj;g.oa!==n?t.JF(a,g.oa):(c.save(),c.transform(j.m11,j.m12,j.m21,j.m22,j.Na,j.Oa),c.fillRect(i.x||0,i.y||0,i.width,i.height),c.restore())}},LI:function(){t.YB();t.XB()},MI:function(a){a||(a=t.Cr);var b=a.oc,a=a.ma.getContext("2d");a.strokeStyle="rgba(0,255,0,.9)";a.strokeRect(b.x,b.y,b.width,b.height)},KF:function(a,b){a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.5)";a.strokeRect(b.lb.x,b.lb.y,b.lb.width,b.lb.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.Qd!==f&&(a.lineWidth=b.Qd);
b.Y!==n&&b.Y.type===ja&&(a.lineWidth=1,a.strokeStyle="rgba(10,200,10,.6)",b.stroke!==f&&(a.strokeStyle=b.stroke),b.Qd!==f&&(a.lineWidth=b.Qd))},LF:function(a,b){a.lineWidth=1;a.strokeStyle="rgba(0,0,255,.5)";a.strokeRect(b.qa.x,b.qa.y,b.qa.width,b.qa.height);b.stroke!==f&&(a.strokeStyle=b.stroke);b.Qd!==f&&(a.lineWidth=b.Qd)},ZB:function(a,b){for(var c=b.Cb.length,d=0;d<c;d++)for(var e=b.Cb.R(d),g=e.nb.length,i=0;i<g;i++){var j=e.nb.R(i);if(j.location!==f&&j.location!==n){if(j.location.ca()){var k=
j.location.x,l=j.location.y;a.beginPath();a.strokeStyle="limegreen";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+10,l+20);a.stroke()}k=j.position.x;l=j.position.y;a.beginPath();a.strokeStyle="red";a.lineWidth=2;a.moveTo(k,l+6);a.lineTo(k,l);a.lineTo(k+6,l);a.moveTo(k,l);a.lineTo(k+20,l+10);a.stroke()}}},MF:function(a,b,c,d,e){a.fillStyle="rgba(0,255,0,.2)";a.fillRect(b,c,d,e)},NF:function(a,b,c){a.save();var d=b.ud;d.reset();1!==b.Jb&&d.scale(b.Jb);b=b.ob;(0!==
b.x||0!==b.y)&&d.translate(-b.x,-b.y);a.setTransform(d.m11,d.m12,d.m21,d.m22,d.Na,d.Oa);c=c.wc.i;d=c.length;for(b=0;b<d;b++){var e=c[b];a.beginPath();a.moveTo(e.x-4,e.y);a.lineTo(e.x+4,e.y);a.moveTo(e.x,e.y-4);a.lineTo(e.x,e.y+4);a.lineWidth=2;a.strokeStyle="rgba(255,0,0,.9)";a.stroke()}a.restore()},GI:function(a){a||(a=t.Cr);for(a=a.Vn;a.next();)t.trace(a.value.toString())},lK:function(a,b){var c=b.Ng(a),d=b.lc;d.Gc=b.wo(c);d.D=c;return ka(b,d,a)},gK:function(a,b){b.Yc(a.D)&&(b.Dg.fillStyle="lime",
b.Dg.Pk="lime",b.Dg.fillRect(a.Gc.x,a.Gc.y,1*b.scale,1*b.scale))},hK:function(a){var b=la(a,p,n);if(!b.Pl)for(var a=a.Dg,c=0;c<=b.kn;c++)for(var d=0;d<=b.ln;d++){var e=b.Ib[c][d];if(e!==na){var g=c*b.nd+b.eg,i=d*b.ad+b.fg;0!==e&&(a.fillStyle="rgba(255, 0, 0, .2)",a.fillRect(g,i,b.nd,b.ad));e>=oa||(e%=10,a.fillStyle="blue",a.fillText(e.toString(),g,i+b.ad))}}}};fa.Debug=t;
var v={Ew:{},bA:0,uE:{},cu:document.createElement("canvas").getContext("2d"),du:"",Ex:[],St:n,Vz:[],tx:"ontouchstart"in window,TA:"ongesturestart"in window,Tz:p,g:function(a){t&&t.pB&&alert(a);throw Error(a);},u:function(a,b){if(a.Sa){var c="The object is frozen, so its properties cannot be set: "+a.toString();b!==f&&(c+="  to value: "+b);v.g(c)}},c:function(a,b,c,d){a instanceof b||(c=v.rh(c),d!==f&&(c+="."+d),v.Fc(a,b,c))},e:function(a,b,c,d){typeof a!==b&&(c=v.rh(c),d!==f&&(c+="."+d),v.Fc(a,b,
c))},j:function(a,b,c){isFinite(a)||(b=v.rh(b),c!==f&&(b+="."+c),v.g(b+" must be a real number and not NaN or Infinity: "+a))},Za:function(a,b,c,d){if(!(a instanceof pa)||a.Vd!==b)c=v.rh(c),d!==f&&(c+="."+d),v.Fc(a,"a constant of class "+v.dj(b),c)},Fc:function(a,b,c,d){b=v.rh(b);c=v.rh(c);d!==f&&(c+="."+d);v.g(c+" value is not an instance of "+b+": "+a)},ha:function(a,b,c,d){c=v.rh(c);d!==f&&(c+="."+d);v.g(c+" is not in the range "+b+": "+a)},trace:function(a){window&&window.console&&window.console.log(a);
t&&t.pH&&v.g(a)},Ua:function(a){return"object"===typeof a&&a!==n},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},Cu:function(a,b,c){v.isArray(a)||v.Fc(a,"Array or NodeList or HTMLCollection",b,c)},Kb:function(a){return a.length},wb:function(a,b){return a[b]},lF:function(a,b,c){Array.isArray(a)?a[b]=c:v.g("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Sx:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=
0;d<c;d++)if(a[d]===b)return d;return-1},ai:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):v.g("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},bi:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):v.g("Cannot remove an object from an HTMLCollection or NodeList at "+b)},Ez:1,Tb:function(a){a.__gohashid=v.Ez++},Rn:function(a){var b=a.__gohashid;b===f&&(b=v.Ez++,a.__gohashid=b);return b},qc:function(a){return a.__gohashid},a:function(a,
b,c){"name"!==b&&"length"!==b&&(a[b]=c)},J:function(a,b){b.Kz=a;fa[a]=b},va:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},defineProperty:function(a,b,c,d,e){v.e(a,"function","Util.defineProperty:classfunc");v.e(b,"object","Util.defineProperty:propname");v.e(c,"function","Util.defineProperty:getter");v.e(d,"function","Util.defineProperty:setter");c={get:c,set:d};if(e!==f)for(var g in e)c[g]=e[g];for(var i in b)Object.defineProperty(a.prototype,i,c),
e=Object.getOwnPropertyDescriptor(a.prototype,i),b[i]&&e&&Object.defineProperty(a.prototype,b[i],e)},m:function(a,b,c,d){v.e(a,"function","Util.defineReadOnlyProperty:classfunc");v.e(b,"object","Util.defineReadOnlyProperty:propname");v.e(c,"function","Util.defineReadOnlyProperty:getter");c={get:c,set:function(a){v.g("The property "+b+" is read-only and cannot be set to "+a)}};if(d!==f)for(var e in d)c[e]=d[e];for(var g in b)Object.defineProperty(a.prototype,g,c),d=Object.getOwnPropertyDescriptor(a.prototype,
g),b[g]&&d&&Object.defineProperty(a.prototype,b[g],d)},yf:function(a,b){for(var c in b)b[c]=h;a.prototype.zE=b},rh:function(a){return a===f?"":"string"===typeof a?a:"function"===typeof a?v.dj(a):a===n?"*":""},dj:function(a){return"function"===typeof a?a.Kz:"object"===typeof a&&a.constructor?a.constructor.Kz:typeof a},l:function(a,b,c){v.e(a,"function","Util.defineEnumValue:classfunc");v.e(b,"string","Util.defineEnumValue:name");v.e(c,"number","Util.defineEnumValue:num");c=new pa(a,b,c);Object.freeze(c);
a[b]=c;var d=a.Dz;d||(d=new ra("string",pa),a.Dz=d);d.add(b,c);return c},Jl:function(a,b){if(!b)return n;v.e(a,"function","Util.findEnumValueForName:classfunc");v.e(b,"string","Util.findEnumValueForName:name");var c=a.Dz;return!c?n:c.ga(b)},tF:function(a,b,c,d){var e={},g;for(g in a){for(var i=p,j=1;j<arguments.length;j++)if(arguments[j]===g){i=h;break}i||(e[g]=a[g])}return e},cb:function(a,b){if(!a||!b)return n;var c=f;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),
c===n&&(c=f)):c=a[b]}catch(d){t&&v.trace("property get error: "+d.toString())}return c},jb:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,c):a[b]=c}catch(d){t&&v.trace("property set error: "+d.toString())}},hz:function(a,b){v.e(a,"object","Setting properties requires Objects as arguments");v.e(b,"object","Setting properties requires Objects as arguments");b.constructor!==Object&&v.g("Properties must be on a plain Object, not: "+b.toString());
var c=t;c||(t=v);var d=a instanceof w,e;for(e in b){var g=a,i=e;if(d){var j=e.indexOf(".");if(0<j){var k=e.substring(0,j),g=a.Ve(k);g!==n?i=e.substr(j+1):v.g("Unable to find object named: "+k+" in panel "+a.toString()+" when trying to set property: "+e)}}"_"!==i[0]&&!v.yy(g,i)&&v.g('Trying to set undefined property "'+i+'" on object: '+g.toString());g[i]=b[e];"_"===i[0]&&(j=g.Wk,j||(j=[],g.Wk=j),j.push(i))}t=c;return a},yy:function(a,b){for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return h;
var d=c.zE;if(d&&d[b])return h;c=Object.getPrototypeOf(c)}return p},tB:function(a,b){if(!v.Ua(b)||b instanceof Element||b instanceof CanvasRenderingContext2D)return"";var c="",d;for(d in b)if("string"!==typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=v.cb(b,d);e!==n&&("function"!==typeof e&&!v.yy(b,d))&&(""===c&&(c=b+"\n"),c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n")}return c},Ks:function(a,b){if(b&&!("number"===
typeof b||"string"===typeof b||"boolean"===typeof b||"function"===typeof b))if(v.qc(b)!==f){if(!v.$t.contains(b))if(v.$t.add(b),v.At.add(v.tB(a,b)),b instanceof z||b instanceof va||b instanceof ra)for(var c=b.f;c.next();)v.Ks(a+"["+c.key+"]",c.value);else for(c in b){var d=v.cb(b,c);if(!(d===f||d===n||!v.Ua(d))&&"_ownProperties"!==c){if(b instanceof xa){if("_lines"===c)continue}else if(b instanceof w){if("data"===c||"_data"===c)continue;if("itemArray"===c||"_itemArray"===c)continue}else if(!(b instanceof
A))if(b instanceof ya){if("archetypeGroupData"===c||"_archetypeGroupData"===c)continue}else if(b instanceof Aa){if("archetypeLinkData"===c||"_archetypeLinkData"===c)continue;if("archetypeLabelNodeData"===c||"_archetypeLabelNodeData"===c)continue}else if(b instanceof Ca){if("archetypeNodeData"===c||"_archetypeNodeData"===c)continue}else if(b instanceof B){if("nodeDataArray"===c||"_nodeDataArray"===c)continue;if("linkDataArray"===c||"_linkDataArray"===c||"_linkDataSet"===c)continue;if("_mapKeyNodeData"===
c||"_delayedNodeReferences"===c)continue}v.Ks(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)v.Ks(a+"["+c+"]",b[c]);else v.At.add(v.tB(a,b))},oF:function(a){v.$t===f?v.$t=new va:v.$t.clear();v.At=new Ea;v.Ks("",a);a=v.At.toString();v.At=n;return a},NG:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,g="",i=0;i<a.length;i++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,g+=String.fromCharCode(a.charCodeAt(i)^
b[(b[c]+b[d])%256]);return g},cG:function(a){for(var b=[],c=0;256>c;c++)b["0123456789abcdef".charAt(c>>4)+"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Fa:function(a){return v.NG(v.cG(a))},Bv:n,Ox:"7da71ca0ad381e90",pF:"@COLOR1",qF:"@COLOR2"},Fa=v,Ha=document.createElement("canvas"),Ia=Ha.getContext("2d");Ia[v.Fa("7ca11abfd022028846")]=v.Fa("398c3597c01238");
for(var Ja=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22462913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],Ka=1;5>Ka;Ka++)Ia[v.Fa("7ca11abfd7330390")](v.Fa(Ja[Ka-1]),10,15*Ka+0);Ia[v.Fa("7ca11abfd022028846")]=v.Fa("39f046ebb36e4b");for(Ka=1;5>Ka;Ka++)Ia[v.Fa("7ca11abfd7330390")](v.Fa(Ja[Ka-1]),10,15*Ka+0);Fa.Bv=Ha;function pa(a,b,c){v.Tb(this);this.Jz=a;this.Db=b;this.GE=c}
pa.prototype.toString=function(){return v.dj(this.Jz)+"."+this.Db};v.m(pa,{Vd:"classType"},s("Jz"));v.m(pa,{name:"name"},s("Db"));v.m(pa,{value:"value"},s("GE"));function Ea(){this.kw=[];this.Qj=0;this.VA="  "}Ea.prototype.toString=function(){return this.kw.join("")};Ea.prototype.add=function(a){a&&this.kw.push(a)};function La(a){a.Qj--;0>a.Qj&&(a.Qj=0)}function Ma(a){for(var b="\n",c=a.Qj;0<c;c--)b+=a.VA;a.kw.push(b)}function Na(){}v.m(Na,{f:"iterator"},function(){return this});
Na.prototype.reset=Na.prototype.reset=aa();Na.prototype.next=Na.prototype.next=ca(p);Na.prototype.first=Na.prototype.yb=ca(n);v.m(Na,{count:"count"},ca(0));Na.prototype.Yf=aa();Na.prototype.toString=ca("EmptyIterator");v.Pf=new Na;function Pa(a){this.key=-1;this.value=a}v.yf(Pa,{key:h,value:h});v.m(Pa,{f:"iterator"},function(){return this});Pa.prototype.reset=Pa.prototype.reset=function(){this.key=-1};Pa.prototype.next=Pa.prototype.next=function(){return-1===this.key?(this.key=0,h):p};
Pa.prototype.first=Pa.prototype.yb=function(){this.key=0;return this.value};v.m(Pa,{count:"count"},ca(1));Pa.prototype.Yf=function(){this.value=n};Pa.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function Qa(a){this.De=a;this.Um=n;this.reset()}v.yf(Qa,{key:h,value:h});v.m(Qa,{f:"iterator"},function(){return this});v.a(Qa,"predicate",Qa.prototype.jv);v.defineProperty(Qa,{jv:"predicate"},s("Um"),ba("Um"));
Qa.prototype.reset=Qa.prototype.reset=function(){var a=this.De;a.Qg=n;this.Qa=a.Ab;this.U=-1};Qa.prototype.next=Qa.prototype.next=function(){var a=this.De;a.Ab!==this.Qa&&v.g("the List has been modified during iteration");var a=a.i,b=a.length,c=++this.U,d=this.Um;if(d!==n)for(;c<b;){var e=a[c];if(d(e))return this.key=this.U=c,this.value=e,h;c++}else{if(c<b)return this.key=c,this.value=a[c],h;this.Yf()}return p};
Qa.prototype.first=Qa.prototype.yb=function(){var a=this.De;this.Qa=a.Ab;this.U=0;var a=a.i,b=a.length,c=this.Um;if(c!==n)for(var d=0;d<b;){var e=a[d];if(c(e))return this.key=this.U=d,this.value=e;d++}else return 0<b?(e=a[0],this.key=0,this.value=e):n};v.m(Qa,{count:"count"},function(){var a=this.Um;if(a!==n){for(var b=0,c=this.De.i,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.De.i.length});Qa.prototype.Yf=function(){this.key=-1;this.value=n;this.Qa=-1;this.Um=n;this.De.Qg=this};
Qa.prototype.toString=function(){return"ListIterator@"+this.U+"/"+this.De.count};function Va(a){this.De=a;this.reset()}v.yf(Va,{key:h,value:h});v.m(Va,{f:"iterator"},function(){return this});Va.prototype.reset=Va.prototype.reset=function(){var a=this.De;a.Rw=n;this.Qa=a.Ab;this.U=a.i.length};Va.prototype.next=Va.prototype.next=function(){var a=this.De;a.Ab!==this.Qa&&v.g("the List has been modified during iteration");var b=--this.U;if(0<=b)return this.key=b,this.value=a.i[b],h;this.Yf();return p};
Va.prototype.first=Va.prototype.yb=function(){var a=this.De;this.Qa=a.Ab;var b=a.i;this.U=a=b.length-1;return 0<=a?(b=b[a],this.key=a,this.value=b):n};v.m(Va,{count:"count"},function(){return this.De.i.length});Va.prototype.Yf=function(){this.key=-1;this.value=n;this.Qa=-1;this.De.Rw=this};Va.prototype.toString=function(){return"ListIteratorBackwards("+this.U+"/"+this.De.count+")"};
function z(a){v.Tb(this);this.Sa=p;this.i=[];this.Ab=0;this.Rw=this.Qg=n;a===f||a===n?this.M=n:"string"===typeof a?"string"===a||"number"===a||"boolean"===a||"function"===a?this.M=a:v.ha(a,"the string 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.M=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:v.ha(a,"null, a primitive type name, or a class type","List constructor: type")}
v.J("List",z);z.prototype.Tf=function(a){this.M!==n&&("string"===typeof this.M?(typeof a!==this.M||a===n)&&v.Fc(a,this.M):a instanceof this.M||v.Fc(a,this.M))};z.prototype.gd=function(){var a=this.Ab;a++;999999999<a&&(a=0);this.Ab=a};z.prototype.freeze=z.prototype.freeze=function(){this.Sa=h;return this};z.prototype.thaw=z.prototype.wa=function(){this.Sa=p;return this};z.prototype.toString=function(){return"List("+v.rh(this.M)+")#"+v.qc(this)};
z.prototype.add=z.prototype.add=function(a){a!==n&&(t&&this.Tf(a),v.u(this,a),this.i.push(a),this.gd())};z.prototype.addAll=z.prototype.og=function(a){if(a===n)return this;v.u(this);var b=this.i;if(v.isArray(a))for(var c=v.Kb(a),d=0;d<c;d++){var e=v.wb(a,d);t&&this.Tf(e);b.push(e)}else for(a=a.f;a.next();)e=a.value,t&&this.Tf(e),b.push(e);this.gd();return this};z.prototype.clear=z.prototype.clear=function(){v.u(this);this.i=[];this.gd()};
z.prototype.contains=z.prototype.contains=function(a){if(a===n)return p;t&&this.Tf(a);return-1!==this.i.indexOf(a)};z.prototype.indexOf=z.prototype.indexOf=function(a){if(a===n)return-1;t&&this.Tf(a);return this.i.indexOf(a)};z.prototype.elt=z.prototype.R=function(a){t&&v.j(a,z,"elt:i");var b=this.i;(0>a||a>=b.length)&&v.ha(a,"0 <= i < length",z,"elt:i");return b[a]};
z.prototype.setElt=z.prototype.qv=function(a,b){t&&(this.Tf(b),v.j(a,z,"setElt:i"));var c=this.i;(0>a||a>=c.length)&&v.ha(a,"0 <= i < length",z,"setElt:i");v.u(this,a);c[a]=b};z.prototype.first=z.prototype.yb=function(){var a=this.i;return 0===a.length?n:a[0]};z.prototype.insertAt=z.prototype.rc=function(a,b){t&&(this.Tf(b),v.j(a,z,"insertAt:i"));0>a&&v.ha(a,">= 0",z,"insertAt:i");v.u(this,a);var c=this.i;a>=c.length?c.push(b):c.splice(a,0,b);this.gd();return h};
z.prototype.remove=z.prototype.remove=function(a){if(a===n)return p;t&&this.Tf(a);v.u(this,a);var b=this.i,a=b.indexOf(a);if(-1===a)return p;a===b.length-1?b.pop():b.splice(a,1);this.gd();return h};z.prototype.removeAt=z.prototype.ue=function(a){t&&v.j(a,z,"removeAt:i");var b=this.i;(0>a||a>=b.length)&&v.ha(a,"0 <= i < length",z,"removeAt:i");v.u(this,a);a===b.length-1?b.pop():b.splice(a,1);this.gd()};
z.prototype.removeRange=z.prototype.removeRange=function(a,b){t&&(v.j(a,z,"removeRange:from"),v.j(b,z,"removeRange:to"));var c=this.i;(0>a||a>=c.length)&&v.ha(a,"0 <= from < length",z,"elt:from");(0>b||b>=c.length)&&v.ha(b,"0 <= to < length",z,"elt:to");v.u(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.gd()};z.prototype.copy=z.prototype.copy=function(){for(var a=new z(this.M),b=this.i,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};
z.prototype.toArray=z.prototype.Of=function(){for(var a=[],b=this.i,c=this.count,d=0;d<c;d++)a.push(b[d]);return a};z.prototype.toSet=z.prototype.mH=function(){for(var a=new va(this.M),b=this.i,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};z.prototype.sort=z.prototype.sort=function(a){t&&v.e(a,"function",z,"sort:sortfunc");v.u(this);this.i.sort(a);this.gd();return this};
z.prototype.sortRange=z.prototype.to=function(a,b,c){var d=this.i,e=d.length;b===f&&(b=0);c===f&&(c=e);t&&(v.e(a,"function",z,"sortRange:sortfunc"),v.j(b,z,"sortRange:from"),v.j(c,z,"sortRange:to"));v.u(this);var g=c-b;if(1>=g)return this;(0>b||b>=e-1)&&v.ha(b,"0 <= from < length",z,"sortRange:from");if(2===g)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.gd()),this;if(0===b)if(c>=e)d.sort(a);else{g=d.slice(0,c);g.sort(a);for(a=0;a<c;a++)d[a]=g[a]}else if(c>=e){g=d.slice(b);g.sort(a);for(a=
b;a<e;a++)d[a]=g[a-b]}else{g=d.slice(b,c);g.sort(a);for(a=b;a<c;a++)d[a]=g[a-b]}this.gd();return this};z.prototype.reverse=z.prototype.reverse=function(){v.u(this);this.i.reverse();this.gd();return this};v.m(z,{count:"count"},function(){return this.i.length});v.m(z,{length:"length"},function(){return this.i.length});v.m(z,{f:"iterator"},function(){if(0>=this.i.length)return v.Pf;var a=this.Qg;return a!==n?(a.reset(),a):new Qa(this)});
v.m(z,{Un:"iteratorBackwards"},function(){if(0>=this.i.length)return v.Pf;var a=this.Rw;return a!==n?(a.reset(),a):new Va(this)});function Wa(a){this.Ed=a;this.reset()}v.yf(Wa,{key:h,value:h});v.m(Wa,{f:"iterator"},function(){return this});Wa.prototype.reset=Wa.prototype.reset=function(){var a=this.Ed;a.Qg=n;this.Qa=a.Ab;this.qd=n};
Wa.prototype.next=Wa.prototype.next=function(){var a=this.Ed;a.Ab!==this.Qa&&v.g("the Set has been modified during iteration");var b=this.qd,b=b===n?a.Od:b.Ji;if(b!==n)return this.qd=b,this.value=b.value,this.key=b.key,h;this.Yf();return p};Wa.prototype.first=Wa.prototype.yb=function(){var a=this.Ed;this.Qa=a.Ab;a=a.Od;if(a!==n){this.qd=a;var b=a.value;this.key=a.key;return this.value=b}return n};v.m(Wa,{count:"count"},function(){return this.Ed.de});
Wa.prototype.Yf=function(){this.value=n;this.Qa=-1;this.Ed.Qg=this};Wa.prototype.toString=function(){return this.qd!==n?"SetIterator@"+this.qd.value:"SetIterator"};
function va(a){v.Tb(this);this.Sa=p;a===f||a===n?this.M=n:"string"===typeof a?"string"===a||"number"===a?this.M=a:v.ha(a,"the string 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.M=a===Object?"object":a===String?"string":a===Number?"number":a:v.ha(a,"null, a primitive type name, or a class type","Set constructor: type");this.uc={};this.de=0;this.Qg=n;this.Ab=0;this.Rg=this.Od=n}v.J("Set",va);
va.prototype.Tf=function(a){this.M!==n&&("string"===typeof this.M?(typeof a!==this.M||a===n)&&v.Fc(a,this.M):a instanceof this.M||v.Fc(a,this.M))};va.prototype.gd=function(){var a=this.Ab;a++;999999999<a&&(a=0);this.Ab=a};va.prototype.freeze=va.prototype.freeze=function(){this.Sa=h;return this};va.prototype.thaw=va.prototype.wa=function(){this.Sa=p;return this};va.prototype.toString=function(){return"Set("+v.rh(this.M)+")#"+v.qc(this)};
va.prototype.add=va.prototype.add=function(a){if(a===n)return p;t&&this.Tf(a);v.u(this,a);var b=a;v.Ua(a)&&(b=v.Rn(a));return this.uc[b]===f?(this.de++,a=new Ya(a,a),this.uc[b]=a,b=this.Rg,b===n?this.Od=a:(a.Vm=b,b.Ji=a),this.Rg=a,this.gd(),h):p};va.prototype.addAll=va.prototype.og=function(a){if(a===n)return this;v.u(this);if(v.isArray(a))for(var b=v.Kb(a),c=0;c<b;c++)this.add(v.wb(a,c));else for(a=a.f;a.next();)this.add(a.value);return this};
va.prototype.contains=va.prototype.contains=function(a){if(a===n)return p;t&&this.Tf(a);var b=a;return v.Ua(a)&&(b=v.qc(a),b===f)?p:this.uc[b]!==f};va.prototype.containsAll=va.prototype.vI=function(a){if(a===n)return h;for(a=a.f;a.next();)if(!this.contains(a.value))return p;return h};va.prototype.containsAny=va.prototype.wI=function(a){if(a===n)return h;for(a=a.f;a.next();)if(this.contains(a.value))return h;return p};va.prototype.first=va.prototype.yb=function(){var a=this.Od;return a===n?n:a.value};
va.prototype.remove=va.prototype.remove=function(a){if(a===n)return p;t&&this.Tf(a);v.u(this,a);var b=a;if(v.Ua(a)&&(b=v.qc(a),b===f))return p;a=this.uc[b];if(a===f)return p;var c=a.Ji,d=a.Vm;c!==n&&(c.Vm=d);d!==n&&(d.Ji=c);this.Od===a&&(this.Od=c);this.Rg===a&&(this.Rg=d);delete this.uc[b];this.de--;this.gd();return h};va.prototype.removeAll=va.prototype.rK=function(a){if(a===n)return this;v.u(this);for(a=a.f;a.next();)this.remove(a.value);return this};
va.prototype.retainAll=va.prototype.zK=function(a){if(a===n||0===this.count)return this;v.u(this);var b=new va(this.M);b.og(a);for(var a=new z(this.M),c=this.f;c.next();)b.contains(c.value)||a.add(c.value);for(b=a.f;b.next();)this.remove(b.value);return this};va.prototype.clear=va.prototype.clear=function(){v.u(this);this.uc={};this.de=0;this.Rg=this.Od=n;this.gd()};va.prototype.copy=va.prototype.copy=function(){var a=new va(this.M),b=this.uc,c;for(c in b)a.add(b[c].value);return a};
va.prototype.toArray=va.prototype.Of=function(){var a=[],b=this.uc,c;for(c in b)a.push(b[c].value);return a};va.prototype.toList=va.prototype.lH=function(){var a=new z(this.M),b=this.uc,c;for(c in b)a.add(b[c]);return a};v.m(va,{count:"count"},s("de"));v.m(va,{f:"iterator"},function(){if(0>=this.de)return v.Pf;var a=this.Qg;return a!==n?(a.reset(),a):new Wa(this)});function Za(a){this.Lc=a;this.reset()}v.yf(Za,{key:h,value:h});v.m(Za,{f:"iterator"},function(){return this});
Za.prototype.reset=Za.prototype.reset=function(){this.Qa=this.Lc.Ab;this.qd=n};Za.prototype.next=Za.prototype.next=function(){var a=this.Lc;a.Ab!==this.Qa&&v.g("the Map has been modified during iteration");var b=this.qd,b=b===n?a.Od:b.Ji;if(b!==n)return this.qd=b,this.value=b.key,h;this.Yf();return p};Za.prototype.first=Za.prototype.yb=function(){var a=this.Lc;this.Qa=a.Ab;a=a.Od;if(a!==n){this.qd=a;var b=a.value;this.key=a.key;return this.value=b}return n};v.m(Za,{count:"count"},function(){return this.Lc.de});
Za.prototype.Yf=function(){this.value=n;this.Qa=-1};Za.prototype.toString=function(){return this.qd!==n?"MapKeySetIterator@"+this.qd.value:"MapKeySetIterator"};function bb(a){v.Tb(this);this.Lc=a}v.va(bb,va);bb.prototype.freeze=function(){return this};bb.prototype.wa=function(){return this};bb.prototype.toString=function(){return"MapKeySet("+this.Lc.toString()+")"};bb.prototype.add=bb.prototype.add=function(){v.g("This Set is read-only: "+this.toString());return p};
bb.prototype.contains=bb.prototype.contains=function(a){return this.Lc.contains(a)};bb.prototype.remove=bb.prototype.remove=function(){v.g("This Set is read-only: "+this.toString());return p};bb.prototype.clear=bb.prototype.clear=function(){v.g("This Set is read-only: "+this.toString())};bb.prototype.copy=bb.prototype.copy=function(){return new bb(this.Lc)};bb.prototype.toSet=bb.prototype.mH=function(){var a=new va(this.Lc.M),b=this.Lc.uc,c;for(c in b)a.add(b[c].key);return a};
bb.prototype.toArray=bb.prototype.Of=function(){var a=[],b=this.Lc.uc,c;for(c in b)a.push(b[c].key);return a};bb.prototype.toList=bb.prototype.lH=function(){var a=new z(this.M),b=this.Lc.uc,c;for(c in b)a.add(b[c].key);return a};v.m(bb,{count:"count"},function(){return this.Lc.de});v.m(bb,{f:"iterator"},function(){return 0>=this.Lc.de?v.Pf:new Za(this.Lc)});function Ya(a,b){this.key=a;this.value=b;this.Vm=this.Ji=n}v.yf(Ya,{key:h,value:h});
Ya.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function cb(a){this.Lc=a;this.reset()}v.yf(cb,{key:h,value:h});v.m(cb,{f:"iterator"},function(){return this});cb.prototype.reset=cb.prototype.reset=function(){var a=this.Lc;a.Qg=n;this.Qa=a.Ab;this.qd=n};
cb.prototype.next=cb.prototype.next=function(){var a=this.Lc;a.Ab!==this.Qa&&v.g("the Map has been modified during iteration");var b=this.qd,b=b===n?a.Od:b.Ji;if(b!==n)return this.qd=b,this.key=b.key,this.value=b.value,h;this.Yf();return p};cb.prototype.first=cb.prototype.yb=function(){var a=this.Lc;this.Qa=a.Ab;a=a.Od;if(a!==n){this.qd=a;var b=a.key;this.key=b;this.value=a.value;return b}return n};v.m(cb,{count:"count"},function(){return this.Lc.de});
cb.prototype.Yf=function(){this.value=this.key=n;this.Qa=-1;this.Lc.Qg=this};cb.prototype.toString=function(){return this.qd!==n?"MapIterator@"+this.qd:"MapIterator"};
function ra(a,b){v.Tb(this);this.Sa=p;a===f||a===n?this.Jh=n:"string"===typeof a?"string"===a||"number"===a?this.Jh=a:v.ha(a,"the string 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.Jh=a===Object?"object":a===String?"string":a===Number?"number":a:v.ha(a,"null, a primitive type name, or a class type","Map constructor: keytype");b===f||b===n?this.Xh=n:"string"===typeof b?"string"===b||"boolean"===b||"number"===b||"function"===b?this.Xh=b:v.ha(b,"the string 'number', 'string', 'boolean', or 'function'",
"Map constructor: valtype"):"function"===typeof b?this.Xh=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:v.ha(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.uc={};this.de=0;this.Qg=n;this.Ab=0;this.Rg=this.Od=n}v.J("Map",ra);function eb(a,b){a.Jh!==n&&("string"===typeof a.Jh?(typeof b!==a.Jh||b===n)&&v.Fc(b,a.Jh):b instanceof a.Jh||v.Fc(b,a.Jh))}
ra.prototype.gd=function(){var a=this.Ab;a++;999999999<a&&(a=0);this.Ab=a};ra.prototype.freeze=ra.prototype.freeze=function(){this.Sa=h;return this};ra.prototype.thaw=ra.prototype.wa=function(){this.Sa=p;return this};ra.prototype.toString=function(){return"Map("+v.rh(this.Jh)+","+v.rh(this.Xh)+")#"+v.qc(this)};
ra.prototype.add=ra.prototype.add=function(a,b){t&&(eb(this,a),this.Xh!==n&&("string"===typeof this.Xh?(typeof b!==this.Xh||b===n)&&v.Fc(b,this.Xh):b instanceof this.Xh||v.Fc(b,this.Xh)));v.u(this,a);var c=a;v.Ua(a)&&(c=v.Rn(a));var d=this.uc[c];if(d===f)return this.de++,d=new Ya(a,b),this.uc[c]=d,c=this.Rg,c===n?this.Od=d:(d.Vm=c,c.Ji=d),this.Rg=d,this.gd(),h;d.value=b;return p};
ra.prototype.addAll=ra.prototype.og=function(a){if(a===n)return this;t&&v.c(a,ra,ra,"addAll:map");for(a=a.f;a.next();)this.add(a.key,a.value);return this};ra.prototype.contains=ra.prototype.contains=function(a){t&&eb(this,a);var b=a;return v.Ua(a)&&(b=v.qc(a),b===f)?p:this.uc[b]!==f};ra.prototype.getValue=ra.prototype.ga=function(a){t&&eb(this,a);var b=a;if(v.Ua(a)&&(b=v.qc(a),b===f))return n;a=this.uc[b];return a===f?n:a.value};
ra.prototype.remove=ra.prototype.remove=function(a){if(a===n)return p;t&&eb(this,a);v.u(this,a);var b=a;if(v.Ua(a)&&(b=v.qc(a),b===f))return p;a=this.uc[b];if(a===f)return p;var c=a.Ji,d=a.Vm;c!==n&&(c.Vm=d);d!==n&&(d.Ji=c);this.Od===a&&(this.Od=c);this.Rg===a&&(this.Rg=d);delete this.uc[b];this.de--;this.gd();return h};ra.prototype.clear=ra.prototype.clear=function(){v.u(this);this.uc={};this.de=0;this.Rg=this.Od=n;this.gd()};
ra.prototype.copy=ra.prototype.copy=function(){var a=new ra(this.Jh,this.Xh),b=this.uc,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};ra.prototype.toArray=ra.prototype.Of=function(){var a=[],b=this.uc,c;for(c in b){var d=b[c];a.push(new Ya(d.key,d.value))}return a};ra.prototype.toKeySet=ra.prototype.qj=function(){return new bb(this)};v.m(ra,{count:"count"},s("de"));v.m(ra,{f:"iterator"},function(){if(0>=this.count)return v.Pf;var a=this.Qg;return a!==n?(a.reset(),a):new cb(this)});
function D(a,b){a===f?this.s=this.r=0:"number"===typeof a&&"number"===typeof b?(this.r=a,this.s=b):v.g("Invalid arguments to Point constructor")}v.J("Point",D);D.prototype.Xa=function(a){t&&v.c(a,D,D,"assign:p");this.r=a.r;this.s=a.s};D.prototype.Ed=function(a,b){this.r=a;this.s=b};D.prototype.setTo=D.prototype.so=function(a,b){t&&(v.e(a,"number",D,"setTo:x"),v.e(b,"number",D,"setTo:y"));v.u(this);this.r=a;this.s=b;return this};
D.prototype.set=D.prototype.set=function(a){t&&v.c(a,D,D,"set:p");v.u(this);this.r=a.r;this.s=a.s;return this};D.prototype.copy=D.prototype.copy=function(){var a=new D;a.r=this.r;a.s=this.s;return a};D.prototype.Ra=function(){this.Sa=h;Object.freeze(this);return this};D.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};D.prototype.freeze=function(){this.Sa=h;return this};D.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;return this};
D.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new D(c,e)}return new D};var fb;D.stringify=fb=function(a){return a instanceof D?a.x.toString()+" "+a.y.toString():a.toString()};D.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};D.prototype.equals=D.prototype.z=function(a){return!(a instanceof D)?p:this.r===a.x&&this.s===a.y};
D.prototype.equalTo=D.prototype.ry=function(a,b){return this.r===a&&this.s===b};D.prototype.aj=function(a){return jb(this.r,a.x)&&jb(this.s,a.y)};D.prototype.ji=function(a){return kb(this.r,a.x)&&kb(this.s,a.y)};D.prototype.add=D.prototype.add=function(a){t&&v.c(a,D,D,"add:p");v.u(this);this.r+=a.x;this.s+=a.y;return this};D.prototype.subtract=D.prototype.ss=function(a){t&&v.c(a,D,D,"subtract:p");v.u(this);this.r-=a.x;this.s-=a.y;return this};
D.prototype.offset=D.prototype.offset=function(a,b){t&&(v.j(a,D,"offset:dx"),v.j(b,D,"offset:dy"));v.u(this);this.r+=a;this.s+=b;return this};D.prototype.rotate=D.prototype.rotate=function(a){t&&v.j(a,D,"rotate:angle");v.u(this);if(0===a)return this;var b=this.r,c=this.s;if(0===b&&0===c)return this;var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d);this.r=a*b-d*c;this.s=d*b+a*c;return this};
D.prototype.scale=D.prototype.scale=function(a,b){t&&(v.j(a,D,"scale:sx"),v.j(b,D,"scale:sy"));this.r*=a;this.s*=b;return this};D.prototype.distanceSquaredPoint=D.prototype.Yi=function(a){t&&v.c(a,D,D,"distanceSquaredPoint:p");var b=a.x-this.r,a=a.y-this.s;return b*b+a*a};D.prototype.distanceSquared=D.prototype.HI=function(a,b){t&&(v.j(a,D,"distanceSquared:px"),v.j(b,D,"distanceSquared:py"));var c=a-this.r,d=b-this.s;return c*c+d*d};
D.prototype.normalize=D.prototype.normalize=function(){v.u(this);var a=this.r,b=this.s,c=Math.sqrt(a*a+b*b);0<c&&(this.r=a/c,this.s=b/c);return this};D.prototype.directionPoint=D.prototype.fi=function(a){t&&v.c(a,D,D,"directionPoint:p");return lb(a.x-this.r,a.y-this.s)};D.prototype.direction=D.prototype.direction=function(a,b){t&&(v.j(a,D,"direction:px"),v.j(b,D,"direction:py"));return lb(a-this.r,b-this.s)};
function lb(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}D.prototype.setRectSpot=D.prototype.ro=function(a,b){t&&(v.c(a,E,D,"setRectSpot:r"),v.c(b,G,D,"setRectSpot:spot"));v.u(this);this.r=a.x+b.x*a.width+b.offsetX;this.s=a.y+b.y*a.height+b.offsetY;return this};
D.prototype.setSpot=D.prototype.$l=function(a,b,c,d,e){t&&(v.j(a,D,"setSpot:x"),v.j(b,D,"setSpot:y"),v.j(c,D,"setSpot:w"),v.j(d,D,"setSpot:h"),(0>c||0>d)&&v.g("Point.setSpot:Width and height cannot be negative"),v.c(e,G,D,"setSpot:spot"));v.u(this);this.r=a+e.x*c+e.offsetX;this.s=b+e.y*d+e.offsetY;return this};D.prototype.transform=function(a){t&&v.c(a,ob,D,"transform:t");a.Hb(this);return this};function pb(a,b){t&&v.c(b,ob,D,"transformInverted:t");b.mi(a);return a}var sb;
D.distanceLineSegmentSquared=sb=function(a,b,c,d,e,g){t&&(v.j(a,D,"distanceLineSegmentSquared:px"),v.j(b,D,"distanceLineSegmentSquared:py"),v.j(c,D,"distanceLineSegmentSquared:ax"),v.j(d,D,"distanceLineSegmentSquared:ay"),v.j(e,D,"distanceLineSegmentSquared:bx"),v.j(g,D,"distanceLineSegmentSquared:by"));var i=e-c,j=g-d,k=i*i+j*j,c=c-a,d=d-b,l=-c*i-d*j;if(0>=l||l>=k)return i=e-a,j=g-b,Math.min(c*c+d*d,i*i+j*j);a=i*d-j*c;return a*a/k};
D.distanceSquared=function(a,b,c,d){t&&(v.j(a,D,"distanceSquared:px"),v.j(b,D,"distanceSquared:py"),v.j(c,D,"distanceSquared:qx"),v.j(d,D,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var wb;
D.direction=wb=function(a,b,c,d){t&&(v.j(a,D,"direction:px"),v.j(b,D,"direction:py"),v.j(c,D,"direction:qx"),v.j(d,D,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};v.a(D,"x",D.prototype.x);v.defineProperty(D,{x:"x"},s("r"),function(a){v.u(this,a);t&&v.e(a,"number",D,"x");this.r=a});v.a(D,"y",D.prototype.y);
v.defineProperty(D,{y:"y"},s("s"),function(a){v.u(this,a);t&&v.e(a,"number",D,"y");this.s=a});D.prototype.isReal=D.prototype.ca=function(){return isFinite(this.x)&&isFinite(this.y)};function J(a,b){a===f?this.ea=this.fa=0:"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.fa=a,this.ea=b):v.g("Invalid arguments to Size constructor")}v.J("Size",J);J.prototype.Xa=function(a){t&&v.c(a,J,J,"assign:s");this.fa=a.fa;this.ea=a.ea};
J.prototype.Ed=function(a,b){this.fa=a;this.ea=b};J.prototype.setTo=J.prototype.so=function(a,b){t&&(v.e(a,"number",J,"setTo:w"),v.e(b,"number",J,"setTo:h"));0>a&&v.ha(a,">= 0",J,"setTo:w");0>b&&v.ha(b,">= 0",J,"setTo:h");v.u(this);this.fa=a;this.ea=b;return this};J.prototype.set=J.prototype.set=function(a){t&&v.c(a,J,J,"set:s");v.u(this);this.fa=a.fa;this.ea=a.ea;return this};J.prototype.copy=J.prototype.copy=function(){var a=new J;a.fa=this.fa;a.ea=this.ea;return a};
J.prototype.Ra=function(){this.Sa=h;Object.freeze(this);return this};J.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};J.prototype.freeze=function(){this.Sa=h;return this};J.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;return this};
J.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new J(c,e)}return new J};var xb;J.stringify=xb=function(a){return a instanceof J?a.width.toString()+" "+a.height.toString():a.toString()};J.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};
J.prototype.equals=J.prototype.z=function(a){return!(a instanceof J)?p:this.fa===a.width&&this.ea===a.height};J.prototype.equalTo=J.prototype.ry=function(a,b){return this.fa===a&&this.ea===b};J.prototype.aj=function(a){return jb(this.fa,a.width)&&jb(this.ea,a.height)};J.prototype.ji=function(a){return kb(this.fa,a.width)&&kb(this.ea,a.height)};v.a(J,"width",J.prototype.width);
v.defineProperty(J,{width:"width"},s("fa"),function(a){v.u(this,a);t&&v.e(a,"number",J,"width");0>a&&v.ha(a,">= 0",J,"width");this.fa=a});v.a(J,"height",J.prototype.height);v.defineProperty(J,{height:"height"},s("ea"),function(a){v.u(this,a);t&&v.e(a,"number",J,"height");0>a&&v.ha(a,">= 0",J,"height");this.ea=a});J.prototype.isReal=J.prototype.ca=function(){return isFinite(this.width)&&isFinite(this.height)};
function E(a,b,c,d){a===f?this.ea=this.fa=this.s=this.r=0:a instanceof D?b instanceof D?(this.r=Math.min(a.r,b.r),this.s=Math.min(a.s,b.s),this.fa=Math.abs(a.r-b.r),this.ea=Math.abs(a.s-b.s)):b instanceof J?(this.r=a.r,this.s=a.s,this.fa=b.fa,this.ea=b.ea):v.g("Incorrect arguments supplied"):"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.r=a,this.s=b,this.fa=c,this.ea=d):v.g("Invalid arguments to Rect constructor")}
v.J("Rect",E);E.prototype.Xa=function(a){t&&v.c(a,E,E,"assign:r");this.r=a.r;this.s=a.s;this.fa=a.fa;this.ea=a.ea};E.prototype.Ed=function(a,b,c,d){this.r=a;this.s=b;this.fa=c;this.ea=d};function zb(a,b,c){a.fa=b;a.ea=c}E.prototype.setTo=E.prototype.so=function(a,b,c,d){t&&(v.e(a,"number",E,"setTo:x"),v.e(b,"number",E,"setTo:y"),v.e(c,"number",E,"setTo:w"),v.e(d,"number",E,"setTo:h"));0>c&&v.ha(c,">= 0",E,"setTo:w");0>d&&v.ha(d,">= 0",E,"setTo:h");v.u(this);this.r=a;this.s=b;this.fa=c;this.ea=d;return this};
E.prototype.set=E.prototype.set=function(a){t&&v.c(a,E,E,"set:r");v.u(this);this.r=a.r;this.s=a.s;this.fa=a.fa;this.ea=a.ea;return this};E.prototype.setPoint=E.prototype.A=function(a){t&&v.c(a,D,E,"setPoint:p");v.u(this);this.r=a.r;this.s=a.s;return this};E.prototype.setSize=E.prototype.cH=function(a){t&&v.c(a,J,E,"setSize:s");v.u(this);this.fa=a.fa;this.ea=a.ea;return this};E.prototype.copy=E.prototype.copy=function(){var a=new E;a.r=this.r;a.s=this.s;a.fa=this.fa;a.ea=this.ea;return a};
E.prototype.Ra=function(){this.Sa=h;Object.freeze(this);return this};E.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};E.prototype.freeze=function(){this.Sa=h;return this};E.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;return this};function Ab(a){var b=a.count,c=h,d=n;if(0===b)return new E;for(var e=0;e<b;e++){var g=a.i[e];c?(d=new E(g.r,g.s,0,0),c=p):Eb(d,g.r,g.s,0,0)}return d}
E.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new E(c,e,g,i)}return new E};var Fb;E.stringify=Fb=function(a){return a instanceof E?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};
E.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};E.prototype.equals=E.prototype.z=function(a){return!(a instanceof E)?p:this.r===a.x&&this.s===a.y&&this.fa===a.width&&this.ea===a.height};E.prototype.equalTo=E.prototype.ry=function(a,b,c,d){return this.r===a&&this.s===b&&this.fa===c&&this.ea===d};E.prototype.aj=function(a){return jb(this.r,a.x)&&jb(this.s,a.y)&&jb(this.fa,a.width)&&jb(this.ea,a.height)};
E.prototype.ji=function(a){return kb(this.r,a.x)&&kb(this.s,a.y)&&kb(this.fa,a.width)&&kb(this.ea,a.height)};E.prototype.containsPoint=E.prototype.ka=function(a){t&&v.c(a,D,E,"containsPoint:p");return this.r<=a.x&&this.r+this.fa>=a.x&&this.s<=a.y&&this.s+this.ea>=a.y};E.prototype.containsRect=E.prototype.Cl=function(a){t&&v.c(a,E,E,"containsRect:r");return this.r<=a.x&&a.x+a.width<=this.r+this.fa&&this.s<=a.y&&a.y+a.height<=this.s+this.ea};
E.prototype.contains=E.prototype.contains=function(a,b,c,d){t?(v.j(a,E,"contains:x"),v.j(b,E,"contains:y"),c===f?c=0:v.j(c,E,"contains:w"),d===f?d=0:v.j(d,E,"contains:h"),(0>c||0>d)&&v.g("Rect.contains:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.r<=a&&a+c<=this.r+this.fa&&this.s<=b&&b+d<=this.s+this.ea};E.prototype.reset=function(){v.u(this);this.ea=this.fa=this.s=this.r=0};
E.prototype.offset=E.prototype.offset=function(a,b){t&&(v.j(a,E,"offset:dx"),v.j(b,E,"offset:dy"));v.u(this);this.r+=a;this.s+=b;return this};E.prototype.inflate=E.prototype.zf=function(a,b){t&&(v.j(a,E,"inflate:w"),v.j(b,E,"inflate:h"));return Hb(this,b,a,b,a)};E.prototype.addMargin=E.prototype.rr=function(a){t&&v.c(a,Ib,E,"addMargin:m");return Hb(this,a.top,a.right,a.bottom,a.left)};
E.prototype.subtractMargin=E.prototype.QK=function(a){t&&v.c(a,Ib,E,"subtractMargin:m");return Hb(this,-a.top,-a.right,-a.bottom,-a.left)};E.prototype.grow=E.prototype.sJ=function(a,b,c,d){t&&(v.j(a,E,"grow:t"),v.j(b,E,"grow:r"),v.j(c,E,"grow:b"),v.j(d,E,"grow:l"));return Hb(this,a,b,c,d)};function Hb(a,b,c,d,e){v.u(a);var g=a.fa;c+e<=-g?(a.r+=g/2,a.fa=0):(a.r-=e,a.fa+=c+e);c=a.ea;b+d<=-c?(a.s+=c/2,a.ea=0):(a.s-=b,a.ea+=b+d);return a}
E.prototype.intersectRect=E.prototype.EJ=function(a){t&&v.c(a,E,E,"intersectRect:r");return Jb(this,a.x,a.y,a.width,a.height)};E.prototype.intersect=E.prototype.DJ=function(a,b,c,d){t&&(v.j(a,E,"intersect:x"),v.j(b,E,"intersect:y"),v.j(c,E,"intersect:w"),v.j(d,E,"intersect:h"),(0>c||0>d)&&v.g("Rect.intersect:Width and height cannot be negative"));return Jb(this,a,b,c,d)};
function Jb(a,b,c,d,e){v.u(a);var g=Math.max(a.r,b),i=Math.max(a.s,c),b=Math.min(a.r+a.fa,b+d),c=Math.min(a.s+a.ea,c+e);a.r=g;a.s=i;a.fa=Math.max(0,b-g);a.ea=Math.max(0,c-i);return a}E.prototype.intersectsRect=E.prototype.Xe=function(a){t&&v.c(a,E,E,"intersectsRect:r");return this.hG(a.x,a.y,a.width,a.height)};
E.prototype.intersects=E.prototype.hG=function(a,b,c,d){t&&(v.j(a,E,"intersects:x"),v.j(b,E,"intersects:y"),v.j(a,E,"intersects:w"),v.j(b,E,"intersects:h"),(0>c||0>d)&&v.g("Rect.intersects:Width and height cannot be negative"));var e=this.fa,g=this.r;if(Infinity!==e&&Infinity!==c&&(e+=g,c+=a,isNaN(c)||isNaN(e)||g>c||a>e))return p;a=this.ea;e=this.s;return Infinity!==a&&Infinity!==d&&(a+=e,d+=b,isNaN(d)||isNaN(a)||e>d||b>a)?p:h};
E.prototype.unionPoint=E.prototype.xv=function(a){t&&v.c(a,D,E,"unionPoint:p");return Eb(this,a.x,a.y,0,0)};E.prototype.unionRect=E.prototype.rj=function(a){t&&v.c(a,E,E,"unionRect:r");return Eb(this,a.r,a.s,a.fa,a.ea)};E.prototype.union=E.prototype.UK=function(a,b,c,d){v.u(this);t?(v.j(a,E,"union:x"),v.j(b,E,"union:y"),c===f?c=0:v.j(c,E,"union:w"),d===f?d=0:v.j(d,E,"union:h"),(0>c||0>d)&&v.g("Rect.union:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return Eb(this,a,b,c,d)};
function Eb(a,b,c,d,e){var g=Math.min(a.r,b),i=Math.min(a.s,c),b=Math.max(a.r+a.fa,b+d),c=Math.max(a.s+a.ea,c+e);a.r=g;a.s=i;a.fa=b-g;a.ea=c-i;return a}E.prototype.setSpot=E.prototype.$l=function(a,b,c){t&&(v.j(a,E,"setSpot:x"),v.j(b,E,"setSpot:y"),v.c(c,G,E,"setSpot:spot"));v.u(this);this.r=a-c.offsetX-c.x*this.fa;this.s=b-c.offsetY-c.y*this.ea;return this};var Kb;
E.contains=Kb=function(a,b,c,d,e,g,i,j){t?(v.j(a,E,"contains:rx"),v.j(b,E,"contains:ry"),v.j(c,E,"contains:rw"),v.j(d,E,"contains:rh"),v.j(e,E,"contains:x"),v.j(g,E,"contains:y"),i===f?i=0:v.j(i,E,"contains:w"),j===f?j=0:v.j(j,E,"contains:h"),(0>c||0>d||0>i||0>j)&&v.g("Rect.contains:Width and height cannot be negative")):(i===f&&(i=0),j===f&&(j=0));return a<=e&&e+i<=a+c&&b<=g&&g+j<=b+d};
E.intersects=function(a,b,c,d,e,g,i,j){t&&(v.j(a,E,"intersects:rx"),v.j(b,E,"intersects:ry"),v.j(c,E,"intersects:rw"),v.j(d,E,"intersects:rh"),v.j(e,E,"intersects:x"),v.j(g,E,"intersects:y"),v.j(i,E,"intersects:w"),v.j(j,E,"intersects:h"),(0>c||0>d||0>i||0>j)&&v.g("Rect.intersects:Width and height cannot be negative"));c+=a;i+=e;if(a>i||e>c)return p;a=d+b;j+=g;return b>j||g>a?p:h};v.a(E,"x",E.prototype.x);v.defineProperty(E,{x:"x"},s("r"),function(a){v.u(this,a);t&&v.e(a,"number",E,"x");this.r=a});
v.a(E,"y",E.prototype.y);v.defineProperty(E,{y:"y"},s("s"),function(a){v.u(this,a);t&&v.e(a,"number",E,"y");this.s=a});v.a(E,"width",E.prototype.width);v.defineProperty(E,{width:"width"},s("fa"),function(a){v.u(this,a);t&&v.e(a,"number",E,"width");0>a&&v.ha(a,">= 0",E,"width");this.fa=a});v.a(E,"height",E.prototype.height);v.defineProperty(E,{height:"height"},s("ea"),function(a){v.u(this,a);t&&v.e(a,"number",E,"height");0>a&&v.ha(a,">= 0",E,"height");this.ea=a});v.a(E,"left",E.prototype.left);
v.defineProperty(E,{left:"left"},s("r"),function(a){v.u(this,a);t&&v.e(a,"number",E,"left");this.r=a});v.a(E,"top",E.prototype.top);v.defineProperty(E,{top:"top"},s("s"),function(a){v.u(this,a);t&&v.e(a,"number",E,"top");this.s=a});v.a(E,"right",E.prototype.right);v.defineProperty(E,{right:"right"},function(){return this.r+this.fa},function(a){v.u(this,a);t&&v.j(a,E,"right");this.r+=a-(this.r+this.fa)});v.a(E,"bottom",E.prototype.bottom);
v.defineProperty(E,{bottom:"bottom"},function(){return this.s+this.ea},function(a){v.u(this,a);t&&v.j(a,E,"top");this.s+=a-(this.s+this.ea)});v.a(E,"position",E.prototype.position);v.defineProperty(E,{position:"position"},function(){return new D(this.r,this.s)},function(a){v.u(this,a);t&&v.c(a,D,E,"position");this.r=a.x;this.s=a.y});v.a(E,"size",E.prototype.size);
v.defineProperty(E,{size:"size"},function(){return new J(this.fa,this.ea)},function(a){v.u(this,a);t&&v.c(a,J,E,"size");this.fa=a.width;this.ea=a.height});v.a(E,"center",E.prototype.Bu);v.defineProperty(E,{Bu:"center"},function(){return new D(this.r+this.fa/2,this.s+this.ea/2)},function(a){v.u(this,a);t&&v.c(a,D,E,"center");this.r=a.x-this.fa/2;this.s=a.y-this.ea/2});v.a(E,"centerX",E.prototype.Da);
v.defineProperty(E,{Da:"centerX"},function(){return this.r+this.fa/2},function(a){v.u(this,a);t&&v.j(a,E,"centerX");this.r=a-this.fa/2});v.a(E,"centerY",E.prototype.Ea);v.defineProperty(E,{Ea:"centerY"},function(){return this.s+this.ea/2},function(a){v.u(this,a);t&&v.j(a,E,"centerY");this.s=a-this.ea/2});E.prototype.isReal=E.prototype.ca=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};
E.prototype.isEmpty=E.prototype.GJ=function(){return 0===this.width&&0===this.height};function Ib(a,b,c,d){a===f?this.lf=this.ef=this.rf=this.uf=0:b===f?this.left=this.bottom=this.right=this.top=a:c===f?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):d!==f?(this.top=a,this.right=b,this.bottom=c,this.left=d):v.g("Invalid arguments to Margin constructor")}v.J("Margin",Ib);Ib.prototype.Xa=function(a){t&&v.c(a,Ib,Ib,"assign:m");this.uf=a.uf;this.rf=a.rf;this.ef=a.ef;this.lf=a.lf};
Ib.prototype.setTo=Ib.prototype.so=function(a,b,c,d){t&&(v.e(a,"number",Ib,"setTo:t"),v.e(b,"number",Ib,"setTo:r"),v.e(c,"number",Ib,"setTo:b"),v.e(d,"number",Ib,"setTo:l"));v.u(this);this.uf=a;this.rf=b;this.ef=c;this.lf=d;return this};Ib.prototype.set=Ib.prototype.set=function(a){t&&v.c(a,Ib,Ib,"assign:m");v.u(this);this.uf=a.uf;this.rf=a.rf;this.ef=a.ef;this.lf=a.lf;return this};Ib.prototype.copy=Ib.prototype.copy=function(){var a=new Ib;a.uf=this.uf;a.rf=this.rf;a.ef=this.ef;a.lf=this.lf;return a};
Ib.prototype.Ra=function(){this.Sa=h;Object.freeze(this);return this};Ib.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};Ib.prototype.freeze=function(){this.Sa=h;return this};Ib.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;return this};
Ib.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new Ib(c,e,g,i)}return new Ib};var Mb;Ib.stringify=Mb=function(a){return a instanceof Ib?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};
Ib.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};Ib.prototype.equals=Ib.prototype.z=function(a){return!(a instanceof Ib)?p:this.uf===a.top&&this.rf===a.right&&this.ef===a.bottom&&this.lf===a.left};Ib.prototype.equalTo=Ib.prototype.ry=function(a,b,c,d){return this.uf===a&&this.rf===b&&this.ef===c&&this.lf===d};Ib.prototype.aj=function(a){return jb(this.uf,a.top)&&jb(this.rf,a.right)&&jb(this.ef,a.bottom)&&jb(this.lf,a.left)};
Ib.prototype.ji=function(a){return kb(this.uf,a.top)&&kb(this.rf,a.right)&&kb(this.ef,a.bottom)&&kb(this.lf,a.left)};v.a(Ib,"top",Ib.prototype.top);v.defineProperty(Ib,{top:"top"},s("uf"),function(a){v.u(this,a);t&&v.j(a,Ib,"top");this.uf=a});v.a(Ib,"right",Ib.prototype.right);v.defineProperty(Ib,{right:"right"},s("rf"),function(a){v.u(this,a);t&&v.j(a,Ib,"right");this.rf=a});v.a(Ib,"bottom",Ib.prototype.bottom);
v.defineProperty(Ib,{bottom:"bottom"},s("ef"),function(a){v.u(this,a);t&&v.j(a,Ib,"bottom");this.ef=a});v.a(Ib,"left",Ib.prototype.left);v.defineProperty(Ib,{left:"left"},s("lf"),function(a){v.u(this,a);t&&v.j(a,Ib,"left");this.lf=a});Ib.prototype.isReal=Ib.prototype.ca=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};function ob(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.Oa=this.Na=0}v.yf(ob,{m11:h,m12:h,m21:h,m22:h,Na:h,Oa:h});
ob.prototype.set=ob.prototype.set=function(a){t&&v.c(a,ob,ob,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.Na=a.Na;this.Oa=a.Oa;return this};ob.prototype.copy=ob.prototype.copy=function(){var a=new ob;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.Na=this.Na;a.Oa=this.Oa;return a};ob.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.Na+","+this.Oa+")"};
ob.prototype.equals=ob.prototype.z=function(a){return!(a instanceof ob)?p:this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.Na===a.Na&&this.Oa===a.Oa};ob.prototype.reset=ob.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.Oa=this.Na=0};
ob.prototype.multiply=ob.prototype.multiply=function(a){t&&v.c(a,ob,ob,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.Na+this.m21*a.Oa+this.Na,g=this.m12*a.Na+this.m22*a.Oa+this.Oa;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.Na=e;this.Oa=g;return this};
ob.prototype.multiplyInverted=ob.prototype.DG=function(a){t&&v.c(a,ob,ob,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,g=a.m11*b,i=b*(a.m21*a.Oa-a.m22*a.Na),j=b*(a.m12*a.Na-a.m11*a.Oa),a=this.m12*c+this.m22*d,b=this.m11*e+this.m21*g,e=this.m12*e+this.m22*g,g=this.m11*i+this.m21*j+this.Na,i=this.m12*i+this.m22*j+this.Oa;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.Na=g;this.Oa=i;return this};
ob.prototype.invert=ob.prototype.Xu=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.Oa-this.m22*this.Na),g=a*(this.m12*this.Na-this.m11*this.Oa);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.Na=e;this.Oa=g};
ob.prototype.rotate=ob.prototype.rotate=function(a,b,c){t&&(v.j(a,ob,"rotate:angle"),v.j(b,ob,"rotate:rx"),v.j(c,ob,"rotate:ry"));this.translate(b,c);var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d),e=this.m12*a+this.m22*d,g=this.m11*-d+this.m21*a,i=this.m12*-d+this.m22*a;this.m11=this.m11*a+this.m21*d;this.m12=e;this.m21=g;this.m22=i;this.translate(-b,-c)};
ob.prototype.translate=ob.prototype.translate=function(a,b){t&&(v.j(a,ob,"translate:x"),v.j(b,ob,"translate:y"));this.Na+=this.m11*a+this.m21*b;this.Oa+=this.m12*a+this.m22*b};ob.prototype.scale=ob.prototype.scale=function(a,b){b===f&&(b=a);t&&(v.j(a,ob,"translate:sx"),v.j(b,ob,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b};
ob.prototype.transformPoint=ob.prototype.Hb=function(a){t&&v.c(a,D,ob,"transformPoint:p");var b=a.r,c=a.s;a.r=b*this.m11+c*this.m21+this.Na;a.s=b*this.m12+c*this.m22+this.Oa;return a};ob.prototype.invertedTransformPoint=ob.prototype.mi=function(a){t&&v.c(a,D,ob,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.Na-this.m11*this.Oa),g=a.r,i=a.s;a.r=g*this.m22*b+i*-this.m21*b+b*(this.m21*this.Oa-this.m22*this.Na);a.s=g*c+i*d+e;return a};
ob.prototype.transformRect=ob.prototype.WD=function(a){t&&v.c(a,E,ob,"transformRect:rect");var b=a.r,c=a.s,d=b+a.fa,e=c+a.ea,g=this.m11,i=this.m12,j=this.m21,k=this.m22,l=this.Na,m=this.Oa,q=b*g+c*j+l,r=b*i+c*k+m,u=d*g+c*j+l,c=d*i+c*k+m,x=b*g+e*j+l,b=b*i+e*k+m,g=d*g+e*j+l,d=d*i+e*k+m,e=q,i=r,q=Math.min(q,u),e=Math.max(e,u),i=Math.min(i,c),r=Math.max(r,c),q=Math.min(q,x),e=Math.max(e,x),i=Math.min(i,b),r=Math.max(r,b),q=Math.min(q,g),e=Math.max(e,g),i=Math.min(i,d),r=Math.max(r,d);a.r=q;a.s=i;a.fa=
e-q;a.ea=r-i};function Nb(a,b){return new D(b.r*a.m11+b.s*a.m21+a.Na,b.r*a.m12+b.s*a.m22+a.Oa)}ob.prototype.isIdentity=ob.prototype.Cy=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.Na&&0===this.Oa};function G(a,b,c,d){a===f?this.pf=this.of=this.s=this.r=0:(b===f&&(b=0),c===f&&(c=0),d===f&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d)}v.J("Spot",G);G.prototype.Xa=function(a){t&&v.c(a,G,G,"assign:s");this.r=a.r;this.s=a.s;this.of=a.of;this.pf=a.pf};
G.prototype.setTo=G.prototype.so=function(a,b,c,d){t&&(Ob(a,"setTo:x"),Ob(b,"setTo:y"),Pb(c,"setTo:offx"),Pb(d,"setTo:offy"));v.u(this);this.r=a;this.s=b;this.of=c;this.pf=d;return this};G.prototype.set=G.prototype.set=function(a){t&&v.c(a,G,G,"set:s");v.u(this);this.r=a.r;this.s=a.s;this.of=a.of;this.pf=a.pf;return this};G.prototype.copy=G.prototype.copy=function(){var a=new G;a.r=this.r;a.s=this.s;a.of=this.of;a.pf=this.pf;return a};G.prototype.Ra=function(){this.Sa=h;Object.freeze(this);return this};
G.prototype.F=function(){return Object.isFrozen(this)?this:this.copy().freeze()};G.prototype.freeze=function(){this.Sa=h;return this};G.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;return this};function Qb(a,b){a.r=NaN;a.s=NaN;a.of=b;return a}function Ob(a,b){(isNaN(a)||1<a||0>a)&&v.ha(a,"0 <= "+b+" <= 1",G,b)}function Pb(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&v.ha(a,"real number, not NaN or Infinity",G,b)}var Rb;
G.parse=Rb=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return v.NONE;if("TopLeft"===a)return v.Xv;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return v.Bo;if("TopRight"===a)return v.Zv;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return v.zo;if("Center"===a)return v.Nv;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return v.Ao;if("BottomLeft"===a)return v.Iv;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return v.yo;if("BottomRight"===a)return v.Kv;if("TopSide"===
a)return v.aw;if("LeftSide"===a)return v.Qv;if("RightSide"===a)return v.Vv;if("BottomSide"===a)return v.Mv;if("TopBottomSides"===a)return v.Wv;if("LeftRightSides"===a)return v.Pv;if("TopLeftSides"===a)return v.Yv;if("TopRightSides"===a)return v.$v;if("BottomLeftSides"===a)return v.Jv;if("BottomRightSides"===a)return v.Lv;if("NotTopSide"===a)return v.Uv;if("NotLeftSide"===a)return v.Sv;if("NotRightSide"===a)return v.Tv;if("NotBottomSide"===a)return v.Rv;if("AllSides"===a)return v.Hv;if("Default"===
a)return v.Ov;for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new G(c,e,g,i)}return new G};var Sb;G.stringify=Sb=function(a){return a instanceof G?Wb(a)?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()};
G.prototype.toString=function(){return Wb(this)?0===this.of&&0===this.pf?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.z(v.NONE)?"None":this.z(v.Xv)?"TopLeft":this.z(v.Bo)?"Top":this.z(v.Zv)?"TopRight":this.z(v.zo)?"Left":this.z(v.Nv)?"Center":this.z(v.Ao)?"Right":this.z(v.Iv)?"BottomLeft":this.z(v.yo)?"Bottom":this.z(v.Kv)?"BottomRight":this.z(v.aw)?"TopSide":this.z(v.Qv)?"LeftSide":this.z(v.Vv)?"RightSide":this.z(v.Mv)?"BottomSide":this.z(v.Wv)?
"TopBottomSides":this.z(v.Pv)?"LeftRightSides":this.z(v.Yv)?"TopLeftSides":this.z(v.$v)?"TopRightSides":this.z(v.Jv)?"BottomLeftSides":this.z(v.Lv)?"BottomRightSides":this.z(v.Uv)?"NotTopSide":this.z(v.Sv)?"NotLeftSide":this.z(v.Tv)?"NotRightSide":this.z(v.Rv)?"NotBottomSide":this.z(v.Hv)?"AllSides":this.z(v.Ov)?"Default":"None"};
G.prototype.equals=G.prototype.z=function(a){return!(a instanceof G)?p:(this.r===a.x||isNaN(this.r)&&isNaN(a.x))&&(this.s===a.y||isNaN(this.s)&&isNaN(a.y))&&this.of===a.offsetX&&this.pf===a.offsetY};G.prototype.opposite=G.prototype.fK=function(){return new G(0.5-(this.r-0.5),0.5-(this.s-0.5),-this.of,-this.pf)};G.prototype.includesSide=G.prototype.xJ=function(a){if(!Xb(this)||!Xb(a))return p;a=a.offsetY;return(this.pf&a)===a};v.a(G,"x",G.prototype.x);
v.defineProperty(G,{x:"x"},s("r"),function(a){v.u(this,a);t&&Ob(a,"x");this.r=a});v.a(G,"y",G.prototype.y);v.defineProperty(G,{y:"y"},s("s"),function(a){v.u(this,a);t&&Ob(a,"y");this.s=a});v.a(G,"offsetX",G.prototype.offsetX);v.defineProperty(G,{offsetX:"offsetX"},s("of"),function(a){v.u(this,a);t&&Pb(a,"offsetX");this.of=a});v.a(G,"offsetY",G.prototype.offsetY);v.defineProperty(G,{offsetY:"offsetY"},s("pf"),function(a){v.u(this,a);t&&Pb(a,"offsetY");this.pf=a});
function Wb(a){return!isNaN(a.x)&&!isNaN(a.y)}function Yb(a){return isNaN(a.x)||isNaN(a.y)}function Xb(a){return Yb(a)&&1===a.offsetX&&0!==a.offsetY}function Zb(a){return isNaN(a.x)&&isNaN(a.y)&&-1===a.offsetX&&0===a.offsetY}v.$c=1;v.Hc=2;v.Sc=4;v.Rc=8;v.NONE=Qb(new G(0,0,0,0),0).Ra();v.Ov=Qb(new G(0,0,-1,0),-1).Ra();v.Xv=(new G(0,0,0,0)).Ra();v.Bo=(new G(0.5,0,0,0)).Ra();v.Zv=(new G(1,0,0,0)).Ra();v.zo=(new G(0,0.5,0,0)).Ra();v.Nv=(new G(0.5,0.5,0,0)).Ra();v.Ao=(new G(1,0.5,0,0)).Ra();
v.Iv=(new G(0,1,0,0)).Ra();v.yo=(new G(0.5,1,0,0)).Ra();v.Kv=(new G(1,1,0,0)).Ra();v.aw=Qb(new G(0,0,1,v.$c),1).Ra();v.Qv=Qb(new G(0,0,1,v.Hc),1).Ra();v.Vv=Qb(new G(0,0,1,v.Sc),1).Ra();v.Mv=Qb(new G(0,0,1,v.Rc),1).Ra();v.Wv=Qb(new G(0,0,1,v.$c|v.Rc),1).Ra();v.Pv=Qb(new G(0,0,1,v.Hc|v.Sc),1).Ra();v.Yv=Qb(new G(0,0,1,v.$c|v.Hc),1).Ra();v.$v=Qb(new G(0,0,1,v.$c|v.Sc),1).Ra();v.Jv=Qb(new G(0,0,1,v.Rc|v.Hc),1).Ra();v.Lv=Qb(new G(0,0,1,v.Rc|v.Sc),1).Ra();v.Uv=Qb(new G(0,0,1,v.Hc|v.Sc|v.Rc),1).Ra();
v.Sv=Qb(new G(0,0,1,v.$c|v.Sc|v.Rc),1).Ra();v.Tv=Qb(new G(0,0,1,v.$c|v.Hc|v.Rc),1).Ra();v.Rv=Qb(new G(0,0,1,v.$c|v.Hc|v.Sc),1).Ra();v.Hv=Qb(new G(0,0,1,v.$c|v.Hc|v.Sc|v.Rc),1).Ra();var bc;G.None=bc=v.NONE;var cc;G.Default=cc=v.Ov;var dc;G.TopLeft=dc=v.Xv;var hc;G.TopCenter=hc=v.Bo;var ic;G.TopRight=ic=v.Zv;G.LeftCenter=v.zo;var jc;G.Center=jc=v.Nv;G.RightCenter=v.Ao;var kc;G.BottomLeft=kc=v.Iv;var lc;G.BottomCenter=lc=v.yo;var mc;G.BottomRight=mc=v.Kv;var rc;G.MiddleTop=rc=v.Bo;var sc;
G.MiddleLeft=sc=v.zo;var tc;G.MiddleRight=tc=v.Ao;var uc;G.MiddleBottom=uc=v.yo;G.Top=v.Bo;G.Left=v.zo;G.Right=v.Ao;G.Bottom=v.yo;var Cc;G.TopSide=Cc=v.aw;var Dc;G.LeftSide=Dc=v.Qv;var Ec;G.RightSide=Ec=v.Vv;var Fc;G.BottomSide=Fc=v.Mv;G.TopBottomSides=v.Wv;G.LeftRightSides=v.Pv;G.TopLeftSides=v.Yv;G.TopRightSides=v.$v;G.BottomLeftSides=v.Jv;G.BottomRightSides=v.Lv;G.NotTopSide=v.Uv;G.NotLeftSide=v.Sv;G.NotRightSide=v.Tv;G.NotBottomSide=v.Rv;var Gc;G.AllSides=Gc=v.Hv;
var Hc=4*((Math.sqrt(2)-1)/3),Oc=(new D(0,0)).Ra(),Pc=(new J(Infinity,Infinity)).Ra(),Qc=(new D(-Infinity,-Infinity)).Ra(),Rc=(new D(Infinity,Infinity)).Ra(),Sc=(new J(0,0)).Ra(),Tc=(new D(NaN,NaN)).Ra();function kb(a,b){var c=a-b;return 0.5>c&&-0.5<c}function jb(a,b){var c=a-b;return 5E-8>c&&-5E-8<c}
function Uc(a,b,c,d,e,g,i){0>=e&&(e=1E-6);var j,k,l,m;a<c?(k=a,j=c):(k=c,j=a);b<d?(m=b,l=d):(m=d,l=b);if(a===c)return m<=i&&i<=l&&a-e<=g&&g<=a+e;if(b===d)return k<=g&&g<=j&&b-e<=i&&i<=b+e;j+=e;k-=e;if(k<=g&&g<=j&&(l+=e,m-=e,m<=i&&i<=l))if(j-k>l-m)if(a-c>e||c-a>e){if(g=(d-b)/(c-a)*(g-a)+b,g-e<=i&&i<=g+e)return h}else return h;else if(b-d>e||d-b>e){if(i=(c-a)/(d-b)*(i-b)+a,i-e<=g&&g<=i+e)return h}else return h;return p}
function Yc(a,b,c,d,e,g,i,j,k,l,m){if(!Uc(a,b,i,j,k,c,d)||!Uc(a,b,i,j,k,e,g)){var q=(a+c)/2,r=(b+d)/2,u=(c+e)/2,x=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(q+u)/2,c=(r+x)/2,u=(u+e)/2,x=(x+g)/2,y=(d+u)/2,C=(c+x)/2;return Yc(a,b,q,r,d,c,y,C,k,l,m)||Yc(y,C,u,x,e,g,i,j,k,l,m)}return Uc(a,b,i,j,k,l,m)}
function Zc(a,b,c,d,e,g,i,j,k,l){if(!Uc(a,b,i,j,k,c,d)||!Uc(a,b,i,j,k,e,g)){var m=(a+c)/2,q=(b+d)/2,r=(c+e)/2,u=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(m+r)/2,c=(q+u)/2,r=(r+e)/2,u=(u+g)/2,x=(d+r)/2,y=(c+u)/2;Zc(a,b,m,q,d,c,x,y,k,l);Zc(x,y,r,u,e,g,i,j,k,l)}else Eb(l,a,b,0,0),Eb(l,i,j,0,0)}function $c(a,b,c,d,e,g,i,j,k){if(Uc(a,b,e,g,i,c,d))return Uc(a,b,e,g,i,j,k);var l=(a+c)/2,m=(b+d)/2,c=(c+e)/2,d=(d+g)/2,q=(l+c)/2,r=(m+d)/2;return $c(a,b,l,m,q,r,i,j,k)||$c(q,r,c,d,e,g,i,j,k)}
function ad(a,b,c,d,e,g,i,j){if(Uc(a,b,e,g,i,c,d))Eb(j,a,b,0,0),Eb(j,e,g,0,0);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,q=(l+d)/2;ad(a,b,k,l,m,q,i,j);ad(m,q,c,d,e,g,i,j)}}
function cd(a,b,c,d,e,g,i,j,k,l,m,q,r,u){0>=r&&(r=1E-6);if(!Uc(a,b,i,j,r,c,d)||!Uc(a,b,i,j,r,e,g)){var x=(a+c)/2,y=(b+d)/2,c=(c+e)/2,d=(d+g)/2,e=(e+i)/2,g=(g+j)/2,C=(x+c)/2,F=(y+d)/2,c=(c+e)/2,d=(d+g)/2,H=(C+c)/2,I=(F+d)/2,M=(m-k)*(m-k)+(q-l)*(q-l),U=p;cd(a,b,x,y,C,F,H,I,k,l,m,q,r,u)&&(a=(u.x-k)*(u.x-k)+(u.y-l)*(u.y-l),a<M&&(M=a,U=h));b=u.x;x=u.y;cd(H,I,c,d,e,g,i,j,k,l,m,q,r,u)&&(a=(u.x-k)*(u.x-k)+(u.y-l)*(u.y-l),a<M?U=h:(u.x=b,u.y=x));return U}x=(a-i)*(l-q)-(b-j)*(k-m);if(!x)return p;r=((a*j-b*i)*
(k-m)-(a-i)*(k*q-l*m))/x;x=((a*j-b*i)*(l-q)-(b-j)*(k*q-l*m))/x;if((k>m?k-m:m-k)<(l>q?l-q:q-l)){if(b<j?(k=b,i=j):(k=j,i=b),x<k||x>i)return p}else if(a<i?k=a:(k=i,i=a),r<k||r>i)return p;u.x=r;u.y=x;return h}
function gd(a,b,c,d,e,g,i,j,k,l,m,q,r){var u=0;0>=r&&(r=1E-6);if(!Uc(a,b,i,j,r,c,d)||!Uc(a,b,i,j,r,e,g))var x=(a+c)/2,y=(b+d)/2,C=(c+e)/2,F=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(x+C)/2,c=(y+F)/2,C=(C+e)/2,F=(F+g)/2,H=(d+C)/2,I=(c+F)/2,u=u+gd(a,b,x,y,d,c,H,I,k,l,m,q,r),u=u+gd(H,I,C,F,e,g,i,j,k,l,m,q,r);else{r=(a-i)*(l-q)-(b-j)*(k-m);if(!r)return u;x=((a*j-b*i)*(k-m)-(a-i)*(k*q-l*m))/r;y=((a*j-b*i)*(l-q)-(b-j)*(k*q-l*m))/r;if(x>=m)return u;if((k>m?k-m:m-k)<(l>q?l-q:q-l)){if(b<j?(k=b,a=j):(k=j,a=b),y<k||y>
a)return u}else if(a<i?(k=a,a=i):k=i,x<k||x>a)return u;0<r?u++:0>r&&u--}return u}function hd(a,b,c,d,e,g,i){if(jb(a,c)){var j;b<d?(j=b,c=d):(j=d,c=b);d=g;if(d<j)return i.x=a,i.y=j,p;if(d>c)return i.x=a,i.y=c,p;i.x=a;i.y=d;return h}if(jb(b,d)){a<c?j=a:(j=c,c=a);d=e;if(d<j)return i.x=j,i.y=b,p;if(d>c)return i.x=c,i.y=b,p;i.x=d;i.y=b;return h}j=((a-e)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>j)return i.x=a,i.y=b,p;if(1.000005<j)return i.x=c,i.y=d,p;i.x=a+j*(c-a);i.y=b+j*(d-b);return h}
function id(a,b,c,d,e,g,i,j,k){if(kb(a,c)&&kb(b,d))return k.x=a,k.y=b,p;if(jb(e,i)){if(jb(a,c))return hd(a,b,c,d,e,g,k),p;g=(d-b)/(c-a)*(e-a)+b;return hd(a,b,c,d,e,g,k)}j=(j-g)/(i-e);if(jb(a,c)){g=j*(a-e)+g;b<d?(i=b,c=d):(i=d,c=b);if(g<i)return k.x=a,k.y=i,p;if(g>c)return k.x=a,k.y=c,p;k.x=a;k.y=g;return h}i=(d-b)/(c-a);if(jb(j,i))return hd(a,b,c,d,e,g,k),p;e=(i*a-j*e+g-b)/(i-j);if(jb(i,0)){a<c?i=a:(i=c,c=a);if(e<i)return k.x=i,k.y=b,p;if(e>c)return k.x=c,k.y=b,p;k.x=e;k.y=b;return h}g=i*(e-a)+b;
return hd(a,b,c,d,e,g,k)}
function jd(a,b,c,d,e,g,i,j,k){function l(c,d){var e=(c-a)*(c-a)+(d-b)*(d-b);e<m&&(m=e,k.x=c,k.y=d)}var m=Infinity;l(k.x,k.y);var q,r,u,x;e<i?(q=e,r=i):(q=i,r=e);g<j?(u=e,x=i):(u=i,x=e);q=(r-q)/2+0;u=(x-u)/2+0;e=(e+i)/2;g=(g+j)/2;0===q||0===u||(0.5>(c>a?c-a:a-c)?(q=1-(c-e)*(c-e)/(q*q),0>q||(q=Math.sqrt(q),d=-u*q+g,l(c,u*q+g),l(c,d))):(c=(d-b)/(c-a),d=1/(q*q)+c*c/(u*u),j=2*c*(b-c*a)/(u*u)-2*c*g/(u*u)-2*e/(q*q),u=j*j-4*d*(2*c*a*g/(u*u)-2*b*g/(u*u)+g*g/(u*u)+e*e/(q*q)-1+(b-c*a)*(b-c*a)/(u*u)),0>u||(q=
Math.sqrt(u),u=(-j+q)/(2*d),l(u,c*u-c*a+b),u=(-j-q)/(2*d),l(u,c*u-c*a+b))))}
function kd(a,b,c,d){var e=a.left,g=a.right,i=a.top,a=a.bottom,j=b.x,b=b.y,k=c.x,c=c.y,l=1E21,m=e,q=i;if(id(e,i,e,a,j,b,k,c,d)){var r=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b);r<l&&(l=r,m=d.x,q=d.y)}id(g,i,g,a,j,b,k,c,d)&&(r=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b),r<l&&(l=r,m=d.x,q=d.y));id(e,i,g,i,j,b,k,c,d)&&(r=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b),r<l&&(l=r,m=d.x,q=d.y));id(e,a,g,a,j,b,k,c,d)&&(r=(d.x-j)*(d.x-j)+(d.y-b)*(d.y-b),r<l&&(l=r,m=d.x,q=d.y));d.x=m;d.y=q;return 1E21>l}
function ld(a,b,c){var d=b.x,e=b.y,g=c.x,i=c.y,j=a.left,k=a.right,l=a.top,m=a.bottom;return d===g?(e<i?(a=e,g=i):(a=i,g=e),j<=d&&d<=k&&a<=m&&g>=l):e===i?(d<g?a=d:(a=g,g=d),l<=e&&e<=m&&a<=k&&g>=j):a.ka(b)||a.ka(c)||td(j,l,k,l,d,e,g,i)||td(k,l,k,m,d,e,g,i)||td(k,m,j,m,d,e,g,i)||td(j,m,j,l,d,e,g,i)?h:p}function td(a,b,c,d,e,g,i,j){return 0>=ud(a,b,c,d,e,g)*ud(a,b,c,d,i,j)&&0>=ud(e,g,i,j,a,b)*ud(e,g,i,j,c,d)}
function ud(a,b,c,d,e,g){c-=a;d-=b;a=e-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0<g&&(g=(a-c)*c+(b-d)*d,0>g&&(g=0)));return 0>g?-1:0<g?1:0}function vd(a){0>a&&(a+=360);360<=a&&(a-=360);return a}function wd(a,b,c,d,e,g){var c=Math.floor((a-c)/e)*e+c,d=Math.floor((b-d)/g)*g+d,i=c;c+e-a<e/2&&(i=c+e);a=d;d+g-b<g/2&&(a=d+g);return new D(i,a)}function xd(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,g=1;do e=c%d,c=g=d,d=e;while(0<e);return g}
function Ed(a){v.Tb(this);a===f?a=Hd:t&&v.Za(a,Ed,Ed,"constructor:type");this.M=a;this.Tc=this.Jc=this.gc=this.Vb=0;this.Yk=new z(Id);this.$s=this.Yk.Ab;this.Os=(new E).freeze();this.Ma=h;this.yH=new D;this.Th=dc;this.Uh=mc;this.gt=this.ht=NaN;this.Cd=Sc;this.Ub=Jd}v.J("Geometry",Ed);
Ed.prototype.copy=Ed.prototype.copy=function(){var a=new Ed;a.M=this.M;a.Vb=this.Vb;a.gc=this.gc;a.Jc=this.Jc;a.Tc=this.Tc;for(var b=this.Yk,c=b.length,d=a.Yk,e=0;e<c;e++){var g=b.i[e].copy();d.add(g)}a.$s=this.$s;a.Os.Xa(this.Os);a.Ma=this.Ma;a.Th=this.Th.F();a.Uh=this.Uh.F();a.ht=this.ht;a.gt=this.gt;a.Cd=this.Cd.F();a.Ub=this.Ub;return a};var Kd;Ed.Line=Kd=v.l(Ed,"Line",0);var Md;Ed.Rectangle=Md=v.l(Ed,"Rectangle",1);var Nd;Ed.Ellipse=Nd=v.l(Ed,"Ellipse",2);var Hd;Ed.Path=Hd=v.l(Ed,"Path",3);
Ed.prototype.Ra=function(){this.freeze();Object.freeze(this);return this};Ed.prototype.freeze=function(){this.Sa=h;var a=this.Pb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.i[c].freeze();return this};Ed.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;var a=this.Pb;a.wa();for(var b=a.length,c=0;c<b;c++)a.i[c].wa();return this};
Ed.prototype.equalsApprox=Ed.prototype.aj=function(a){if(!(a instanceof Ed))return p;if(this.type!==a.type)return this.type===Kd&&a.type===Hd?$d(this,a):a.type===Kd&&this.type===Hd?$d(a,this):p;if(this.type===Hd){var b=this.Pb,a=a.Pb,c=b.length;if(c!==a.length)return p;for(var d=0;d<c;d++)if(!b.i[d].aj(a.i[d]))return p;return h}return kb(this.Ga,a.Ga)&&kb(this.Ha,a.Ha)&&kb(this.P,a.P)&&kb(this.Q,a.Q)};
function $d(a,b){if(a.type!==Kd||b.type!==Hd)return p;if(1===b.Pb.count){var c=b.Pb.R(0);if(1===c.kb.count&&(kb(a.Ga,c.Ga)&&kb(a.Ha,c.Ha))&&(c=c.kb.R(0),c.type===ae&&kb(a.P,c.P)&&kb(a.Q,c.Q)))return h}return p}
Ed.prototype.toString=function(a){switch(this.type){case Kd:return"M"+this.Ga.toFixed(a)+" "+this.Ha.toFixed(a)+"L"+this.P.toFixed(a)+" "+this.Q.toFixed(a);case Md:var b=new E(this.Ga,this.Ha,0,0);Eb(b,this.P,this.Q,0,0);return"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case Nd:b=new E(this.Ga,this.Ha,0,0);Eb(b,this.P,this.Q,0,0);var c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/2).toFixed(a)+" "+(b.height/
2).toFixed(a)+" 0 0 1 "+(b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a))+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case Hd:for(var b="",c=this.Pb,d=c.length,e=0;e<d;e++){var g=c.i[e];0<e&&(b+=" ");b+=g.toString(a)}return b;default:return this.type.toString()}};var be;
Ed.parse=be=function(a,b){function c(){return l>=x-1?h:k[l+1].match(/[A-Za-z]/)!==n}function d(){l++;return k[l]}function e(){var a=new D(parseFloat(d()),parseFloat(d()));m===m.toLowerCase()&&(a.x=u.x+a.x,a.y=u.y+a.y);return a}function g(){return u=e()}function i(){return r=e()}function j(){return"c"!==q.toLowerCase()&&"s"!==q.toLowerCase()?u:new D(2*u.x-r.x,2*u.y-r.y)}b===f&&(b=h);var a=a.replace(/,/gm," "),a=a.replace(/([MmZzLlHhVvCcSsQqTtAaFf])([MmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAaFf])([MmZzLlHhVvCcSsQqTtAaFf])/gm,
"$1 $2"),a=a.replace(/([MmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=a.replace(/[\s\r\t\n]+/gm," "),a=a.replace(/^\s+|\s+$/g,""),k=a.split(" "),l=-1,m="",q="";new D(0,0);for(var r=new D(0,0),u=new D(0,0),x=k.length,y=new K,C;!(l>=x-1);)if(q=m,m=d(),""!==m)switch(m.toUpperCase()){case "M":C=g();
for(y.jc===n?L(y,C.x,C.y,p,p):y.moveTo(C.x,C.y);!c();)C=g(),y.lineTo(C.x,C.y);break;case "L":for(;!c();)C=g(),y.lineTo(C.x,C.y);break;case "H":for(;!c();)u=C=new D((m===m.toLowerCase()?u.x:0)+parseFloat(d()),u.y),y.lineTo(u.x,u.y);break;case "V":for(;!c();)u=C=new D(u.x,(m===m.toLowerCase()?u.y:0)+parseFloat(d())),y.lineTo(u.x,u.y);break;case "C":for(;!c();){C=e();var F=i(),H=g();N(y,C.x,C.y,F.x,F.y,H.x,H.y)}break;case "S":for(;!c();)C=j(),F=i(),H=g(),N(y,C.x,C.y,F.x,F.y,H.x,H.y);break;case "Q":for(;!c();)F=
i(),H=g(),ce(y,F.x,F.y,H.x,H.y);break;case "T":for(;!c();)r=F=j(),H=g(),ce(y,F.x,F.y,H.x,H.y);break;case "B":for(;!c();)C=[parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d())],c()||(C.push(parseFloat(d())),c()||C.push(parseFloat(d()))),m===m.toLowerCase()&&(C[2]+=u.x,C[3]+=u.y),y.arcTo(C[0],C[1],C[2],C[3],C[4],C[5],C[6]);break;case "Z":O(y);break;case "F":b=h}y=y.k;if(b)for(C=y.Pb.f;C.next();)C.value.Vr=h;return y};
Ed.prototype.Dy=function(){if(this.Ma)return h;var a=this.Pb;if(this.$s!==a.Ab)return h;for(var b=a.length,c=0;c<b;c++)if(a.i[c].Dy())return h;return p};Ed.prototype.vz=function(){this.Ma=p;var a=this.Pb;this.$s=a.Ab;for(var b=a.length,c=0;c<b;c++)a.i[c].vz()};
Ed.prototype.Qe=function(){var a=this.Os;a.wa();a.reset();a.cH(this.Cd);switch(this.type){case Kd:case Md:case Nd:Eb(a,this.Vb,this.gc,0,0);Eb(a,this.Jc,this.Tc,0,0);break;case Hd:for(var b=this.Pb,c=b.length,d=0;d<c;d++){var e=b.i[d];Eb(a,e.Ga,e.Ha,0,0);for(var g=e.kb,i=g.length,j=e.Ga,e=e.Ha,k=0;k<i;k++){var l=g.i[k];switch(l.type){case ae:case de:j=l.P;e=l.Q;Eb(a,j,e,0,0);break;case ee:Zc(j,e,l.Ec,l.xd,l.Dk,l.Ek,l.P,l.Q,0.5,a);j=l.P;e=l.Q;break;case fe:ad(j,e,l.Ec,l.xd,l.P,l.Q,0.5,a);j=l.P;e=l.Q;
break;case ge:for(var l=re(l),m=l.length,q=n,d=0;d<m;d++)q=l[d],Zc(q.fm,q.gm,q.Dv,q.Fv,q.Ev,q.Gv,q.Lk,q.Mk,0.5,a);q!==n&&(j=q.Lk,e=q.Mk);break;default:v.g("Unknown Segment type: "+l.type)}}}break;default:v.g("Unknown Geometry type: "+this.type)}Eb(a,0,0,0,0);a.freeze()};
Ed.prototype.ka=function(a,b,c,d){for(var e=a.x,g=a.y,i=this.rb.x-20,a=a.y,j=0,k,l,m,q,r,u,x,y=this.Pb.i,C=y.length,F=0;F<C;F++){var H=y[F];if(H.Vr){if(c&&H.ka(e,g,b))return h;var I=H.kb;k=H.Ga;l=H.Ha;for(var M=k,U=l,ma=0;ma<=I.length;ma++){ma!==I.length?(m=I.i[ma],q=m.type,u=m.P,x=m.Q):(q=ae,u=H.Ga,x=H.Ha);switch(q){case de:r=se(e,g,i,a,k,l,M,U);if(r===h)return h;j+=r;M=u;U=x;break;case ae:r=se(e,g,i,a,k,l,u,x);if(r===h)return h;j+=r;break;case ee:r=gd(k,l,m.Ec,m.xd,m.Dk,m.Ek,u,x,i,a,e,g,0.5);j+=
r;break;case fe:r=gd(k,l,(k+2*m.Ec)/3,(l+2*m.xd)/3,(m.Ec+2*u)/3,(m.Ec+2*u)/3,u,x,i,a,e,g,0.5);j+=r;break;case ge:q=re(m);for(var da=q.length,Ba=n,qa=0;qa<da;qa++){Ba=q[qa];if(0===qa){r=se(e,g,i,a,k,l,Ba.fm,Ba.gm);if(r===h)return h;j+=r}r=gd(Ba.fm,Ba.gm,Ba.Dv,Ba.Fv,Ba.Ev,Ba.Gv,Ba.Lk,Ba.Mk,i,a,e,g,0.5);j+=r}Ba!==n&&(u=Ba.Lk,x=Ba.Mk);break;default:v.g("Unknown Segment type: "+m.type)}k=u;l=x}if(0!==j)return h;j=0}else if(H.ka(e,g,d?b:b+2))return h}return 0!==j};
function se(a,b,c,d,e,g,i,j){if(Uc(e,g,i,j,0.05,a,b))return h;var k=(a-c)*(g-j);if(0===k)return 0;var l=((a*d-b*c)*(e-i)-(a-c)*(e*j-g*i))/k,b=(a*d-b*c)*(g-j)/k;if(l>=a)return 0;if((e>i?e-i:i-e)<(g>j?g-j:j-g)){if(g<j?(a=g,e=j):(a=j,e=g),b<a||b>e)return 0}else if(e<i?(a=e,e=i):a=i,l<a||l>e)return 0;return 0<k?1:-1}function te(a,b,c,d){for(var e=a.Pb.length,g=0;g<e;g++)if(a.Pb.i[g].ka(b,c,d))return h;return p}v.a(Ed,"type",Ed.prototype.type);
v.defineProperty(Ed,{type:"type"},s("M"),function(a){this.M!==a&&(t&&v.Za(a,Ed,Ed,"type"),v.u(this,a),this.M=a,this.Ma=h)});v.a(Ed,"startX",Ed.prototype.Ga);v.defineProperty(Ed,{Ga:"startX"},s("Vb"),function(a){this.Vb!==a&&(t&&v.j(a,Ed,"startX"),v.u(this,a),this.Vb=a,this.Ma=h)});v.a(Ed,"startY",Ed.prototype.Ha);v.defineProperty(Ed,{Ha:"startY"},s("gc"),function(a){this.gc!==a&&(t&&v.j(a,Ed,"startY"),v.u(this,a),this.gc=a,this.Ma=h)});v.a(Ed,"endX",Ed.prototype.P);
v.defineProperty(Ed,{P:"endX"},s("Jc"),function(a){this.Jc!==a&&(t&&v.j(a,Ed,"endX"),v.u(this,a),this.Jc=a,this.Ma=h)});v.a(Ed,"endY",Ed.prototype.Q);v.defineProperty(Ed,{Q:"endY"},s("Tc"),function(a){this.Tc!==a&&(t&&v.j(a,Ed,"endY"),v.u(this,a),this.Tc=a,this.Ma=h)});v.a(Ed,"figures",Ed.prototype.Pb);v.defineProperty(Ed,{Pb:"figures"},s("Yk"),function(a){this.Yk!==a&&(t&&v.c(a,z,Ed,"figures"),v.u(this,a),this.Yk=a,this.Ma=h)});
v.defineProperty(Ed,{n:"spot1"},s("Th"),function(a){t&&v.c(a,G,Ed,"spot1");v.u(this,a);this.Th=a.F()});v.defineProperty(Ed,{o:"spot2"},s("Uh"),function(a){t&&v.c(a,G,Ed,"spot2");v.u(this,a);this.Uh=a.F()});v.m(Ed,{rb:"bounds"},function(){this.Dy()&&(this.vz(),this.Qe());return this.Os});v.a(Ed,"minSize",Ed.prototype.ae);
v.defineProperty(Ed,{ae:"minSize"},s("Cd"),function(a){this.Cd.z(a)||(t&&v.c(a,J,Ed,"minSize"),a=a.F(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Cd=a)});function Id(a,b,c){v.Tb(this);c===f&&(c=h);this.Cp=c;this.ag=h;this.mt=p;a!==f?(t&&v.j(a,Id,"sx"),this.Vb=a):this.Vb=0;b!==f?(t&&v.j(b,Id,"sy"),this.gc=b):this.gc=0;this.Oq=new z(ue);this.au=this.Oq.Ab;this.Ma=h}v.J("PathFigure",Id);
Id.prototype.copy=Id.prototype.copy=function(){var a=new Id;a.Cp=this.Cp;a.ag=this.ag;a.mt=this.mt;a.Vb=this.Vb;a.gc=this.gc;for(var b=this.Oq,c=b.length,d=a.Oq,e=0;e<c;e++){var g=b.i[e].copy();d.add(g)}a.au=this.au;a.Ma=this.Ma;return a};Id.prototype.equalsApprox=Id.prototype.aj=function(a){if(!(a instanceof Id)||this.Gy!==a.Gy||!kb(this.Ga,a.Ga)||!kb(this.Ha,a.Ha))return p;var b=this.kb,a=a.kb,c=b.length;if(c!==a.length)return p;for(var d=0;d<c;d++)if(!b.i[d].aj(a.i[d]))return p;return h};ea=Id.prototype;
ea.toString=function(a){for(var b="M"+this.Ga.toFixed(a)+" "+this.Ha.toFixed(a),c=this.kb,d=c.length,e=0;e<d;e++)b+=" "+c.i[e].toString(a);this.Vr&&(b+="\t");return b};ea.freeze=function(){this.Sa=h;var a=this.kb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.i[c].freeze();return this};ea.wa=function(){this.Sa=p;var a=this.kb;a.wa();for(var b=a.length,c=0;c<b;c++)a.i[c].wa();return this};
ea.Dy=function(){if(this.Ma)return h;var a=this.kb;if(this.au!==a.Ab)return h;for(var b=a.length,c=0;c<b;c++)if(a.i[c].Ma)return h;return p};ea.vz=function(){this.Ma=p;var a=this.kb;this.au=a.Ab;for(var b=a.length,c=0;c<b;c++)a.i[c].Ma=p};v.a(Id,"isFilled",Id.prototype.Vr);v.defineProperty(Id,{Vr:"isFilled"},s("Cp"),function(a){t&&v.e(a,"boolean",Id,"isFilled");v.u(this,a);this.Cp=a});v.a(Id,"isShadowed",Id.prototype.Rl);
v.defineProperty(Id,{Rl:"isShadowed"},s("ag"),function(a){t&&v.e(a,"boolean",Id,"isShadowed");v.u(this,a);this.ag=a});v.a(Id,"isSubPath",Id.prototype.Gy);v.defineProperty(Id,{Gy:"isSubPath"},s("mt"),function(a){t&&v.e(a,"boolean",Id,"isSubPath");v.u(this,a);this.mt=a});v.a(Id,"startX",Id.prototype.Ga);v.defineProperty(Id,{Ga:"startX"},s("Vb"),function(a){t&&v.j(a,Id,"startX");v.u(this,a);this.Vb=a;this.Ma=h});v.a(Id,"startY",Id.prototype.Ha);
v.defineProperty(Id,{Ha:"startY"},s("gc"),function(a){t&&v.j(a,Id,"startY");v.u(this,a);this.gc=a;this.Ma=h});v.a(Id,"segments",Id.prototype.kb);v.defineProperty(Id,{kb:"segments"},s("Oq"),function(a){t&&v.c(a,z,Id,"segments");v.u(this,a);this.Oq=a;this.Ma=h});
Id.prototype.ka=function(a,b,c){for(var d=this.Ga,e=this.Ha,g=d,i=e,j=this.kb.i,k=j.length,l=0;l<k;l++){var m=j[l];switch(m.type){case de:g=m.P;i=m.Q;break;case ae:if(Uc(d,e,m.P,m.Q,c,a,b))return h;break;case ee:if(Yc(d,e,m.Ec,m.xd,m.Dk,m.Ek,m.P,m.Q,c,a,b))return h;break;case fe:if($c(d,e,m.Ec,m.xd,m.P,m.Q,c,a,b))return h;break;case ge:for(var q=re(m),r=q.length,u=n,x=0;x<r;x++)if(u=q[x],0===x&&Uc(d,e,u.fm,u.gm,c,a,b)||Yc(u.fm,u.gm,u.Dv,u.Fv,u.Ev,u.Gv,u.Lk,u.Mk,c,a,b))return h;u!==n&&(m.P=u.Lk,m.Q=
u.Mk);break;default:v.g("Unknown Segment type: "+m.type)}d=m.P;e=m.Q;if(m.Di&&(d!==g||e!==i)&&Uc(d,e,g,i,c,a,b))return h}return p};
function ue(a,b,c,d,e,g,i){v.Tb(this);a===f?a=ae:t&&v.Za(a,ue,ue,"constructor:type");this.M=a;a===ge?(b!==f?(t&&v.j(b,ue,"ex"),this.Xg=b):this.Xg=0,c!==f?(t&&v.j(c,ue,"ey"),this.Zg=c):this.Zg=0,d!==f&&(t&&v.j(d,ue,"x1"),this.nm=d),e!==f&&(t&&v.j(e,ue,"y1"),this.om=e),g!==f&&(t&&v.j(g,ue,"x2"),this.Vt=g),i!==f&&(t&&v.j(i,ue,"y2"),this.Wt=i)):(b!==f?(t&&v.j(b,ue,"ex"),this.pl=b):this.pl=0,c!==f?(t&&v.j(c,ue,"ey"),this.ql=c):this.ql=0,d!==f&&(t&&v.j(d,ue,"x1"),this.fk=d),e!==f&&(t&&v.j(e,ue,"y1"),this.gk=
e),g!==f&&(t&&v.j(g,ue,"x2"),this.nl=g),i!==f&&(t&&v.j(i,ue,"y2"),this.ol=i));this.Ma=h;this.Di=p}v.J("PathSegment",ue);ue.prototype.copy=ue.prototype.copy=function(){var a=new ue;a.M=this.M;this.M===ge?(a.Xg=this.Xg,a.Zg=this.Zg,a.nm=this.nm,a.om=this.om,a.Vt=this.Vt,a.Wt=this.Wt):(a.pl=this.pl,a.ql=this.ql,a.fk=this.fk,a.gk=this.gk,a.nl=this.nl,a.ol=this.ol);a.Ma=this.Ma;a.Di=this.Di;return a};
ue.prototype.equalsApprox=ue.prototype.aj=function(a){if(!(a instanceof ue)||this.type!==a.type||this.Zu!==a.Zu)return p;switch(this.type){case de:case ae:return kb(this.P,a.P)&&kb(this.Q,a.Q);case ee:return kb(this.P,a.P)&&kb(this.Q,a.Q)&&kb(this.Ec,a.Ec)&&kb(this.xd,a.xd)&&kb(this.Dk,a.Dk)&&kb(this.Ek,a.Ek);case fe:return kb(this.P,a.P)&&kb(this.Q,a.Q)&&kb(this.Ec,a.Ec)&&kb(this.xd,a.xd);case ge:return kb(this.qi,a.qi)&&kb(this.pj,a.pj)&&kb(this.Da,a.Da)&&kb(this.Ea,a.Ea)&&kb(this.Wl,a.Wl)&&kb(this.mo,
a.mo);default:return p}};
ue.prototype.toString=function(a){switch(this.type){case de:a="M"+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case ae:a="L"+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case ee:a="C"+this.Ec.toFixed(a)+" "+this.xd.toFixed(a)+" "+this.Dk.toFixed(a)+" "+this.Ek.toFixed(a)+" "+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case fe:a="Q"+this.Ec.toFixed(a)+" "+this.xd.toFixed(a)+" "+this.P.toFixed(a)+" "+this.Q.toFixed(a);break;case ge:a="A";break;default:a=this.type.toString()}return a+(this.Di?"z":
"")};var de;ue.Move=de=v.l(ue,"Move",0);var ae;ue.Line=ae=v.l(ue,"Line",1);var ee;ue.Bezier=ee=v.l(ue,"Bezier",2);var fe;ue.QuadraticBezier=fe=v.l(ue,"QuadraticBezier",3);var ge;ue.Arc=ge=v.l(ue,"Arc",4);ue.prototype.freeze=function(){this.Sa=h;return this};ue.prototype.wa=function(){this.Sa=p;return this};ue.prototype.close=ue.prototype.close=function(){this.Di=h;return this};
function re(a){if(a.jw&&a.Ma===p)return a.jw;for(var b=a.nm,c=a.om,d=a.Wl,e=a.qi,g=a.qi+a.pj,i=Math.PI,e=e*(i/180),g=g*(i/180),j=e<g?1:-1,k=[],l=i/2,m=e,e=Math.min(2*i+1E-5,Math.abs(g-e));1E-5<e;){var g=m+j*Math.min(e,l),q=(g-m)/2,r=d*Math.cos(q),u=d*Math.sin(q),x=0.5522847498*Math.tan(q),i=r+x*u,r=-u+x*r,u=-r,x=q+m,q=Math.cos(x),x=Math.sin(x);k.push({fm:b+d*Math.cos(m),gm:c+d*Math.sin(m),Dv:b+i*q-r*x,Fv:c+i*x+r*q,Ev:b+i*q-u*x,Gv:c+i*x+u*q,Lk:b+d*Math.cos(g),Mk:c+d*Math.sin(g)});e-=Math.abs(g-m);
m=g}a.jw=k;return a.jw}v.a(ue,"isClosed",ue.prototype.Zu);v.defineProperty(ue,{Zu:"isClosed"},s("Di"),function(a){this.Di!==a&&(this.Di=a,this.Ma=h)});v.a(ue,"type",ue.prototype.type);v.defineProperty(ue,{type:"type"},s("M"),function(a){t&&v.Za(a,ue,ue,"type");v.u(this,a);this.M=a;this.Ma=h});v.a(ue,"endX",ue.prototype.P);v.defineProperty(ue,{P:"endX"},s("pl"),function(a){t&&v.j(a,ue,"endX");v.u(this,a);this.pl=a;this.Ma=h});v.a(ue,"endY",ue.prototype.Q);
v.defineProperty(ue,{Q:"endY"},s("ql"),function(a){t&&v.j(a,ue,"endY");v.u(this,a);this.ql=a;this.Ma=h});v.defineProperty(ue,{Ec:"point1X"},s("fk"),function(a){t&&v.j(a,ue,"point1X");v.u(this,a);this.fk=a;this.Ma=h});v.defineProperty(ue,{xd:"point1Y"},s("gk"),function(a){t&&v.j(a,ue,"point1Y");v.u(this,a);this.gk=a;this.Ma=h});v.defineProperty(ue,{Dk:"point2X"},s("nl"),function(a){t&&v.j(a,ue,"point2X");v.u(this,a);this.nl=a;this.Ma=h});
v.defineProperty(ue,{Ek:"point2Y"},s("ol"),function(a){t&&v.j(a,ue,"point2Y");v.u(this,a);this.ol=a;this.Ma=h});v.defineProperty(ue,{Da:"centerX"},s("nm"),function(a){t&&v.j(a,ue,"centerX");v.u(this,a);this.nm=a;this.Ma=h});v.defineProperty(ue,{Ea:"centerY"},s("om"),function(a){t&&v.j(a,ue,"centerY");v.u(this,a);this.om=a;this.Ma=h});v.defineProperty(ue,{Wl:"radiusX"},s("Vt"),function(a){t&&v.j(a,ue,"radiusX");v.u(this,a);this.Vt=a;this.Ma=h});
v.defineProperty(ue,{mo:"radiusY"},s("Wt"),function(a){t&&v.j(a,ue,"radiusY");v.u(this,a);this.Wt=a;this.Ma=h});v.defineProperty(ue,{qi:"startAngle"},s("Xg"),function(a){t&&v.j(a,ue,"startAngle");v.u(this,a);this.Xg=a;this.Ma=h});v.defineProperty(ue,{pj:"sweepAngle"},s("Zg"),function(a){t&&v.j(a,ue,"sweepAngle");v.u(this,a);this.Zg=a;this.Ma=h});
function ve(){this.N=n;this.Hx=(new D(0,0)).freeze();this.xw=(new D(0,0)).freeze();this.Hs=this.Dt=0;this.pt="";this.Ws=this.Ls=0;this.ui=this.bt=p;this.zi=n;this.ou=0;this.tf=this.lu=n}v.J("InputEvent",ve);ve.prototype.copy=ve.prototype.copy=function(){var a=new ve;a.N=this.N;a.Hx=this.Gc.copy().freeze();a.xw=this.D.copy().freeze();a.Dt=this.Dt;a.Hs=this.Hs;a.pt=this.pt;a.Ls=this.Ls;a.Ws=this.Ws;a.bt=this.bt;a.ui=this.ui;a.zi=this.zi;a.ou=this.ou;a.lu=this.lu;a.tf=this.tf;return a};
ve.prototype.toString=function(){var a="^";this.sh&&(a+="M:"+this.sh);this.button&&(a+="B:"+this.button);this.key&&(a+="K:"+this.key);this.Pe&&(a+="C:"+this.Pe);this.Xi&&(a+="D:"+this.Xi);this.Hd&&(a+="h");this.bubbles&&(a+="b");this.D!==n&&(a+="@"+this.D.toString());return a};v.a(ve,"diagram",ve.prototype.b);v.defineProperty(ve,{b:"diagram"},s("N"),ba("N"));v.a(ve,"viewPoint",ve.prototype.Gc);v.defineProperty(ve,{Gc:"viewPoint"},s("Hx"),function(a){v.c(a,D,ve,"viewPoint");this.Hx.Xa(a)});
v.a(ve,"documentPoint",ve.prototype.D);v.defineProperty(ve,{D:"documentPoint"},s("xw"),function(a){v.c(a,D,ve,"documentPoint");this.xw.Xa(a)});v.a(ve,"modifiers",ve.prototype.sh);v.defineProperty(ve,{sh:"modifiers"},s("Dt"),ba("Dt"));v.a(ve,"button",ve.prototype.button);v.defineProperty(ve,{button:"button"},s("Hs"),ba("Hs"));v.a(ve,"key",ve.prototype.key);v.defineProperty(ve,{key:"key"},s("pt"),ba("pt"));v.a(ve,"clickCount",ve.prototype.Pe);v.defineProperty(ve,{Pe:"clickCount"},s("Ls"),ba("Ls"));
v.a(ve,"delta",ve.prototype.Xi);v.defineProperty(ve,{Xi:"delta"},s("Ws"),ba("Ws"));v.a(ve,"handled",ve.prototype.Hd);v.defineProperty(ve,{Hd:"handled"},s("bt"),ba("bt"));v.a(ve,"bubbles",ve.prototype.bubbles);v.defineProperty(ve,{bubbles:"bubbles"},s("ui"),ba("ui"));v.a(ve,"event",ve.prototype.event);v.defineProperty(ve,{event:"event"},s("zi"),ba("zi"));v.a(ve,"timestamp",ve.prototype.timestamp);v.defineProperty(ve,{timestamp:"timestamp"},s("ou"),ba("ou"));v.a(ve,"targetDiagram",ve.prototype.Mf);
v.defineProperty(ve,{Mf:"targetDiagram"},s("lu"),ba("lu"));v.a(ve,"targetObject",ve.prototype.md);v.defineProperty(ve,{md:"targetObject"},s("tf"),ba("tf"));v.m(ve,{uk:"control"},function(){return 0!==(this.sh&1)});v.m(ve,{shift:"shift"},function(){return 0!==(this.sh&4)});v.m(ve,{alt:"alt"},function(){return 0!==(this.sh&2)});v.m(ve,{aK:"meta"},function(){return 0!==(this.sh&8)});v.m(ve,{left:"left"},function(){return 0===this.button});v.m(ve,{bK:"middle"},function(){return 1===this.button});
v.m(ve,{right:"right"},function(){return 2===this.button});function we(){this.N=n;this.Db="";this.Qt=this.hu=n;this.Is=p}v.J("DiagramEvent",we);we.prototype.copy=we.prototype.copy=function(){var a=new we;a.N=this.N;a.Db=this.Db;a.hu=this.hu;a.Qt=this.Qt;a.Is=this.Is;return a};we.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");this.vv!==n&&(a+=":"+this.vv.toString());this.iv!==n&&(a+="("+this.iv.toString()+")");return a};v.a(we,"diagram",we.prototype.b);
v.defineProperty(we,{b:"diagram"},s("N"),ba("N"));v.a(we,"name",we.prototype.name);v.defineProperty(we,{name:"name"},s("Db"),ba("Db"));v.a(we,"subject",we.prototype.vv);v.defineProperty(we,{vv:"subject"},s("hu"),ba("hu"));v.a(we,"parameter",we.prototype.iv);v.defineProperty(we,{iv:"parameter"},s("Qt"),ba("Qt"));v.a(we,"cancel",we.prototype.cancel);v.defineProperty(we,{cancel:"cancel"},s("Is"),ba("Is"));function xe(){this.clear()}v.J("ChangedEvent",xe);var ye;
xe.Transaction=ye=v.l(xe,"Transaction",-1);var ze;xe.Property=ze=v.l(xe,"Property",0);var Ae;xe.Insert=Ae=v.l(xe,"Insert",1);var Be;xe.Remove=Be=v.l(xe,"Remove",2);xe.prototype.clear=xe.prototype.clear=function(){this.Js=ze;this.Ut=this.Ct="";this.Gt=this.Ht=this.Nt=this.Ot=this.Mt=this.N=this.mf=n};
xe.prototype.copy=xe.prototype.copy=function(){var a=new xe;a.mf=this.mf;a.N=this.N;a.Js=this.Js;a.Ct=this.Ct;a.Ut=this.Ut;a.Mt=this.Mt;var b=this.Ot;a.Ot=v.Ua(b)&&"function"===typeof b.F?b.F():b;b=this.Nt;a.Nt=v.Ua(b)&&"function"===typeof b.F?b.F():b;b=this.Ht;a.Ht=v.Ua(b)&&"function"===typeof b.F?b.F():b;b=this.Gt;a.Gt=v.Ua(b)&&"function"===typeof b.F?b.F():b;return a};
xe.prototype.toString=function(){var a="",a=this.Xc===ye?a+"* ":this.Xc===ze?a+(this.S!==n?"!m":"!d"):a+((this.S!==n?"!m":"!d")+this.Xc);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.re&&this.re!==this.propertyName&&(a+=" "+this.re);a+=": ";this.Xc===ye?this.oldValue!==n&&(a+=" "+this.oldValue):(this.object!==n&&(a+=Ce(this.object)),this.oldValue!==n&&(a+="  old: "+Ce(this.oldValue)),this.$e!==n&&(a+=" "+this.$e),this.newValue!==n&&(a+="  new: "+Ce(this.newValue)),
this.Ze!==n&&(a+=" "+this.Ze));return a};xe.prototype.getValue=xe.prototype.ga=function(a){return a?this.oldValue:this.newValue};xe.prototype.getParam=xe.prototype.mJ=function(a){return a?this.$e:this.Ze};xe.prototype.canUndo=xe.prototype.sk=function(){return this.S!==n||this.b!==n?h:p};xe.prototype.undo=xe.prototype.Kk=function(){this.sk()&&(this.S!==n?this.S.xr(this,h):this.b!==n&&this.b.xr(this,h))};xe.prototype.canRedo=xe.prototype.rk=function(){return this.S!==n||this.b!==n?h:p};
xe.prototype.redo=xe.prototype.no=function(){this.rk()&&(this.S!==n?this.S.xr(this,p):this.b!==n&&this.b.xr(this,p))};v.a(xe,"model",xe.prototype.S);v.defineProperty(xe,{S:"model"},s("mf"),ba("mf"));v.a(xe,"diagram",xe.prototype.b);v.defineProperty(xe,{b:"diagram"},s("N"),ba("N"));v.a(xe,"change",xe.prototype.Xc);v.defineProperty(xe,{Xc:"change"},s("Js"),function(a){t&&v.Za(a,xe,xe,"change");this.Js=a});v.a(xe,"modelChange",xe.prototype.re);
v.defineProperty(xe,{re:"modelChange"},s("Ct"),function(a){t&&v.e(a,"string",xe,"modelChange");this.Ct=a});v.a(xe,"propertyName",xe.prototype.propertyName);v.defineProperty(xe,{propertyName:"propertyName"},s("Ut"),function(a){t&&"string"!==typeof a&&v.c(a,Function,xe,"propertyName");this.Ut=a});v.a(xe,"object",xe.prototype.object);v.defineProperty(xe,{object:"object"},s("Mt"),ba("Mt"));v.a(xe,"oldValue",xe.prototype.oldValue);v.defineProperty(xe,{oldValue:"oldValue"},s("Ot"),ba("Ot"));
v.a(xe,"oldParam",xe.prototype.$e);v.defineProperty(xe,{$e:"oldParam"},s("Nt"),ba("Nt"));v.a(xe,"newValue",xe.prototype.newValue);v.defineProperty(xe,{newValue:"newValue"},s("Ht"),ba("Ht"));v.a(xe,"newParam",xe.prototype.Ze);v.defineProperty(xe,{Ze:"newParam"},s("Gt"),ba("Gt"));
function B(a){v.Tb(this);this.rw=this.Db="";this.Vj=p;this.ig=[];this.Mc=new ra(n,Object);this.pq="key";this.Rs=this.st=n;this.nq="category";this.Eg=new ra(n,va);this.Ei=n;this.bl=this.Sh=p;this.Dx=n;this.ia=new De;a!==f&&(this.th=a)}v.J("Model",B);B.prototype.clear=B.prototype.clear=function(){this.ig=[];this.Mc.clear();this.Eg.clear();this.ia.clear()};
B.prototype.writeJsonProtected=B.prototype.fE=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.Fl&&(a+=',\n  "dataFormat": '+this.quote(this.Fl));this.Va&&(a+=',\n  "isReadOnly": '+this.Va);"key"!==this.Vl&&"string"===typeof this.Vl&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.Vl));"category"!==this.Ul&&"string"===typeof this.Ul&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.Ul));return a};
B.prototype.zz=function(){return',\n  "nodeDataArray": '+Ee(this,this.th,h)};B.prototype.readJsonProtected=B.prototype.hD=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.Fl=a.dataFormat);a.isReadOnly&&(this.Va=a.isReadOnly);a.nodeKeyProperty&&(this.Vl=a.nodeKeyProperty);a.nodeCategoryProperty&&(this.Ul=a.nodeCategoryProperty)};B.prototype.$y=function(a){a.nodeDataArray&&(a=a.nodeDataArray,Fe(this,a),this.th=a)};
B.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.ND();var b=(""!==this.name?this.name:"")+" Model";if(0<a){var b=b+"\n node data:",a=this.th,c=v.Kb(a),d;for(d=0;d<c;d++)var e=v.wb(a,d),b=b+(" "+this.hc(e)+":"+Ce(e))}return b};B.prototype.toJson=B.prototype.ND=function(a){a===f&&(a=this.constructor===B?"go.Model":this.constructor===P?"go.GraphLinksModel":v.dj(this));return'{ "class": '+this.quote(a)+this.writeJsonProtected()+this.zz()+"}"};
B.fromJson=function(a,b){b===f&&(b=n);v.e(a,"string",B,"fromJson:s");b&&v.c(b,B,B,"fromJson:model");var c=n;if(window&&window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){t&&v.trace("JSON.parse error: "+d.toString())}else v.trace("WARNING: no JSON.parse available");if(c===n)return n;if(b===n){var e;e=n;var g=c["class"];if("string"===typeof g)try{var i=n;0===g.indexOf("go.")?(g=g.substr(3),i=fa[g]):(i=fa[g])||(i=window[g]);"function"===typeof i&&(e=new i)}catch(j){}e===n||e instanceof
B?b=e:v.g("Unable to construct a Model of declared class: "+c["class"])}b===n&&(b=new P);b.readJsonProtected(c);b.$y(c);return b};
function Fe(a,b){if(v.isArray(b))for(var c=v.Kb(b),d=0;d<c;d++){var e=v.wb(b,d);v.Ua(e)&&v.lF(b,d,Fe(a,e))}else if(v.Ua(b)){for(d in b)if(e=b[d],v.Ua(e)&&(e=Fe(a,e),b[d]=e,"points"===d&&Array.isArray(e))){for(var g=h,i=0;i<e.length;i++)if("number"!==typeof e[i]){g=p;break}if(g){g=new z(D);for(i=0;i<e.length/2;i++){var j=new D(e[2*i],e[2*i+1]);g.add(j)}g.freeze();b[d]=g}}if("object"!==typeof b)c=b;else{d=b;e=b["class"];if("NaN"===e)d=NaN;else if("go.Point"===e)d=new D(b.x,b.y);else if("go.Size"===
e)d=new J(b.width,b.height);else if("go.Rect"===e)d=new E(b.x,b.y,b.width,b.height);else if("go.Margin"===e)d=new Ib(b.top,b.right,b.bottom,b.left);else if("go.Spot"===e)d="string"===typeof b["enum"]?Rb(b["enum"]):new G(b.x,b.y,b.offsetX,b.offsetY);else if("go.Brush"===e){if(d=new Ge,d.type=v.Jl(Ge,b.type),b.start instanceof G&&(d.start=b.start),b.end instanceof G&&(d.end=b.end),"number"===typeof b.startRadius&&(d.vo=b.startRadius),"number"===typeof b.endRadius&&(d.Hn=b.endRadius),e=b.colorStops)for(c in e)d.addColorStop(parseFloat(c),
e[c])}else"go.Geometry"===e&&(d="string"===typeof b.path?be(b.path):new Ed,d.type=v.Jl(Ed,b.type),"number"===typeof b.startX&&(d.Ga=b.startX),"number"===typeof b.startY&&(d.Ha=b.startY),"number"===typeof b.endX&&(d.P=b.endX),"number"===typeof b.endY&&(d.Q=b.endY),b.spot1 instanceof G&&(d.n=b.spot1),b.spot2 instanceof G&&(d.o=b.spot2));c=d}return c}return b}
B.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++)var e=a[d],b='"'===e||"\\"===e?b+("\\"+e):"\b"===e?b+"\\b":"\f"===e?b+"\\f":"\n"===e?b+"\\n":"\r"===e?b+"\\r":"\t"===e?b+"\\t":b+e;return'"'+b+'"'};
B.prototype.writeJsonValue=B.prototype.Cv=function(a){var b;if(a===f)b="undefined";else if(a===n)b="null";else if(a===h)b="true";else if(a===p)b="false";else if("string"===typeof a)b=this.quote(a);else if("number"===typeof a)b=Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString();else if(v.isArray(a))b=Ee(this,a);else if(v.Ua(a)){var c=a;if(c instanceof D)a={"class":"go.Point",x:c.x,y:c.y};else if(c instanceof J)a={"class":"go.Size",width:c.width,height:c.height};else if(c instanceof
E)a={"class":"go.Rect",x:c.x,y:c.y,width:c.width,height:c.height};else if(c instanceof Ib)a={"class":"go.Margin",top:c.top,right:c.right,bottom:c.bottom,left:c.left};else if(c instanceof G)a=Wb(c)?{"class":"go.Spot",x:c.x,y:c.y,offsetX:c.offsetX,offsetY:c.offsetY}:{"class":"go.Spot","enum":c.toString()};else if(c instanceof Ge){a={"class":"go.Brush",type:c.type.name};if(c.type===Re)a.color=c.color;else if(c.type===Se||c.type===Te)a.start=c.start,a.end=c.end,c.type===Te&&(0!==c.vo&&(a.startRadius=
c.vo),isNaN(c.Hn)||(a.endRadius=c.Hn));if(c.Cn!==n){for(var d={},c=c.Cn.f;c.next();)d[c.key.toString()]=c.value;a.colorStops=d}}else c instanceof Ed&&(a={"class":"go.Geometry",type:c.type.name},0!==c.Ga&&(a.startX=c.Ga),0!==c.Ha&&(a.startY=c.Ha),0!==c.P&&(a.endX=c.P),0!==c.Q&&(a.endY=c.Q),c.n.z(dc)||(a.spot1=c.n),c.o.z(mc)||(a.spot2=c.o),0<c.Pb.count&&(a.path=a.toString()));var d="{",e=h;for(b in a)if(c=v.cb(a,b),!(c===f||"__gohashid"===b||"_"===b[0]||"function"===typeof c))if(e?e=p:d+=", ",d+='"'+
b+'":',"points"===b&&c instanceof z&&c.M===D){for(var g="[",c=c.f;c.next();){var i=c.value;1<g.length&&(g+=",");g+=this.Cv(i.x);g+=",";g+=this.Cv(i.y)}g+="]";d+=g}else d+=this.Cv(c);b=d+"}"}else b="function"===typeof a?"null":a.toString();return b};function Ee(a,b,c){var d=v.Kb(b),e="[ ";c&&1<d&&(e+="\n");for(var g=0;g<d;g++){var i=v.wb(b,g);i!==f&&(0<g&&(e+=",",c&&(e+="\n")),e+=a.Cv(i))}c&&1<d&&(e+="\n");return e+" ]"}v.a(B,"name",B.prototype.name);
v.defineProperty(B,{name:"name"},s("Db"),function(a){var b=this.Db;b!==a&&(v.e(a,"string",B,"name"),this.Db=a,this.d("name",b,a))});v.a(B,"dataFormat",B.prototype.Fl);v.defineProperty(B,{Fl:"dataFormat"},s("rw"),function(a){var b=this.rw;b!==a&&(v.e(a,"string",B,"dataFormat"),this.rw=a,this.d("dataFormat",b,a))});v.a(B,"isReadOnly",B.prototype.Va);v.defineProperty(B,{Va:"isReadOnly"},s("Vj"),function(a){var b=this.Vj;b!==a&&(v.e(a,"boolean",B,"isReadOnly"),this.Vj=a,this.d("isReadOnly",b,a))});
B.prototype.addChangedListener=B.prototype.Nx=function(a){v.e(a,"function",B,"addChangedListener:listener");this.Ei===n&&(this.Ei=new z("function"));this.Ei.add(a)};B.prototype.removeChangedListener=B.prototype.bz=function(a){v.e(a,"function",B,"removeChangedListener:listener");this.Ei!==n&&(this.Ei.remove(a),0===this.Ei.count&&(this.Ei=n))};B.prototype.Au=function(a){this.tb||this.ia.rC(a);if(this.Ei!==n)for(var b=this.Ei.f;b.next();){var c=b.value;c(a)}};
B.prototype.raiseChangedEvent=B.prototype.be=function(a,b,c,d,e,g,i){Ue(this,"",a,b,c,d,e,g,i)};B.prototype.raiseChanged=B.prototype.d=function(a,b,c,d,e){Ue(this,"",ze,a,this,b,c,d,e)};B.prototype.raiseDataChanged=B.prototype.oK=function(a,b,c,d,e,g){Ue(this,"",ze,b,a,c,d,e,g)};function Ue(a,b,c,d,e,g,i,j,k){j===f&&(j=n);k===f&&(k=n);var l=new xe;l.S=a;l.Xc=c;l.re=b;l.propertyName=d;l.object=e;l.oldValue=g;l.$e=j;l.newValue=i;l.Ze=k;a.Au(l)}v.a(B,"undoManager",B.prototype.ia);
v.defineProperty(B,{ia:"undoManager"},s("Dx"),function(a){var b=this.Dx;b!==a&&(v.c(a,De,B,"undoManager"),b!==n&&b.SG(this),this.Dx=a,a!==n&&a.PE(this))});v.a(B,"skipsUndoManager",B.prototype.tb);v.defineProperty(B,{tb:"skipsUndoManager"},s("Sh"),function(a){v.e(a,"boolean",B,"skipsUndoManager");this.Sh=a});B.prototype.xr=function(a,b){if(a!==n&&a.S===this){var c=this.bl;try{this.bl=h,this.Xx(a,b)}finally{this.bl=c}}};
B.prototype.Xx=function(a,b){if(a.Xc===ze){var c=a.object,d=a.propertyName,e=a.ga(b);v.jb(c,d,e)}else a.Xc===Ae?"nodeDataArray"===a.re?(c=a.newValue,v.Ua(c)&&(d=this.hc(c),d!==f&&(b?(v.bi(this.ig,a.Ze),this.Mc.remove(d)):(v.ai(this.ig,a.Ze,c),this.Mc.add(d,c))))):""===a.re?(c=a.object,!v.isArray(c)&&a.propertyName&&(c=v.cb(a.object,a.propertyName)),v.isArray(c)&&(d=a.newValue,e=a.Ze,b?v.bi(c,e):v.ai(c,e,d))):v.g("unknown ChangedEvent.Insert object: "+a.toString()):a.Xc===Be?"nodeDataArray"===a.re?
(c=a.oldValue,v.Ua(c)&&(d=this.hc(c),d!==f&&(b?(v.ai(this.ig,a.$e,c),this.Mc.add(d,c)):(v.bi(this.ig,a.$e),this.Mc.remove(d))))):""===a.re?(c=a.object,!v.isArray(c)&&a.propertyName&&(c=v.cb(a.object,a.propertyName)),v.isArray(c)&&(d=a.oldValue,e=a.$e,b?v.ai(c,e,d):v.bi(c,e))):v.g("unknown ChangedEvent.Remove object: "+a.toString()):a.Xc!==ye&&v.g("unknown ChangedEvent: "+a.toString())};B.prototype.startTransaction=B.prototype.Sb=function(a){return this.ia.Sb(a)};
B.prototype.commitTransaction=B.prototype.Wd=function(a){return this.ia.Wd(a)};B.prototype.rollbackTransaction=B.prototype.ks=function(){return this.ia.ks()};B.prototype.updateTargetBindings=B.prototype.tc=function(a,b){b===f&&(b="");Ue(this,"SourceChanged",ye,b,a,n,n)};v.a(B,"nodeKeyProperty",B.prototype.Vl);
v.defineProperty(B,{Vl:"nodeKeyProperty"},s("pq"),function(a){var b=this.pq;b!==a&&(Ve(a,B,"nodeKeyProperty"),0<this.Mc.count&&v.g("Cannot set Model.nodeKeyProperty when there is existing node data"),this.pq=a,this.d("nodeKeyProperty",b,a))});function Ve(a,b,c){"string"!==typeof a&&"function"!==typeof a&&v.Fc(a,"string or function",b,c)}
B.prototype.getKeyForNodeData=B.prototype.hc=function(a){if(a!==n){var b=this.pq;if(""!==b&&(b=v.cb(a,b),b!==f)){if(We(b))return b;t&&v.trace("Key value for node data "+a+" is not a number or a string: "+b)}}};v.a(B,"makeUniqueKeyFunction",B.prototype.yG);v.defineProperty(B,{yG:"makeUniqueKeyFunction"},s("st"),function(a){var b=this.st;b!==a&&(a!==n&&v.e(a,"function",B,"makeUniqueKeyFunction"),this.st=a,this.d("makeUniqueKeyFunction",b,a))});
function We(a){return"number"===typeof a||"string"===typeof a}B.prototype.containsNodeData=B.prototype.Ti=function(a){a=this.hc(a);return a===f?p:this.Mc.contains(a)};B.prototype.findNodeDataForKey=B.prototype.nh=function(a){a===n&&v.g("Model.findNodeDataForKey:key must not be null");return a===f||!We(a)?n:this.Mc.ga(a)};v.a(B,"nodeDataArray",B.prototype.th);
v.defineProperty(B,{th:"nodeDataArray"},s("ig"),function(a){var b=this.ig;if(b!==a){v.Cu(a,B,"nodeDataArray");this.Mc.clear();this.tz();for(var c=v.Kb(a),d=0;d<c;d++){var e=v.wb(a,d);if(!v.Ua(e)){v.g("Model.nodeDataArray must only contain Objects, not: "+e);return}v.Rn(e)}this.ig=a;for(var g=new z(Object),d=0;d<c;d++){var e=v.wb(a,d),i=this.hc(e);i===f?g.add(e):this.Mc.ga(i)!==n?g.add(e):this.Mc.add(i,e)}for(d=g.f;d.next();)e=d.value,this.OC(e),g=this.hc(e),this.Mc.add(g,e);Ue(this,"nodeDataArray",
ze,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=v.wb(a,d),this.lv(e),this.kv(e);this.uB();Array.isArray(a)||(this.Va=h)}});
B.prototype.makeNodeDataKeyUnique=B.prototype.OC=function(a){if(a!==n){var b=this.pq;if(""!==b){var c=this.hc(a);if(c===f||this.Mc.contains(c)){var d=this.st;if(d!==n&&(c=d(this,a),c!==f&&c!==n&&!this.Mc.contains(c))){v.jb(a,b,c);return}if("string"===typeof c){for(d=2;this.Mc.contains(c+d);)d++;v.jb(a,b,c+d)}else if(c===f||"number"===typeof c){for(d=-this.Mc.count-1;this.Mc.contains(d);)d--;v.jb(a,b,d)}else v.g("Model.getKeyForNodeData returned something other than a string or a number: "+c)}}}};
B.prototype.addNodeData=B.prototype.vu=function(a){if(a!==n){v.Rn(a);var b=this.hc(a);b!==f&&this.Mc.ga(b)===a||(this.OC(a),b=this.hc(a),this.Mc.add(b,a),b=v.Kb(this.ig),v.ai(this.ig,b,a),Ue(this,"nodeDataArray",Ae,"nodeDataArray",this,n,a,n,b),this.lv(a),this.kv(a))}};B.prototype.removeNodeData=B.prototype.mD=function(a){if(a!==n){var b=this.hc(a);b!==f&&this.Mc.contains(b)&&(this.Mc.remove(b),b=v.Sx(this.ig,a),0>b||(v.bi(this.ig,b),Ue(this,"nodeDataArray",Be,"nodeDataArray",this,a,n,b,n),this.uz(a)))}};
B.prototype.tz=aa();B.prototype.lv=aa();B.prototype.kv=aa();B.prototype.uz=aa();B.prototype.delayReference=B.prototype.rg=function(a,b){if(a!==f){var c=this.Eg.ga(a);c===n&&(c=new va,this.Eg.add(a,c));c.add(b)}};B.prototype.forgetDelayedReference=B.prototype.ph=function(a,b){if(a!==f){var c=this.Eg.ga(a);c instanceof va&&(b===f||b===n?this.Eg.remove(a):(c.remove(b),0===c.count&&this.Eg.remove(a)))}};
B.prototype.dumpDelayedReferences=B.prototype.OI=function(){v.trace("DelayedReferences ("+this.Eg.count+")");for(var a=this.Eg.f;a.next();){for(var b="",c=a.value.f;c.next();)b+=Ce(c.value)+", ";v.trace("  "+a.key+": "+b)}};B.prototype.findDelayedReferences=B.prototype.cC=function(a){if(a===f)return n;a=this.Eg.ga(a);return a instanceof va?a:n};B.prototype.clearUnresolvedReferences=B.prototype.uB=function(a){a===f?this.Eg.clear():this.Eg.remove(a)};v.a(B,"copyNodeDataFunction",B.prototype.vF);
v.defineProperty(B,{vF:"copyNodeDataFunction"},s("Rs"),function(a){var b=this.Rs;b!==a&&(a!==n&&v.e(a,"function",B,"copyNodeDataFunction"),this.Rs=a,this.d("copyNodeDataFunction",b,a))});B.prototype.copyNodeData=B.prototype.Dn=function(a){if(a===n)return n;var b=n,b=this.Rs;if(b!==n)b=b(a);else{var b=new a.constructor,c;for(c in a)v.jb(b,c,v.cb(a,c))}b&&v.Tb(b);return b};
B.prototype.setDataProperty=B.prototype.bH=function(a,b,c){t&&(v.e(a,"object",B,"setDataProperty:data"),v.e(b,"string",B,"setDataProperty:propname"),""===b&&v.g("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.Ti(a))if(b===this.Vl)v.g("Model.setDataProperty: property name must not be the key for the node data: "+b);else if(b===this.Ul&&"string"===typeof c){this.gz(a,c);return}var d=v.cb(a,b);d!==c&&(v.jb(a,b,c),Ue(this,"",ze,b,a,d,c))};
B.prototype.insertArrayItem=B.prototype.AJ=function(a,b,c){t&&(v.Cu(a,B,"insertArrayItem:arr"),v.j(b,B,"insertArrayItem:idx"));0>b&&(b=v.Kb(a));v.ai(a,b,c);Ue(this,"",Ae,"",a,n,c,n,b)};B.prototype.removeArrayItem=B.prototype.sK=function(a,b){b===f&&(b=-1);t&&(v.Cu(a,B,"removeArrayItem:arr"),v.j(b,B,"removeArrayItem:idx"));-1===b&&(b=v.Kb(a)-1);var c=v.wb(a,b);v.bi(a,b);Ue(this,"",Be,"",a,c,n,b,n)};v.a(B,"nodeCategoryProperty",B.prototype.Ul);
v.defineProperty(B,{Ul:"nodeCategoryProperty"},s("nq"),function(a){var b=this.nq;b!==a&&(Ve(a,B,"nodeCategoryProperty"),this.nq=a,this.d("nodeCategoryProperty",b,a))});B.prototype.getCategoryForNodeData=B.prototype.kC=function(a){if(a===n)return"";var b=this.nq;if(""===b)return"";b=v.cb(a,b);if(b===f)return"";if("string"===typeof b)return b;t&&v.trace("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
B.prototype.setCategoryForNodeData=B.prototype.gz=function(a,b){v.e(b,"string",B,"setCategoryForNodeData:val");if(a!==n){var c=this.nq;if(""!==c)if(this.Ti(a)){var d=v.cb(a,c);d===f&&(d="");d!==b&&(v.jb(a,c,b),Ue(this,"nodeCategory",ze,c,a,d,b))}else v.jb(a,c,b)}};function P(a,b){B.call(this);this.Xj=[];this.Up=new va(Object);this.Qs=n;this.Yj="from";this.$j="to";this.Xp=this.Wp="";this.Sp="category";this.Lh=this.Jt="";this.It="isGroup";this.ck="group";a!==f&&(this.th=a);b!==f&&(this.ug=b)}
v.J("GraphLinksModel",P);v.va(P,B);P.prototype.clear=P.prototype.clear=function(){B.prototype.clear.call(this);this.Xj=[];this.Up.clear()};P.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.ND();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){var b=b+"\n node data:",a=this.th,c=v.Kb(a),d;for(d=0;d<c;d++)var e=v.wb(a,d),b=b+(" "+this.hc(e)+":"+Ce(e));b+="\n link data:";a=this.ug;c=v.Kb(a);for(d=0;d<c;d++)e=v.wb(a,d),b+=" "+this.Pn(e)+"--\>"+this.Qn(e)}return b};
P.prototype.writeJsonProtected=P.prototype.fE=function(){var a=B.prototype.fE.call(this),b="";"category"!==this.Wn&&"string"===typeof this.Wn&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.Wn));"from"!==this.Xn&&"string"===typeof this.Xn&&(b+=',\n "linkFromKeyProperty": '+this.quote(this.Xn));"to"!==this.ao&&"string"===typeof this.ao&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.ao));""!==this.Yn&&"string"===typeof this.Yn&&(b+=',\n  "linkFromPortIdProperty": '+this.quote(this.Yn));""!==
this.bo&&"string"===typeof this.bo&&(b+=',\n  "linkToPortIdProperty": '+this.quote(this.bo));""!==this.lo&&"string"===typeof this.lo&&(b+=',\n "nodeIsLinkLabelProperty": '+this.quote(this.lo));""!==this.Zn&&"string"===typeof this.Zn&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.Zn));"isGroup"!==this.ko&&"string"===typeof this.ko&&(b+=',\n "nodeIsGroupProperty": '+this.quote(this.ko));"group"!==this.jo&&"string"===typeof this.jo&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.jo));return a+
b};P.prototype.zz=function(){var a=B.prototype.zz.call(this),b=',\n  "linkDataArray": '+Ee(this,this.ug,h);return a+b};
P.prototype.readJsonProtected=P.prototype.hD=function(a){B.prototype.hD.call(this,a);a.linkFromKeyProperty&&(this.Xn=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.ao=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.Yn=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.bo=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.Wn=a.linkCategoryProperty);a.nodeIsLinkLabelProperty&&(this.lo=a.nodeIsLinkLabelProperty);a.linkLabelKeysProperty&&(this.Zn=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&
(this.ko=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&(this.jo=a.nodeGroupKeyProperty)};P.prototype.$y=function(a){B.prototype.$y.call(this,a);a.linkDataArray&&(a=a.linkDataArray,Fe(this,a),this.ug=a)};
P.prototype.Xx=function(a,b){if(a.Xc===Ae){var c=n;"linkDataArray"===a.re?c=this.ug:"linkLabelKeys"===a.re&&(c=this.Ml(a.object));if(v.isArray(c)){b?v.bi(c,a.Ze):v.ai(c,a.Ze,a.newValue);return}}else if(a.Xc===Be&&(c=n,"linkDataArray"===a.re?c=this.ug:"linkLabelKeys"===a.re&&(c=this.Ml(a.object)),v.isArray(c))){b?v.ai(c,a.$e,a.oldValue):v.bi(c,a.$e);return}B.prototype.Xx.call(this,a,b)};v.a(P,"linkFromKeyProperty",P.prototype.Xn);
v.defineProperty(P,{Xn:"linkFromKeyProperty"},s("Yj"),function(a){var b=this.Yj;b!==a&&(Ve(a,P,"linkFromKeyProperty"),this.Yj=a,this.d("linkFromKeyProperty",b,a))});P.prototype.getFromKeyForLinkData=P.prototype.Pn=function(a){if(a!==n){var b=this.Yj;if(""!==b&&(b=v.cb(a,b),b!==f)){if(We(b))return b;t&&v.trace("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
P.prototype.setFromKeyForLinkData=P.prototype.rv=function(a,b){b===n&&(b=f);b!==f&&!We(b)&&v.Fc(b,"number or string",P,"setFromKeyForLinkData:key");if(a!==n){var c=this.Yj;if(""!==c)if(this.ei(a)){var d=v.cb(a,c);d!==b&&(this.ph(d,a),v.jb(a,c,b),this.nh(b)===n&&this.rg(b,a),Ue(this,"linkFromKey",ze,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else v.jb(a,c,b)}};v.a(P,"linkToKeyProperty",P.prototype.ao);
v.defineProperty(P,{ao:"linkToKeyProperty"},s("$j"),function(a){var b=this.$j;b!==a&&(Ve(a,P,"linkToKeyProperty"),this.$j=a,this.d("linkToKeyProperty",b,a))});P.prototype.getToKeyForLinkData=P.prototype.Qn=function(a){if(a!==n){var b=this.$j;if(""!==b&&(b=v.cb(a,b),b!==f)){if(We(b))return b;t&&v.trace("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
P.prototype.setToKeyForLinkData=P.prototype.sv=function(a,b){b===n&&(b=f);b!==f&&!We(b)&&v.Fc(b,"number or string",P,"setToKeyForLinkData:key");if(a!==n){var c=this.$j;if(""!==c)if(this.ei(a)){var d=v.cb(a,c);d!==b&&(this.ph(d,a),v.jb(a,c,b),this.nh(b)===n&&this.rg(b,a),Ue(this,"linkToKey",ze,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else v.jb(a,c,b)}};v.a(P,"linkFromPortIdProperty",P.prototype.Yn);
v.defineProperty(P,{Yn:"linkFromPortIdProperty"},s("Wp"),function(a){var b=this.Wp;b!==a&&(Ve(a,P,"linkFromPortIdProperty"),this.Wp=a,this.d("linkFromPortIdProperty",b,a))});P.prototype.getFromPortIdForLinkData=P.prototype.XF=function(a){if(a===n)return"";var b=this.Wp;if(""===b)return"";a=v.cb(a,b);return a===f?"":a};
P.prototype.setFromPortIdForLinkData=P.prototype.os=function(a,b){v.e(b,"string",P,"setFromPortIdForLinkData:portname");if(a!==n){var c=this.Wp;if(""!==c)if(this.ei(a)){var d=v.cb(a,c);d===f&&(d="");d!==b&&(v.jb(a,c,b),Ue(this,"linkFromPortId",ze,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else v.jb(a,c,b)}};v.a(P,"linkToPortIdProperty",P.prototype.bo);
v.defineProperty(P,{bo:"linkToPortIdProperty"},s("Xp"),function(a){var b=this.Xp;b!==a&&(Ve(a,P,"linkToPortIdProperty"),this.Xp=a,this.d("linkToPortIdProperty",b,a))});P.prototype.getToPortIdForLinkData=P.prototype.ZF=function(a){if(a===n)return"";var b=this.Xp;if(""===b)return"";a=v.cb(a,b);return a===f?"":a};
P.prototype.setToPortIdForLinkData=P.prototype.ps=function(a,b){v.e(b,"string",P,"setToPortIdForLinkData:portname");if(a!==n){var c=this.Xp;if(""!==c)if(this.ei(a)){var d=v.cb(a,c);d===f&&(d="");d!==b&&(v.jb(a,c,b),Ue(this,"linkToPortId",ze,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else v.jb(a,c,b)}};v.a(P,"nodeIsLinkLabelProperty",P.prototype.lo);
v.defineProperty(P,{lo:"nodeIsLinkLabelProperty"},s("Jt"),function(a){var b=this.Jt;b!==a&&(Ve(a,P,"nodeIsLinkLabelProperty"),this.Jt=a,this.d("nodeIsLinkLabelProperty",b,a))});P.prototype.isLinkLabelForNodeData=P.prototype.Fy=function(a){if(a===n)return p;var b=this.Jt;return""===b?p:v.cb(a,b)?h:p};v.a(P,"linkLabelKeysProperty",P.prototype.Zn);
v.defineProperty(P,{Zn:"linkLabelKeysProperty"},s("Lh"),function(a){var b=this.Lh;b!==a&&(Ve(a,P,"linkLabelKeysProperty"),this.Lh=a,this.d("linkLabelKeysProperty",b,a))});P.prototype.getLabelKeysForLinkData=P.prototype.Ml=function(a){if(a===n)return[];var b=this.Lh;if(""===b)return[];a=v.cb(a,b);return a===f?[]:a};
P.prototype.setLabelKeysForLinkData=P.prototype.FD=function(a,b){v.c(b,Array,P,"setLabelKeysForLinkData:arr");if(a!==n){var c=this.Lh;if(""!==c)if(this.ei(a)){var d=v.cb(a,c);d===f&&(d=[]);if(d!==b){for(var e=v.Kb(d),g=0;g<e;g++){var i=v.wb(d,g);this.ph(i,a)}v.jb(a,c,b);e=v.Kb(b);for(g=0;g<e;g++)i=v.wb(b,g),this.nh(i)===n&&this.rg(i,a);Ue(this,"linkLabelKeys",ze,c,a,d,b);"string"===typeof c&&this.tc(a,c)}}else v.jb(a,c,b)}};
P.prototype.addLabelKeyForLinkData=P.prototype.gB=function(a,b){if(!(b===n||b===f))if(We(b)||v.Fc(b,"number or string",P,"addLabelKeyForLinkData:key"),a!==n){var c=this.Lh;if(""!==c){var d=v.cb(a,c);d===f?this.FD(a,[b]):v.isArray(d)?0<=v.Sx(d,b)||(v.ai(d,Infinity,b),this.ei(a)&&(this.nh(b)===n&&this.rg(b,a),Ue(this,"linkLabelKeys",Ae,c,a,n,b))):v.g(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
P.prototype.removeLabelKeyForLinkData=P.prototype.QG=function(a,b){if(!(b===n||b===f))if(We(b)||v.Fc(b,"number or string",P,"removeLabelKeyForLinkData:key"),a!==n){var c=this.Lh;if(""!==c){var d=v.cb(a,c);if(v.isArray(d)){var e=v.Sx(d,b);0>e||(v.bi(d,e),this.ei(a)&&(this.ph(b,a),Ue(this,"linkLabelKeys",Be,c,a,b,n)))}else d!==f&&v.g(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};v.a(P,"linkDataArray",P.prototype.ug);
v.defineProperty(P,{ug:"linkDataArray"},s("Xj"),function(a){var b=this.Xj;if(b!==a){v.Cu(a,P,"linkDataArray");for(var c=v.Kb(a),d=0;d<c;d++){var e=v.wb(a,d);if(!v.Ua(e)){v.g("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}v.Rn(e)}this.Xj=a;for(var g=new va(Object),d=0;d<c;d++)e=v.wb(a,d),g.add(e);this.Up=g;Ue(this,"linkDataArray",ze,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=v.wb(a,d),Xe(this,e)}});
P.prototype.containsLinkData=P.prototype.ei=function(a){return a===n?p:this.Up.contains(a)};P.prototype.addLinkData=P.prototype.hB=function(a){if(a!==n){if(v.qc(a)===f)v.Tb(a);else if(this.ei(a))return;this.Up.add(a);var b=v.Kb(this.Xj);v.ai(this.Xj,b,a);Ue(this,"linkDataArray",Ae,"linkDataArray",this,n,a,n,b);Xe(this,a)}};
P.prototype.removeLinkData=P.prototype.RG=function(a){if(a!==n){this.Up.remove(a);var b=this.Xj.indexOf(a);if(!(0>b)){v.bi(this.Xj,b);Ue(this,"linkDataArray",Be,"linkDataArray",this,a,n,b,n);b=this.Pn(a);this.ph(b,a);b=this.Qn(a);this.ph(b,a);for(var c=this.Ml(a),d=v.Kb(c),e=0;e<d;e++)b=v.wb(c,e),this.ph(b,a)}}};function Xe(a,b){var c=a.Pn(b);a.nh(c)===n&&a.rg(c,b);c=a.Qn(b);a.nh(c)===n&&a.rg(c,b);for(var d=a.Ml(b),e=v.Kb(d),g=0;g<e;g++)c=v.wb(d,g),a.nh(c)===n&&a.rg(c,b)}
v.a(P,"copyLinkDataFunction",P.prototype.uF);v.defineProperty(P,{uF:"copyLinkDataFunction"},s("Qs"),function(a){var b=this.Qs;b!==a&&(a!==n&&v.e(a,"function",P,"copyLinkDataFunction"),this.Qs=a,this.d("copyLinkDataFunction",b,a))});
P.prototype.copyLinkData=P.prototype.DB=function(a){if(a===n)return n;var b=n,b=this.Qs;if(b!==n)b=b(a);else{var b=new a.constructor,c;for(c in a)v.jb(b,c,v.cb(a,c))}b&&(v.Tb(b),""!==this.Yj&&v.jb(b,this.Yj,f),""!==this.$j&&v.jb(b,this.$j,f),""!==this.Lh&&v.jb(b,this.Lh,[]));return b};v.a(P,"nodeIsGroupProperty",P.prototype.ko);v.defineProperty(P,{ko:"nodeIsGroupProperty"},s("It"),function(a){var b=this.It;b!==a&&(Ve(a,P,"nodeIsGroupProperty"),this.It=a,this.d("nodeIsGroupProperty",b,a))});
P.prototype.isGroupForNodeData=P.prototype.By=function(a){if(a===n)return p;var b=this.It;return""===b?p:v.cb(a,b)?h:p};v.a(P,"nodeGroupKeyProperty",P.prototype.jo);v.defineProperty(P,{jo:"nodeGroupKeyProperty"},s("ck"),function(a){var b=this.ck;b!==a&&(Ve(a,P,"nodeGroupKeyProperty"),this.ck=a,this.d("nodeGroupKeyProperty",b,a))});
P.prototype.getGroupKeyForNodeData=P.prototype.Qr=function(a){if(a!==n){var b=this.ck;if(""!==b&&(b=v.cb(a,b),b!==f)){if(We(b))return b;t&&v.trace("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
P.prototype.setGroupKeyForNodeData=P.prototype.iz=function(a,b){b===n&&(b=f);b!==f&&!We(b)&&v.Fc(b,"number or string",P,"setGroupKeyForNodeData:key");if(a!==n){var c=this.ck;if(""!==c)if(this.Ti(a)){var d=v.cb(a,c);d!==b&&(this.ph(d,a),v.jb(a,c,b),this.nh(b)===n&&this.rg(b,a),Ue(this,"nodeGroupKey",ze,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else v.jb(a,c,b)}};P.prototype.copyNodeData=P.prototype.Dn=function(a){if(a===n)return n;a=B.prototype.Dn.call(this,a);""!==this.ck&&v.jb(a,this.ck,f);return a};
P.prototype.setDataProperty=P.prototype.bH=function(a,b,c){t&&(v.e(a,"object",P,"setDataProperty:data"),v.e(b,"string",P,"setDataProperty:propname"),""===b&&v.g("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.Ti(a))if(b===this.Vl)v.g("GraphLinksModel.setDataProperty: property name must not be the key for the node data: "+b);else{if(b===this.Ul&&"string"===typeof c){this.gz(a,c);return}if(b===this.jo&&("string"===typeof c||"number"===
typeof c)){this.iz(a,c);return}b===this.ko?v.g("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b):b===this.lo&&v.g("GraphLinksModel.setDataProperty: property name must not be the nodeIsLinkLabelProperty: "+b)}else if(this.ei(a)){if(b===this.Xn&&("string"===typeof c||"number"===typeof c)){this.rv(a,c);return}if(b===this.ao&&("string"===typeof c||"number"===typeof c)){this.sv(a,c);return}if(b===this.Yn&&"string"===typeof c){this.os(a,c);return}if(b===this.bo&&
"string"===typeof c){this.ps(a,c);return}if(b===this.Wn&&"string"===typeof c){this.ED(a,c);return}if(b===this.Zn&&v.isArray(c)){this.FD(a,c);return}}var d=v.cb(a,b);d!==c&&(v.jb(a,b,c),Ue(this,"",ze,b,a,d,c))};P.prototype.tz=function(){B.prototype.tz.call(this);for(var a=this.ug,b=v.Kb(a),c=0;c<b;c++)Xe(this,v.wb(a,c))};
P.prototype.lv=function(a){B.prototype.lv.call(this,a);var a=this.hc(a),b=this.cC(a);if(b!==n){for(var c=new z(Object),b=b.f;b.next();){var d=b.value;if(this.Ti(d)){if(this.Qr(d)===a){var e=this.ck;Ue(this,"nodeGroupKey",ze,e,d,a,a);"string"===typeof e&&this.tc(d,e);c.add(d)}}else{this.Pn(d)===a&&(e=this.Yj,Ue(this,"linkFromKey",ze,e,d,a,a),"string"===typeof e&&this.tc(d,e),c.add(d));this.Qn(d)===a&&(e=this.$j,Ue(this,"linkToKey",ze,e,d,a,a),"string"===typeof e&&this.tc(d,e),c.add(d));for(var g=this.Ml(d),
i=v.Kb(g),e=this.Lh,j=0;j<i;j++)v.wb(g,j)===a&&(Ue(this,"linkLabelKeys",Ae,e,d,a,a),c.add(d))}}for(c=c.f;c.next();)this.ph(a,c.value)}};P.prototype.kv=function(a){B.prototype.kv.call(this,a);var b=this.Qr(a);this.nh(b)===n&&this.rg(b,a)};P.prototype.uz=function(a){B.prototype.uz.call(this,a);var b=this.Qr(a);this.ph(b,a)};v.a(P,"linkCategoryProperty",P.prototype.Wn);
v.defineProperty(P,{Wn:"linkCategoryProperty"},s("Sp"),function(a){var b=this.Sp;b!==a&&(Ve(a,P,"linkCategoryProperty"),this.Sp=a,this.d("linkCategoryProperty",b,a))});P.prototype.getCategoryForLinkData=P.prototype.jC=function(a){if(a===n)return"";var b=this.Sp;if(""===b)return"";b=v.cb(a,b);if(b===f)return"";if("string"===typeof b)return b;t&&v.trace("getCategoryForLinkData found a non-string category for "+a+": "+b);return b};
P.prototype.setCategoryForLinkData=P.prototype.ED=function(a,b){v.e(b,"string",P,"setCategoryForLinkData:val");if(a!==n){var c=this.Sp;if(""===c)return"";if(this.ei(a)){var d=v.cb(a,c);d===f&&(d="");d!==b&&(v.jb(a,c,b),Ue(this,"linkCategory",ze,c,a,d,b),"string"===typeof c&&this.tc(a,c))}else v.jb(a,c,b)}};
function Ye(a,b,c){v.Tb(this);a===f?a="":v.e(a,"string",Ye,"constructor:targetprop");b===f?b=a:v.e(b,"string",Ye,"constructor:sourceprop");c===f?c=n:c!==n&&v.e(c,"function",Ye,"constructor:conv");this.WA="";this.tf=n;this.mu=a;this.ku=this.vx=0;this.NA=n;this.fu=b;this.ow=c;this.Ww=Ze;this.iw=n}v.J("Binding",Ye);var Ze;Ye.OneWay=Ze=v.l(Ye,"OneWay",1);var $e;Ye.TwoWay=$e=v.l(Ye,"TwoWay",2);
Ye.parseEnum=function(a,b){v.e(a,"function",Ye,"parseEnum:ctor");v.Za(b,a,Ye,"parseEnum:defval");return function(c){return v.Jl(a,c)||b}};var Ce;Ye.toString=Ce=function(a){var b=a;v.Ua(a)&&(a.text?b=a.text:a.name?b=a.name:a.key!==f?b=a.key:a.id!==f&&(b=a.id));return b===f?"undefined":b===n?"null":b.toString()};Ye.prototype.toString=function(){return"Binding("+this.bm+" "+this.pz+":"+this.kz+")"};Ye.prototype.freeze=function(){this.Sa=h;return this};Ye.prototype.wa=function(){this.Sa=p;return this};
v.a(Ye,"targetId",Ye.prototype.bm);v.defineProperty(Ye,{bm:"targetId"},s("WA"),function(a){v.u(this);v.e(a,"string",Ye,"targetId");this.WA=a});v.a(Ye,"targetProperty",Ye.prototype.pz);v.defineProperty(Ye,{pz:"targetProperty"},s("mu"),function(a){v.u(this);v.e(a,"string",Ye,"targetProperty");this.mu=a});v.a(Ye,"sourceName",Ye.prototype.uo);v.defineProperty(Ye,{uo:"sourceName"},s("NA"),function(a){v.u(this);v.e(a,"string",Ye,"sourceName");this.NA=a});v.a(Ye,"sourceProperty",Ye.prototype.kz);
v.defineProperty(Ye,{kz:"sourceProperty"},s("fu"),function(a){v.u(this);v.e(a,"string",Ye,"sourceProperty");this.fu=a});v.a(Ye,"converter",Ye.prototype.AB);v.defineProperty(Ye,{AB:"converter"},s("ow"),function(a){v.u(this);a!==n&&v.e(a,"function",Ye,"converter");this.ow=a});v.a(Ye,"backConverter",Ye.prototype.sB);v.defineProperty(Ye,{sB:"backConverter"},s("iw"),function(a){v.u(this);a!==n&&v.e(a,"function",Ye,"backConverter");this.iw=a});v.a(Ye,"mode",Ye.prototype.mode);
v.defineProperty(Ye,{mode:"mode"},s("Ww"),function(a){v.u(this);v.Za(a,Ye,Ye,"mode");this.Ww=a});Ye.prototype.makeTwoWay=Ye.prototype.TJ=function(a){a===f&&(a=n);this.mode=$e;this.sB=a;return this};Ye.prototype.ofObject=Ye.prototype.Yy=function(a){a===f&&(a="");t&&v.e(a,"string",Ye,"ofObject:srcname");this.uo=a;return this};
Ye.prototype.updateTarget=Ye.prototype.bE=function(a,b,c){var d=this.fu;if(!(c&&d!==c)){var c=this.mu,e=this.ow;if(!(e===n&&""===c)){t&&("string"===typeof c&&"function"!==typeof a.setAttribute&&!v.yy(a,c))&&v.trace("Binding error: undefined target property: "+c+" on "+a.toString());var g=b;""!==d&&(g=v.cb(b,d));if(g!==f)if(e===n)""!==c&&v.jb(a,c,g);else try{if(""!==c){var i=e(g,a);v.jb(a,c,i)}else e(g,a)}catch(j){t&&v.trace("Binding error: "+j.toString())}}}};
Ye.prototype.updateSource=Ye.prototype.aE=function(a,b,c){if(this.Ww===$e){var d=this.mu;if(!(c&&d!==c)){var c=this.fu,e=this.iw;if(!(e===n&&""===c)){var g=a;""!==d&&(g=v.cb(a,d));if(g!==f)if(e===n)v.jb(b,c,g);else try{if(""!==c){var i=e(g,b);v.jb(b,c,i)}else e(g,b)}catch(j){t&&v.trace("Binding error: "+j.toString())}}}}};function af(){this.mE=(new z(xe)).freeze();this.Db="";this.iA=p}v.J("Transaction",af);
af.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.ih.count.toString()+(this.Sn?"":", incomplete");if(a!==f&&0<a)for(var c=this.ih.count,d=0;d<c;d++){var e=this.ih.R(d);e!==n&&(b+="\n  "+e.toString(a-1))}return b};af.prototype.clear=af.prototype.clear=function(){var a=this.ih;a.wa();for(var b=a.count-1;0<=b;b--){var c=a.R(b);c!==n&&c.clear()}a.clear();a.freeze()};af.prototype.canUndo=af.prototype.sk=s("Sn");
af.prototype.undo=af.prototype.Kk=function(){if(this.sk())for(var a=this.ih.count-1;0<=a;a--){var b=this.ih.R(a);b!==n&&b.Kk()}};af.prototype.canRedo=af.prototype.rk=s("Sn");af.prototype.redo=af.prototype.no=function(){if(this.rk())for(var a=this.ih.count,b=0;b<a;b++){var c=this.ih.R(b);c!==n&&c.no()}};v.m(af,{ih:"changes"},s("mE"));v.a(af,"name",af.prototype.name);v.defineProperty(af,{name:"name"},s("Db"),ba("Db"));v.a(af,"isComplete",af.prototype.Sn);
v.defineProperty(af,{Sn:"isComplete"},s("iA"),ba("iA"));function De(){this.Xw=new va(B);this.Hh=p;this.tE=(new z(af)).freeze();this.Pj=-1;this.oA=999;this.Ih=p;this.Vs=n;this.nk=0;this.lw=p;t&&(this.lw=h);this.hg=(new z("string")).freeze();this.Sm=new z("number");this.Dw=h}v.J("UndoManager",De);
De.prototype.toString=function(a){for(var b="UndoManager "+this.ej+"<"+this.history.count+"<="+this.Oy,b=b+"[",c=this.ZC.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.ZC.R(d);b+="]";if(a!==f&&0<a){c=this.history.count;for(d=0;d<c;d++)b+="\n "+this.history.R(d).toString(a-1)}return b};
De.prototype.clear=De.prototype.clear=function(){var a=this.history;a.wa();for(var b=a.count-1;0<=b;b--){var c=a.R(b);c!==n&&c.clear()}a.clear();this.Pj=-1;a.freeze();this.Ih=p;this.Vs=n;this.nk=0;this.hg.wa();this.hg.clear();this.hg.freeze();this.Sm.clear()};De.prototype.addModel=De.prototype.PE=function(a){this.Xw.add(a)};De.prototype.removeModel=De.prototype.SG=function(a){this.Xw.remove(a)};
De.prototype.startTransaction=De.prototype.Sb=function(a){a===n&&(a="");if(this.hb)return p;this.Dw===h&&(this.Dw=p,this.nk++,this.Dd("StartingFirstTransaction",a,this.El),0<this.nk&&this.nk--);this.isEnabled&&(this.hg.wa(),this.hg.add(a),this.hg.freeze(),this.El===n?this.Sm.add(0):this.Sm.add(this.El.ih.count));this.nk++;var b=1===this.Jk;b&&this.Dd("StartedTransaction",a);return b};De.prototype.commitTransaction=De.prototype.Wd=function(a){return bf(this,h,a)};
De.prototype.rollbackTransaction=De.prototype.ks=function(){return bf(this,p,"")};
function bf(a,b,c){if(a.hb)return p;a.Yx&&1>a.Jk&&v.trace("Ending transaction without having started a transaction: "+c);var d=1===a.Jk;d&&(b&&a.isEnabled)&&a.Dd("CommittingTransaction",c,a.El);var e=0;if(0<a.Jk&&(a.nk--,a.isEnabled)){var g=a.hg.count;0<g&&(""===c&&(c=a.hg.R(0)),a.hg.wa(),a.hg.ue(g-1),a.hg.freeze());g=a.Sm.count;0<g&&(e=a.Sm.R(g-1),a.Sm.ue(g-1))}g=a.El;if(d){if(b){if(a.isEnabled&&g!==n){b=g;b.Sn=h;b.name=c;d=a.history;d.wa();for(e=d.count-1;e>a.ej;e--)g=d.R(e),g!==n&&g.clear(),d.ue(e);
e=a.Oy;0===e&&(e=1);0<e&&d.count>=e&&(g=d.R(0),g!==n&&g.clear(),d.ue(0),a.Pj--);d.add(b);a.Pj++;d.freeze();g=b}a.Dd("CommittedTransaction",c,g)}else{a.Ih=h;try{a.isEnabled&&g!==n&&(g.Sn=h,g.Kk())}finally{a.Dd("RolledBackTransaction",c,g),a.Ih=p}g!==n&&g.clear()}a.Vs=n;return h}if(a.isEnabled&&!b&&g!==n){a=e;c=g.ih;c.wa();for(b=c.count-1;b>=a;b--)d=c.R(b),d!==n&&d.Kk(),c.ue(b);c.freeze()}return p}
De.prototype.canUndo=De.prototype.sk=function(){if(!this.isEnabled||0<this.Jk||this.hb)return p;var a=this.VD;return a!==n&&a.sk()?h:p};De.prototype.undo=De.prototype.Kk=function(){if(this.sk()){var a=this.VD;try{this.Dd("StartingUndo","Undo",a),this.Ih=h,this.Pj--,a.Kk()}catch(b){v.trace("undo error: "+b.toString())}finally{this.Ih=p,this.Dd("FinishedUndo","Undo",a)}}};
De.prototype.canRedo=De.prototype.rk=function(){if(!this.isEnabled||0<this.Jk||this.hb)return p;var a=this.UD;return a!==n&&a.rk()?h:p};De.prototype.redo=De.prototype.no=function(){if(this.rk()){var a=this.UD;try{this.Dd("StartingRedo","Redo",a),this.Ih=h,this.Pj++,a.no()}catch(b){v.trace("redo error: "+b.toString())}finally{this.Ih=p,this.Dd("FinishedRedo","Redo",a)}}};
De.prototype.Dd=function(a,b,c){c===f&&(c=n);var d=new xe;d.Xc=ye;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.CG;a.next();)b=a.value,d.S=b,b.Au(d)};De.prototype.handleChanged=De.prototype.rC=function(a){if(this.isEnabled&&!this.hb&&!this.skipsEvent(a)){var b=this.El;b===n&&(this.Vs=b=new af);var c=a.copy(),b=b.ih;b.wa();b.add(c);b.freeze();this.Yx&&(0>=this.Jk&&!this.Dw)&&(a=a.b,a!==n&&a.$f===p||v.trace("Change not within a transaction: "+c.toString()))}};
De.prototype.skipsEvent=De.prototype.HK=function(a){if(a===n||0>a.Xc.value)return h;a=a.object;if(a instanceof Q){if(a=a.za,a!==n&&a.Zc)return h}else if(a instanceof cf&&a.Zc)return h;return p};v.m(De,{CG:"models"},function(){return this.Xw.f});v.a(De,"isEnabled",De.prototype.isEnabled);v.defineProperty(De,{isEnabled:"isEnabled"},s("Hh"),ba("Hh"));v.m(De,{VD:"transactionToUndo"},function(){return 0<=this.ej&&this.ej<=this.history.count-1?this.history.R(this.ej):n});
v.m(De,{UD:"transactionToRedo"},function(){return this.ej<this.history.count-1?this.history.R(this.ej+1):n});v.m(De,{hb:"isUndoingRedoing"},s("Ih"));v.m(De,{history:"history"},s("tE"));v.a(De,"maxHistoryLength",De.prototype.Oy);v.defineProperty(De,{Oy:"maxHistoryLength"},s("oA"),ba("oA"));v.m(De,{ej:"historyIndex"},s("Pj"));v.m(De,{El:"currentTransaction"},s("Vs"));v.m(De,{Jk:"transactionLevel"},s("nk"));v.m(De,{kG:"isInTransaction"},function(){return 0<this.nk});
v.defineProperty(De,{Yx:"checksTransactionLevel"},s("lw"),ba("lw"));v.m(De,{ZC:"nestedTransactionNames"},s("hg"));function ya(){this.N=n;this.Uz=this.Pz=p;this.bk=this.Iz=n}v.J("CommandHandler",ya);var df=n,ef="";ya.prototype.toString=ca("CommandHandler");v.m(ya,{b:"diagram"},s("N"));ya.prototype.Jf=function(a){t&&a!==n&&v.c(a,A,ya,"setDiagram");this.N=a};
ya.prototype.doKeyDown=ya.prototype.ly=function(){var a=this.b;if(a!==n){var b=a.H,c=b.uk,d=b.shift,e=b.alt,g=b.key;c&&("C"===g||"Insert"===g)?this.canCopySelection()&&this.copySelection():c&&"X"===g||d&&"Del"===g?this.canCutSelection()&&this.cutSelection():"Del"===g?this.canDeleteSelection()&&this.deleteSelection():c&&"V"===g||d&&"Insert"===g?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===g||e&&d&&"Backspace"===g?this.canRedo()&&this.redo():c&&"Z"===g||e&&"Backspace"===g?this.canUndo()&&
this.undo():c&&"A"===g?this.canSelectAll()&&this.selectAll():c&&"P"===g?this.canPrint()&&this.print():"Esc"===g?this.canStopCommand()&&this.stopCommand():"Up"===g?a.Oe&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===g?a.Oe&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===g?a.Ne&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===g?a.Ne&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===g?a.Ne?a.scroll("page","left"):!c&&a.Oe&&a.scroll("page","up"):
"PageDown"===g?a.Ne?a.scroll("page","right"):!c&&a.Oe&&a.scroll("page","down"):"Home"===g?(b=a.oc,c&&a.Oe?a.position=new D(a.position.x,b.y):!c&&a.Ne&&(a.position=new D(b.x,a.position.y))):"End"===g?(b=a.oc,d=a.ub,c&&a.Oe?a.position=new D(d.x,b.bottom-d.height):!c&&a.Ne&&(a.position=new D(b.right-d.width,d.y))):"Subtract"===g?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===g?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===g?this.canResetZoom()&&this.resetZoom():c&&!d&&"G"===g?this.canGroupSelection()&&
this.groupSelection():c&&d&&"G"===g?this.canUngroupSelection()&&this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.bubbles=h}};ya.prototype.doKeyUp=ya.prototype.my=function(){var a=this.b;a!==n&&(a.H.bubbles=h)};ya.prototype.stopCommand=ya.prototype.OK=function(){var a=this.b;if(a!==n){var b=a.ya;b instanceof ff&&a.Td&&a.$x();b!==n&&b.doCancel()}};ya.prototype.canStopCommand=ya.prototype.eI=ca(h);
ya.prototype.selectAll=ya.prototype.BK=function(){var a=this.b;if(a!==n)try{a.Dc="wait";a.la("ChangingSelection");for(var b=a.kj;b.next();)b.value.La=h;for(b=a.Ck;b.next();)b.value.La=h;for(b=a.links;b.next();)b.value.La=h}finally{a.la("ChangedSelection"),a.Dc=""}};ya.prototype.canSelectAll=ya.prototype.dI=function(){var a=this.b;return a!==n&&a.Td};
ya.prototype.deleteSelection=ya.prototype.FI=function(){var a=this.b;if(a!==n&&!a.la("SelectionDeleting",a.selection))try{a.Dc="wait";a.Sb("Delete");a.la("ChangingSelection");for(var b=new va(R),c=a.selection.f;c.next();)rf(b,c.value,h,this.SB,function(a){return a.canDelete()});this.deleteParts(b,h);a.la("SelectionDeleted",b)}finally{a.la("ChangedSelection"),a.Wd("Delete"),a.Dc=""}};
ya.prototype.canDeleteSelection=ya.prototype.OH=function(){var a=this.b;return a===n||(a.Va||a.Yd)||!a.pk||0===a.selection.count?p:h};ya.prototype.deleteParts=ya.prototype.AF=function(a,b){for(var c=a.f;c.next();){var d=c.value;if(!b||d.canDelete()){var e=d.b;e!==n&&e.remove(d)}}};
function rf(a,b,c,d,e){if(!a.contains(b)&&(e===f&&(e=n),(e===n||e(b))&&!(b instanceof sf)))if(a.add(b),b instanceof S){if(c&&b instanceof T)for(var g=b.sc;g.next();){var i=g.value;rf(a,i,c,d,e)}for(i=b.qe;i.next();)if(g=i.value,!a.contains(g)){var j=g.ja,k=g.na;j!==n&&a.contains(j)&&k!==n&&a.contains(k)?rf(a,g,c,d,e):(j===n||k===n)&&rf(a,g,c,d,e)}if(d){i=h;g=b.b;g!==n&&(i=g.Df);for(b=i?b.Kn():b.Jn();b.next();)i=b.value,rf(a,i,c,d,e)}}else if(b instanceof V)for(i=b.oi;i.next();)rf(a,i.value,c,d,e)}
ya.prototype.copyParts=ya.prototype.xI=function(a,b,c){for(var d=new ra(R,R),a=a.f;a.next();)tf(this,a.value,b,d,c);if(b!==n){c=new va(V);for(a=d.f;a.next();){var e=a.value;e instanceof V&&(e.ja===n||e.na===n)&&c.add(e)}0<c.count&&b.Gd.AF(c,p)}for(b=d.f;b.next();)b.value.tc();return d};
function tf(a,b,c,d,e){if(b===n||e&&!b.canCopy())return n;if(d.contains(b))return a=d.ga(b),a instanceof R?a:n;var g=n,i=b.data;if(i!==n&&c!==n){var j=c.S;b instanceof V?j instanceof P&&(i=j.DB(i),v.Ua(i)&&(j.hB(i),g=c.tg(i))):(i=j.Dn(i),v.Ua(i)&&(j.vu(i),g=c.tg(i)))}else uf(b),g=b.copy(),c!==n&&g instanceof R&&c.add(g);if(!(g instanceof R))return n;g.La=p;d.add(b,g);if(b instanceof S){for(j=b.qe;j.next();){i=j.value;if(i.ja===b){var k=d.ga(i);k!==n&&(k.ja=g)}i.na===b&&(k=d.ga(i),k!==n&&(k.na=g))}if(b instanceof
T&&g instanceof T)for(b=b.sc;b.next();)j=tf(a,b.value,c,d,e),!(j instanceof V)&&j!==n&&(j.$a=g)}else if(b instanceof V){j=b.ja;j!==n&&(j=d.ga(j),j!==n&&(g.ja=j));j=b.na;j!==n&&(j=d.ga(j),j!==n&&(g.na=j));for(b=b.oi;b.next();)j=tf(a,b.value,c,d,e),j!==n&&(j.pe=g)}return g}ya.prototype.copySelection=ya.prototype.zI=function(){var a=this.b;if(a!==n){for(var b=new va(R),a=a.selection.f;a.next();)rf(b,a.value,h,this.CB,function(a){return a.canCopy()});this.copyToClipboard(b)}};
ya.prototype.canCopySelection=ya.prototype.KH=function(){var a=this.b;return a===n||(!a.Yh||!a.xu)||0===a.selection.count?p:h};ya.prototype.cutSelection=ya.prototype.CI=function(){this.copySelection();this.deleteSelection()};ya.prototype.canCutSelection=ya.prototype.LH=function(){var a=this.b;return a===n||(a.Va||a.Yd)||(!a.Yh||!a.pk||!a.xu)||0===a.selection.count?p:h};
ya.prototype.copyToClipboard=ya.prototype.AI=function(a){var b=this.b;if(b!==n){var c=n;a===n?(df=n,ef=""):(a=this.copyParts(a,n,h),c=new z(R),c.og(a),df=c,ef=b.S.Fl);b.la("ClipboardChanged",c)}};
ya.prototype.pasteFromClipboard=ya.prototype.jK=function(){var a=df;if(a===n)return v.Pf;var b=this.b;if(b===n||ef!==b.S.Fl)return v.Pf;b=this.copyParts(a,b,p);a=new va(R);for(b=b.f;b.next();){var c=b.value;c.location.ca()||(c.location=b.key.location.copy());c.position.ca()||(c.position=b.key.position.copy());a.add(c)}return a};
ya.prototype.pasteSelection=ya.prototype.kK=function(a){var b=this.b;if(b!==n)try{b.Dc="wait";b.Sb("Paste");b.la("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&vf(b);for(var d=c.f;d.next();)d.value.La=h;b.la("ChangedSelection");if(a instanceof D){var e=this.computeBounds(b.selection);if(e){var g=b.Zb.me,i=g.computeEffectiveCollection(b.selection);g.moveParts(i,new D(a.x-e.Da,a.y-e.Ea),p)}}b.la("ClipboardPasted",c)}finally{b.Wd("Paste"),b.Dc=""}};
ya.prototype.canPasteSelection=ya.prototype.XH=function(){var a=this.b;return a===n||(a.Va||a.Yd)||(!a.un||!a.xu)||df===n||ef!==a.S.Fl?p:h};ya.prototype.computeBounds=ya.prototype.Qe=function(a){for(var b=n,a=a.f;a.next();){var c=a.value;c instanceof V||(c.ii(),b===n?b=c.pa:b.rj(c.pa))}return b};ya.prototype.undo=ya.prototype.Kk=function(){var a=this.b;a!==n&&a.ia.Kk()};ya.prototype.canUndo=ya.prototype.sk=function(){var a=this.b;return a===n||a.Va||a.Yd?p:a.Px&&a.ia.sk()};
ya.prototype.redo=ya.prototype.no=function(){var a=this.b;a!==n&&a.ia.no()};ya.prototype.canRedo=ya.prototype.rk=function(){var a=this.b;return a===n||a.Va||a.Yd?p:a.Px&&a.ia.rk()};ya.prototype.decreaseZoom=ya.prototype.wF=function(a){a===f&&(a=1/1.05);var b=this.b;b!==n&&(a*=b.scale,a<b.jj||a>b.ij||(b.scale=a,wf(b)))};ya.prototype.canDecreaseZoom=ya.prototype.MH=function(a){a===f&&(a=1/1.05);var b=this.b;if(b===n)return p;a*=b.scale;return a<b.jj||a>b.ij?p:b.ur};
ya.prototype.increaseZoom=ya.prototype.dG=function(a){a===f&&(a=1.05);var b=this.b;b!==n&&(a*=b.scale,a<b.jj||a>b.ij||(b.scale=a,wf(b)))};ya.prototype.canIncreaseZoom=ya.prototype.VH=function(a){a===f&&(a=1.05);var b=this.b;if(b===n)return p;a*=b.scale;return a<b.jj||a>b.ij?p:b.ur};ya.prototype.resetZoom=ya.prototype.wK=function(a){a===f&&(a=1);var b=this.b;if(b!==n&&!(a<b.jj||a>b.ij))b.scale=a,wf(b)};
ya.prototype.canResetZoom=ya.prototype.$H=function(a){a===f&&(a=1);var b=this.b;return b===n||a<b.jj||a>b.ij?p:b.ur};ya.prototype.collapseTree=ya.prototype.zr=function(a){a===f&&(a=n);var b=this.b;if(b===n)return p;b.Sb("Collapse Tree");var c=new z(S);if(a instanceof S&&a.$d)a.zr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof S&&d.$d&&(d.zr(),c.add(d))}b.la("TreeCollapsed",c);b.Wd("Collapse Tree")};
ya.prototype.canCollapseTree=ya.prototype.IH=function(a){a===f&&(a=n);var b=this.b;if(b===n||b.Va)return p;if(a instanceof S){if(!a.$d)return p;if(b.Df){if(0<a.Kn().count)return h}else if(0<a.Jn().count)return h}else for(a=b.selection.f;a.next();){var c=a.value;if(c instanceof S&&c.$d)if(b.Df){if(0<c.Kn().count)return h}else if(0<c.Jn().count)return h}return p};
ya.prototype.expandTree=ya.prototype.Gr=function(a){a===f&&(a=n);var b=this.b;if(b===n)return p;b.Sb("Expand Tree");var c=new z(S);if(a instanceof S&&!a.$d)a.Gr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof S&&!d.$d&&(d.Gr(),c.add(d))}b.la("TreeExpanded",c);b.Wd("Expand Tree")};
ya.prototype.canExpandTree=ya.prototype.SH=function(a){a===f&&(a=n);var b=this.b;if(b===n||b.Va)return p;if(a instanceof S){if(a.$d)return p;if(b.Df){if(0<a.Kn().count)return h}else if(0<a.Jn().count)return h}else for(a=b.selection.f;a.next();){var c=a.value;if(c instanceof S&&!c.$d)if(b.Df){if(0<c.Kn().count)return h}else if(0<c.Jn().count)return h}return p};
ya.prototype.groupSelection=ya.prototype.rJ=function(){var a=this.b;if(a!==n){var b=a.S;if(b!==n&&b instanceof P){var c=this.Qx;if(c!==n)try{a.Dc="wait";a.Sb("Group");a.la("ChangingSelection");for(var d=new z(R),e=a.selection.f;e.next();){var g=e.value;g.Zd()&&g.canGroup()&&d.add(g)}for(var i=new z(R),j=d.f;j.next();){for(var k=j.value,g=p,e=d.f;e.next();)if(k.Ql(e.value)){g=h;break}g||i.add(k)}if(0<i.count){e=i.f;e.next();var l=e.value.$a;if(l!==n)for(;l!==n;){e=i.f;e.next();for(d=p;e.next();)if(k=
e.value,!k.Ql(l)){d=h;break}if(d)l=l.$a;else break}var m=n;if(c instanceof T)uf(c),m=c.copy(),m instanceof T&&a.add(m);else if(b.By(c)){var q=b.Dn(c);v.Ua(q)&&(b.vu(q),m=a.tg(q))}if(m instanceof T){l!==n&&this.isValidMember(l,m)&&(m.$a=l);for(e=i.f;e.next();)k=e.value,this.isValidMember(m,k)&&(k.$a=m);a.select(m)}}a.la("ChangedSelection");a.la("SelectionGrouped",m)}finally{a.Wd("Group"),a.Dc=""}}}};
ya.prototype.canGroupSelection=ya.prototype.UH=function(){var a=this.b;if(a===n||a.Va||a.Yd||!a.un||!a.tn)return p;var b=a.S;if(b===n||!(b instanceof P)||this.Qx===n)return p;for(a=a.selection.f;a.next();)if(b=a.value,b.Zd()&&b.canGroup())return h;return p};ya.prototype.findUnnestedNodes=ya.prototype.sy=function(a){for(var b=[],a=a.f;a.next();){var c=a.value;c instanceof V||b.push(c)}for(var a=new va(R),c=b.length,d=0;d<c;d++){for(var e=b[d],g=h,i=0;i<c;i++)if(e.Ql(b[i])){g=p;break}g&&a.add(e)}return a};
ya.prototype.isValidMember=ya.prototype.Hy=function(a,b){if(b===n||a===b||b instanceof V)return p;if(a!==n){if(a===b||a.Ql(b))return p;var c=a.as;if(c!==n&&!c(a,b)||a.data===n&&b.data!==n||a.data!==n&&b.data===n)return p}c=this.as;return c!==n?c(a,b):h};
ya.prototype.ungroupSelection=ya.prototype.TK=function(a){a===f&&(a=n);var b=this.b;if(b!==n){var c=b.S;if(c!==n&&c instanceof P)try{b.Dc="wait";b.Sb("Ungroup");b.la("ChangingSelection");var d=new z(T);if(a instanceof T)d.add(a);else for(var e=b.selection.f;e.next();){var g=e.value;g instanceof T&&g.canUngroup()&&d.add(g)}if(0<d.count){b.$x();for(e=d.f;e.next();){var i=e.value,j=i.data,k=i.$a,l=k!==n&&k.data!==n?c.hc(k.data):f,m=new z(R);m.og(i.sc);for(var q=m.f;q.next();){var r=q.value;if(!(r instanceof
V)){var u=r.data;u!==n?c.iz(u,l):r.$a=k;r.La=h}}j!==n?c.mD(j):b.remove(i)}}b.la("ChangedSelection");b.la("SelectionUngrouped",d)}finally{b.Wd("Ungroup"),b.Dc=""}}};ya.prototype.canUngroupSelection=ya.prototype.gI=function(a){a===f&&(a=n);var b=this.b;if(b===n||b.Va||b.Yd||!b.pk||!b.An)return p;var c=b.S;if(c===n||!(c instanceof P))return p;if(a instanceof T){if(a.canUngroup())return h}else for(a=b.selection.f;a.next();)if(b=a.value,b instanceof T&&b.canUngroup())return h;return p};
ya.prototype.addTopLevelParts=ya.prototype.DH=function(a,b){for(var c=h,d=this.sy(a).f;d.next();){var e=d.value;e.$a!==n&&(!b||this.Hy(n,e)?e.$a=n:c=p)}return c};ya.prototype.collapseSubGraph=ya.prototype.yr=function(a){a===f&&(a=n);var b=this.b;if(b===n)return p;b.Sb("Collapse SubGraph");var c=new z(T);if(a instanceof T&&a.oe)a.yr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof T&&d.oe&&(d.yr(),c.add(d))}b.la("SubGraphCollapsed",c);b.Wd("Collapse SubGraph")};
ya.prototype.canCollapseSubGraph=ya.prototype.HH=function(a){a===f&&(a=n);var b=this.b;if(b===n||b.Va)return p;if(a instanceof T)return!a.oe?p:h;for(a=b.selection.f;a.next();)if(b=a.value,b instanceof T&&b.oe)return h;return p};
ya.prototype.expandSubGraph=ya.prototype.Fr=function(a){a===f&&(a=n);var b=this.b;if(b===n)return p;b.Sb("Expand SubGraph");var c=new z(T);if(a instanceof T&&!a.oe)a.Fr(),c.add(a);else for(a=b.selection.f;a.next();){var d=a.value;d instanceof T&&!d.oe&&(d.Fr(),c.add(d))}b.la("SubGraphExpanded",c);b.Wd("Expand SubGraph")};
ya.prototype.canExpandSubGraph=ya.prototype.RH=function(a){a===f&&(a=n);var b=this.b;if(b===n||b.Va)return p;if(a instanceof T)return a.oe?p:h;for(a=b.selection.f;a.next();)if(b=a.value,b instanceof T&&!b.oe)return h;return p};
ya.prototype.editTextBlock=ya.prototype.QI=function(a){a===f&&(a=n);var b=this.b;if(b!==n&&b.Zb!==n){var c=b.Zb.wv;if(c!==n){if(a===n){for(var a=b.selection.f,d=n;a.next();){var e=a.value;if(e.canEdit()){d=e;break}}if(d===n)return;a=d.eC(function(a){return a instanceof xa&&a.Mu})}a!==n&&a instanceof xa&&(c.Nf=a,b.ya=c)}}};
ya.prototype.canEditTextBlock=ya.prototype.QH=function(a){a===f&&(a=n);var b=this.b;if(b===n||(b.Va||b.Yd)||!b.zn||b.Zb===n||b.Zb.wv===n)return p;if(a instanceof xa){if(a=a.ba,a!==n&&a.canEdit())return h}else for(b=b.selection.f;b.next();)if(a=b.value,a.canEdit()&&(a=a.eC(function(a){return a instanceof xa&&a.Mu}),a!==n))return h;return p};ya.prototype.print=ya.prototype.print=aa();ya.prototype.canPrint=ya.prototype.mF=function(){var a=this.b;return a!==n&&a.vn};v.a(ya,"copiesTree",ya.prototype.CB);
v.defineProperty(ya,{CB:"copiesTree"},s("Pz"),ba("Pz"));v.a(ya,"deletesTree",ya.prototype.SB);v.defineProperty(ya,{SB:"deletesTree"},s("Uz"),ba("Uz"));v.a(ya,"archetypeGroupData",ya.prototype.Qx);
v.defineProperty(ya,{Qx:"archetypeGroupData"},s("Iz"),function(a){a!==n&&v.c(a,Object,ya,"archetypeGroupData");var b=this.b;b!==n&&(b=b.S,b!==n&&!(a instanceof T)&&!b.By(a)&&v.g("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a));this.Iz=a});v.a(ya,"memberValidation",ya.prototype.as);v.defineProperty(ya,{as:"memberValidation"},s("bk"),function(a){a!==n&&v.e(a,"function",ya,"memberValidation");this.bk=a});
function xf(){v.Tb(this);this.N=n;this.Db="";this.Hh=h;this.gA=p;this.aB=n;this.su=-1}v.J("Tool",xf);xf.prototype.Jf=function(a){t&&a!==n&&v.c(a,A,xf,"setDiagram");this.N=a};xf.prototype.toString=function(){return""!==this.name?this.name+" Tool":v.dj(Object.getPrototypeOf(this))};xf.prototype.updateAdornments=xf.prototype.ti=aa();xf.prototype.canStart=xf.prototype.wf=s("isEnabled");xf.prototype.doStart=xf.prototype.ny=aa();xf.prototype.doActivate=xf.prototype.hi=function(){this.W=h};
xf.prototype.doDeactivate=xf.prototype.wk=function(){this.W=p};xf.prototype.doStop=xf.prototype.$i=aa();xf.prototype.doCancel=xf.prototype.Zi=function(){this.stopTool()};xf.prototype.stopTool=xf.prototype.PK=function(){var a=this.b;a!==n&&a.ya===this&&(a.ya=n,a.Dc="")};xf.prototype.doMouseDown=xf.prototype.Lu=function(){!this.W&&this.canStart()&&this.doActivate()};xf.prototype.doMouseMove=xf.prototype.mh=aa();xf.prototype.doMouseUp=xf.prototype.Te=function(){this.stopTool()};
xf.prototype.doMouseWheel=xf.prototype.FF=aa();xf.prototype.doKeyDown=xf.prototype.ly=function(){var a=this.b;a!==n&&"Esc"===a.H.key&&this.doCancel()};xf.prototype.doKeyUp=xf.prototype.my=aa();xf.prototype.startTransaction=xf.prototype.Sb=function(a){this.ye=n;var b=this.b;return b===n?p:b.Sb(a)};xf.prototype.stopTransaction=xf.prototype.oj=function(){var a=this.b;return a===n?p:this.ye===n?a.ks():a.Wd(this.ye)};
xf.prototype.standardMouseSelect=xf.prototype.fH=function(){var a=this.b;if(a!==n&&a.Td){var b=a.H,c=a.Ir(b.D,h);c!==n?b.uk?(a.la("ChangingSelection"),c.La=!c.La,a.la("ChangedSelection")):b.shift?c.La||(a.la("ChangingSelection"),c.La=h,a.la("ChangedSelection")):c.La||a.select(c):b.left&&(!b.uk&&!b.shift)&&a.$x()}};xf.prototype.standardMouseClick=xf.prototype.KK=function(a,b){a===f&&(a=n);b===f&&(b=function(a){return!a.za.Zc});var c=this.b;if(c!==n){var d=c.H,e=c.Yc(d.D,a,b);d.md=e;yf(e,d,c)}};
function yf(a,b,c){var d=0;b.left?d=1===b.Pe?1:2===b.Pe?2:1:b.right&&1===b.Pe&&(d=3);var e="";if(a!==n){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.la(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.la(e)}if(a!==n)for(;a!==n;){e=n;switch(d){case 1:e=a.click;break;case 2:e=a.Hl?a.Hl:a.click;break;case 3:e=a.Ar}if(e!==n&&
(e(b,a),b.Hd))break;a=a.Y}else{e=n;switch(d){case 1:e=c.click;break;case 2:e=c.Hl?c.Hl:c.click;break;case 3:e=c.Ar}e!==n&&e(b)}}
xf.prototype.standardMouseOver=xf.prototype.LK=function(){var a=this.b;if(a!==n){var b=a.H,c=a.Yc(b.D,n,n);b.md=c;var d=a.tb;a.tb=h;var e=p;if(c!==a.qm){var g=a.qm;a.lx=g;a.qm=c;for(this.doCurrentObjectChanged(g,c);g!==n;){var i=g.Sy;if(i!==n){if(c===g)break;if(c!==n&&c.ni(g))break;i(b,g,c);e=h;if(b.Hd)break}g=g.Y}for(g=a.lx;c!==n;){i=c.Ry;if(i!==n){if(g===c)break;if(g!==n&&g.ni(c))break;i(b,c,g);e=h;if(b.Hd)break}c=c.Y}c=a.qm}if(c!==n){g=c;for(i="";g!==n;){i=g.cursor;if(""!==i)break;g=g.Y}a.Dc=i;
for(g=c;g!==n;){i=g.es;if(i!==n&&(i(b,g),e=h,b.Hd))break;g=g.Y}}else a.Dc="",i=a.es,i!==n&&(i(b),e=h);e&&a.update();a.tb=d}};xf.prototype.doCurrentObjectChanged=xf.prototype.EF=aa();
xf.prototype.standardMouseWheel=xf.prototype.MK=function(){var a=this.b;if(a!==n){var b=a.H,c=b.Xi;if(0!==c){var d=a.Zb.Tl;if(a.ur&&(d===zf&&!b.shift||d===Af&&b.uk)){d=a.Nk;a.Nk=b.Gc;var e=a.Gd;e!==n?0<c?e.dG():e.wF():a.scale=0<c?1.05*a.scale:a.scale/1.05;a.Nk=d;b.bubbles=p}else if(d===zf&&b.shift||d===Af&&!b.uk)d=a.position.copy(),!b.shift&&a.Oe?0<c?a.scroll("line","up",3):a.scroll("line","down",3):b.shift&&a.Ne&&(0<c?a.scroll("line","left",3):a.scroll("line","right",3)),a.position.z(d)||(b.bubbles=
p)}}};xf.prototype.standardWaitAfter=xf.prototype.NK=function(a){v.e(a,"number",xf,"standardWaitAfter:delay");this.cancelWaitAfter();var b=this;this.su=window.setTimeout(function(){b.doWaitAfter()},a)};xf.prototype.cancelWaitAfter=xf.prototype.hI=function(){-1!==this.su&&window.clearTimeout(this.su);this.su=-1};xf.prototype.doWaitAfter=xf.prototype.IF=aa();
xf.prototype.findToolHandleAt=xf.prototype.cJ=function(a,b){var c=this.b;if(c===n)return n;c=c.Yc(a,n,function(a){a=a.ba;return a===n?p:a.Sd!==n});if(c===n)return n;var d=c.ba;return d===n||d.vd!==b?n:c};xf.prototype.isBeyondDragSize=xf.prototype.FJ=function(){var a=this.b;if(a===n)return p;var b=a.pc.Gc,a=a.H.Gc,c=2;v.tx&&(c+=4);return Math.abs(a.x-b.x)>c||Math.abs(a.y-b.y)>c};v.m(xf,{b:"diagram"},s("N"));v.a(xf,"name",xf.prototype.name);v.defineProperty(xf,{name:"name"},s("Db"),ba("Db"));
v.a(xf,"isEnabled",xf.prototype.isEnabled);v.defineProperty(xf,{isEnabled:"isEnabled"},s("Hh"),ba("Hh"));v.a(xf,"isActive",xf.prototype.W);v.defineProperty(xf,{W:"isActive"},s("gA"),ba("gA"));v.a(xf,"transactionResult",xf.prototype.ye);v.defineProperty(xf,{ye:"transactionResult"},s("aB"),ba("aB"));function Bf(a){this.ix=a!==f?a.copy():new D;this.MA=n}Bf.prototype.toString=function(){return this.ix.toString()};v.a(Bf,"point",Bf.prototype.uh);v.defineProperty(Bf,{uh:"point"},s("ix"),ba("ix"));
function Cf(){xf.call(this);this.name="Dragging";this.Oz=h;this.cl=this.aA=p;this.Gw=(new J(NaN,NaN)).freeze();this.Hw=dc;this.Iw=(new D(NaN,NaN)).freeze();this.Yz=this.jA=p;this.Zz=this.Nz=this.$z=this.Rz=n;this.hp=this.Xz=p;this.bn=new D(NaN,NaN);this.Vh=new D;this.iu=p;this.eu=h;this.um=100;this.Xk=this.Tt=n}v.J("DraggingTool",Cf);v.va(Cf,xf);v.a(Cf,"copiesEffectiveCollection",Cf.prototype.BB);v.defineProperty(Cf,{BB:"copiesEffectiveCollection"},s("Oz"),ba("Oz"));v.a(Cf,"dragsTree",Cf.prototype.WB);
v.defineProperty(Cf,{WB:"dragsTree"},s("aA"),ba("aA"));v.a(Cf,"isGridSnapEnabled",Cf.prototype.Tn);v.defineProperty(Cf,{Tn:"isGridSnapEnabled"},s("cl"),function(a){this.cl!==a&&(v.e(a,"boolean",Cf,"isGridSnapEnabled"),this.cl=a)});v.a(Cf,"gridSnapCellSize",Cf.prototype.wy);v.defineProperty(Cf,{wy:"gridSnapCellSize"},s("Gw"),function(a){this.Gw.z(a)||(v.c(a,J,Cf,"gridSnapCellSize"),this.Gw=a=a.F())});v.a(Cf,"gridSnapCellSpot",Cf.prototype.nC);
v.defineProperty(Cf,{nC:"gridSnapCellSpot"},s("Hw"),function(a){this.Hw.z(a)||(v.c(a,G,Cf,"gridSnapCellSpot"),this.Hw=a=a.F())});v.a(Cf,"gridSnapOrigin",Cf.prototype.oC);v.defineProperty(Cf,{oC:"gridSnapOrigin"},s("Iw"),function(a){this.Iw.z(a)||(v.c(a,D,Cf,"gridSnapOrigin"),this.Iw=a=a.F())});v.a(Cf,"isDragSnapEnabled",Cf.prototype.jG);v.defineProperty(Cf,{jG:"isDragSnapEnabled"},s("jA"),ba("jA"));v.a(Cf,"draggableLinks",Cf.prototype.Il);v.defineProperty(Cf,{Il:"draggableLinks"},s("Yz"),ba("Yz"));
v.a(Cf,"currentPart",Cf.prototype.Dl);v.defineProperty(Cf,{Dl:"currentPart"},s("Rz"),ba("Rz"));v.a(Cf,"copiedParts",Cf.prototype.Cc);v.defineProperty(Cf,{Cc:"copiedParts"},s("Nz"),ba("Nz"));v.a(Cf,"draggedParts",Cf.prototype.Ob);v.defineProperty(Cf,{Ob:"draggedParts"},s("$z"),ba("$z"));v.a(Cf,"draggedLink",Cf.prototype.Nb);v.defineProperty(Cf,{Nb:"draggedLink"},s("Zz"),ba("Zz"));v.a(Cf,"dragOutStarted",Cf.prototype.py);v.defineProperty(Cf,{py:"dragOutStarted"},s("Xz"),ba("Xz"));v.a(Cf,"delay",Cf.prototype.Ju);
v.defineProperty(Cf,{Ju:"delay"},s("um"),ba("um"));Cf.prototype.canStart=Cf.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===n||!a.qk&&!a.Yh&&!a.yu||!a.Td)return p;var b=a.H;return!b.left||a.ya!==this&&(!this.isBeyondDragSize()||window.TouchEvent&&(b.zi!==n&&b.zi instanceof window.TouchEvent)&&b.timestamp-a.pc.timestamp<this.um)?p:this.findDraggablePart()!==n};
Cf.prototype.findDraggablePart=Cf.prototype.VI=function(){var a=this.b;if(a===n)return n;a=a.Ir(a.pc.D,h);return a!==n&&(a.canMove()||a.canCopy())?a:n};Cf.prototype.standardMouseSelect=Cf.prototype.fH=function(){var a=this.b;if(a!==n&&a.Td&&(this.Dl=a.Ir(a.pc.D,h),this.Dl!==n&&!this.Dl.La)){a.la("ChangingSelection");var b=a.H;!b.uk&&!b.shift&&vf(a);this.Dl.La=h;a.la("ChangedSelection")}};
Cf.prototype.doActivate=Cf.prototype.hi=function(){var a=this.b;if(a!==n){this.standardMouseSelect();var b=this.Dl;b===n||!b.canMove()&&!b.canCopy()||(this.W=h,this.bn.set(a.position),Df(this,a.selection),this.Xk=this.Tt=n,this.Ob=this.computeEffectiveCollection(a.selection),Ef(this,this.Ob),this.Sb("Drag"),this.Vh.set(a.pc.D),a.yu?(this.py=h,this.hp=p,Ff=this,this.b.Pc=h):a.Pc=h)}};
function Df(a,b){if(a.Il){var c=a.b;c!==n&&c.Ri&&(1===b.count?(c=b.f,c.next(),a.Nb=c.value,a.Nb!==n&&(a.Nb.canRelinkFrom()&&a.Nb.canRelinkTo())&&a.Nb.jh()):a.Nb=n)}}
Cf.prototype.computeEffectiveCollection=Cf.prototype.nI=function(a){var b=this.b!==n&&this.b.ya===this,c=new ra(R,Bf);if(a===n)return c;for(var d=a.f;d.next();){var e=d.value;Gf(this,c,e,b)}if(this.Nb!==n&&this.Il)return c;for(d=a.f;d.next();)e=d.value,e instanceof V&&(a=e,b=a.ja,b!==n&&!c.contains(b)?c.remove(a):(b=a.na,b!==n&&!c.contains(b)&&c.remove(a)));return c};
function Gf(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof S){b.add(c,new Bf(c.location));if(c instanceof T)for(var e=c.sc;e.next();){var g=e.value;Gf(a,b,g,d)}for(g=c.qe;g.next();)if(e=g.value,!b.contains(e)){var i=e.ja,j=e.na;i!==n&&(b.contains(i)&&j!==n&&b.contains(j))&&Gf(a,b,e,d)}if(a.WB){g=h;e=c.b;e!==n&&(g=e.Df);for(c=g?c.Kn():c.Jn();c.next();)g=c.value,Gf(a,b,g,d)}}else if(c instanceof V){e=c;b.add(e,new Bf);for(g=e.oi;g.next();)Gf(a,b,g.value,d)}else c instanceof
sf||b.add(c,new Bf(c.location))}Cf.prototype.doStop=Cf.prototype.$i=function(){var a=this.b;a!==n&&Hf(a);If(this);Jf(this,this.Ob);this.Ob=n;this.hp=this.py=p;if(0<Kf.count){for(var b=Kf.length,c=0;c<b;c++){var d=Kf.i[c];d.Nb!==n&&(d.Nb=n);Uf(d);If(d);d.b!==n&&Hf(d.b)}Kf.clear()}this.Nb!==n&&(this.Nb=n);this.bn.so(NaN,NaN);Ff=Vf=n;Uf(this);a.Pc=p;this.oj()};
function If(a){var b=a.b;if(b!==n){var c=b.tb;b.tb=h;for(var d=b.H,e=a.Xk;e!==n;){var g=e.Qy;if(g!==n&&(g(d,e,n),d.Hd))break;e=e.Y}b.tb=c}a.Tt=n;a.Xk=n}Cf.prototype.doCancel=Cf.prototype.Zi=function(){Uf(this);Wf(this);var a=this.b;a!==n&&this.bn.ca()&&(a.position=this.bn);this.stopTool()};function Ef(a,b){if(b!==n){a.iu=h;for(var c=b.f;c.next();){var d=c.key;d instanceof V&&(d.fn=h)}}}
function Jf(a,b){if(b!==n&&a.iu){for(var c=b.f;c.next();){var d=c.key;d instanceof V&&(d.fn=p,d.cf===Xf?d.Xb():d.L())}a.iu=p}}Cf.prototype.doKeyDown=Cf.prototype.ly=function(){var a=this.b;a!==n&&(a=a.H,a!==n&&this.W&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};Cf.prototype.doKeyUp=Cf.prototype.my=function(){var a=this.b;a!==n&&(a.H!==n&&this.W)&&this.doMouseMove()};
function Yf(a){for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,a=a.f;a.next();){var g=a.value;if(g.Zd()){var i=g.location,g=i.x,i=i.y;!isNaN(g)&&!isNaN(i)&&(g<b&&(b=g),i<c&&(c=i),g>d&&(d=g),i>e&&(e=i))}}return Infinity===b?new E(0,0,0,0):new E(b,c,d-b,e-c)}
function Zf(a,b){if(a.Cc===n){var c=a.b;if(!(c===n||c.Va||c.Yd)&&a.Ob!==n){c.tb=!b;c.tr=!b;Wf(a);a.Vh.set(c.pc.D);for(var c=a.BB?c.Gd.copyParts(a.Ob.qj(),c,h):c.Gd.copyParts(c.selection,c,h),d=c.f;d.next();)d.value.location=d.key.location.copy();d=Yf(c);new D(d.x+d.width/2,d.y+d.height/2);for(var d=new ra(R,Bf),e=a.Ob.f;e.next();){var g=e.key;g.Zd()&&g.canCopy()&&(g=c.ga(g),g!==n&&(g.ii(),d.add(g,new Bf(g.location))))}for(c=c.f;c.next();)e=c.value,e instanceof V&&e.canCopy()&&d.add(e,new Bf);a.Cc=
d;Df(a,d.qj());a.Nb!==n&&(c=a.Nb,d=Ab(c.sb),c.Bk(a.Vh.x-(d.x+d.width/2),a.Vh.y-(d.y+d.height/2)))}}}function Uf(a){var b=a.b;b!==n&&(a.Cc!==n&&(b.Gd.deleteParts(a.Cc.qj(),p),a.Cc=n),b.tb=p,b.tr=p,a.Vh.set(b.pc.D))}function $f(a,b){var c=a.b;if(c!==n){var d=a.Vh;a.moveParts(b,c.H.D.copy().ss(d),h)}}
Cf.prototype.moveParts=Cf.prototype.eK=function(a,b,c){if(!(a===n||0===a.count)){var d=b.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);var e=this.iu;e||Ef(this,a);for(var g=new z,i=new z(Ya),j=a.f;j.next();){var k=j.key;if(k.Zd()){var l=ag(this,k,a);if(l!==n)g.add({yg:k,info:j.value,$F:l});else if(!c||k.canMove()){var l=j.value.uh,m=this.computeMove(k,l.copy().add(d),a);k.location=m;j.value.MA=m.copy().ss(l)}}else j.key instanceof V&&i.add(j.qd)}for(c=g.f;c.next();)g=c.value,l=g.info.uh,m=l.copy().add(g.$F.MA),
g.yg.location=m;for(i=i.f;i.next();)if(j=i.value,l=j.key,l instanceof V)if(l.fn)if(c=l.ja,g=l.na,this.Nb!==n&&this.Il)j=j.value.uh,a.add(l,new Bf(d)),m=b.x-j.x,c=b.y-j.y,l.Bk(m,c);else{m=new D(0,0);if(c!==n){m.set(c.location);var q=a.ga(c);q!==n&&m.ss(q.uh)}k=new D(0,0);g!==n&&(k.set(g.location),q=a.ga(g),q!==n&&k.ss(q.uh));c!==n&&g!==n?m.ji(k)?(j=j.value.uh,c=m.copy(),c.ss(j),a.add(l,new Bf(m)),l.Bk(c.x,c.y)):(l.fn=p,l.Xb()):(j=j.value.uh,a.add(l,new Bf(c!==n?m:g!==n?k:b)),m=d.x-j.x,c=d.y-j.y,l.Bk(m,
c))}else if(l.ja===n||l.na===n)j=j.value.uh,a.add(l,new Bf(b)),m=d.x-j.x,c=d.y-j.y,l.Bk(m,c);e||Jf(this,a)}};function ag(a,b,c){b=b.$a;if(b!==n){a=ag(a,b,c);if(a!==n)return a;a=c.ga(b);if(a!==n&&a instanceof Bf)return a}return n}function Wf(a){if(a.Ob!==n){var b=a.b,c=p;b!==n&&(c=b.tb,b.tb=h);for(var d=a.Ob.f;d.next();){var e=d.key;e.Zd()&&(e.location=d.value.uh)}for(d=a.Ob.f;d.next();)if(e=d.key,e instanceof V&&e.fn){var g=d.value.uh;a.Ob.add(e,new Bf);e.Bk(-g.x,-g.y)}b!==n&&(b.tb=c,b.li())}}
Cf.prototype.computeMove=Cf.prototype.qI=function(a,b){if(a===n)return b;var c=b,c=b;if(this.Tn&&(c=b.copy(),a!==n)){var d=this.b;if(d!==n){var e=d.Wu,g=this.wy,d=g.width,g=g.height,i=this.oC,j=i.x,i=i.y,k=this.nC;if(e!==n){var l=e.Rr;isNaN(d)&&(d=l.width);isNaN(g)&&(g=l.height);e=e.vy;isNaN(j)&&(j=e.x);isNaN(i)&&(i=e.y)}e=(new D).$l(0,0,d,g,k);c=wd(c.x,c.y,j+e.x,i+e.y,d,g)}}c=a.oy!==n?a.oy(a,b,c):c;g=a.VC;d=g.x;isNaN(d)&&(d=a.location.x);g=g.y;isNaN(g)&&(g=a.location.y);e=a.PC;j=e.x;isNaN(j)&&(j=
a.location.x);e=e.y;isNaN(e)&&(e=a.location.y);return new D(Math.max(d,Math.min(c.x,j)),Math.max(g,Math.min(c.y,e)))};function bg(a,b){if(b===n)return h;var c=b.ba;return c===n||c.La||c instanceof sf||c.za.Zc||a.Ob&&a.Ob.contains(c)||a.Cc&&a.Cc.contains(c)?h:p}
Cf.prototype.dragOver=Cf.prototype.KI=function(a,b,c){var d=this.b;if(d!==n){if(this.Il&&this.Nb!==n){var e=this.b.S;e instanceof P&&(this.Nb.ja!==n&&e.os(this.Nb.data,""),this.Nb.na!==n&&e.ps(this.Nb.data,""))}e=p;this.eu===p&&(e=d.tb,d.tb=h);var g=p,i=this,j=cg(d,a,n,function(a){return!bg(i,a)}),k=d.H;k.md=j;var l=d.tb;d.tb=h;if(j!==this.Xk){var m=this.Xk;this.Tt=m;for(this.Xk=j;m!==n;){var q=m.Qy;if(q!==n){if(j===m)break;if(j!==n&&j.ni(m))break;q(k,m,j);g=h;if(k.Hd)break}m=m.Y}for(m=this.Tt;j!==
n;){q=j.WC;if(q!==n){if(m===j)break;if(m!==n&&m.ni(j))break;q(k,j,m);g=h;if(k.Hd)break}j=j.Y}j=this.Xk}j===n&&(q=d.XC,q!==n&&(q(k),g=h));d.tb=l;g&&d.update();this.eu===p&&(d.tb=e);if((d.Ne||d.Oe)&&(b||c))d.hw=d.wo(a),dg(d,d.hw).ji(d.position)?Hf(d):eg(d)}};
Cf.prototype.dropOnto=Cf.prototype.NI=function(a){var b=this.b;if(b!==n&&b.S!==n){var c=this;If(this);var d=cg(b,a,n,function(a){return!bg(c,a)}),a=b.H;a.md=d;if(d!==n)for(;d!==n;){var e=d.bs;if(e!==n&&(e(a,d),a.Hd))break;d=d.Y}else e=b.bs,e!==n&&e(a);for(a=b.selection.f;a.next();)d=a.value,d instanceof S&&fg(b,d.pa)}};
Cf.prototype.doMouseMove=Cf.prototype.mh=function(){if(this.W){var a=this.b;if(a!==n&&this.Dl!==n&&this.Ob!==n){var b=p,c=p;this.mayCopy()?(b=h,Zf(this,p),$f(this,this.Cc)):this.mayMove()?(c=h,Uf(this),$f(this,this.Ob)):Uf(this);this.dragOver(a.H.D,c,b);wf(a)}}};
Cf.prototype.doMouseUp=Cf.prototype.Te=function(){if(this.W){this.hp=h;var a=this.b;if(a!==n){var b=p,c=this.mayCopy();c&&this.Cc!==n?(Wf(this),Uf(this),Zf(this,h),$f(this,this.Cc),this.Cc!==n&&a.fz(this.Cc.qj())):(b=h,Uf(this),this.mayMove()&&($f(this,this.Ob),this.eu=p,this.dragOver(a.H.D,h,p),this.eu=h));this.dropOnto(a.H.D);if(this.W){this.Cc=n;if(b&&this.Ob!==n)for(b=this.Ob.f;b.next();){var d=b.key;d instanceof S&&(d=d.$a,d!==n&&d.placeholder!==n&&!this.Ob.contains(d)&&d.fy&&d.L())}a.li();Jf(this,
this.Ob);this.ye=c?"Copy":"Move";a.la(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};Cf.prototype.mayCopy=Cf.prototype.YJ=function(){var a=this.b;if(a===n||(a.Va||a.Yd||!a.un||!a.Yh)||!a.H.uk)return p;for(a=a.selection.f;a.next();){var b=a.value;if(b.Zd()&&b.canCopy())return h}return this.Nb!==n&&this.Il&&this.Nb.canCopy()?h:p};
Cf.prototype.mayMove=Cf.prototype.$J=function(){var a=this.b;if(a===n||a.Va||!a.qk)return p;for(a=a.selection.f;a.next();){var b=a.value;if(b.Zd()&&b.canMove())return h}return this.Nb!==n&&this.Il&&this.Nb.canMove()?h:p};var Kf=new z(Cf),Ff=n,Vf=n;Cf.prototype.mayCopyExternal=Cf.prototype.ZJ=function(){var a=this.b;return a===n||(!a.kB||a.Va||a.Yd||!a.un)||a.S===n?p:h};Cf.prototype.doSimulatedDragEnter=Cf.prototype.TB=function(){this.mayCopyExternal()&&(Kf.contains(this)||Kf.add(this))};
Cf.prototype.doSimulatedDragLeave=Cf.prototype.UB=function(){Uf(this);var a=this.b;a!==n&&(a.ya!==this&&this.bn.ca())&&(a.position=this.bn)};Cf.prototype.doSimulatedDragOver=Cf.prototype.GF=function(){if(this.mayCopyExternal()){var a=this.b;if(a!==n){var b=Ff;b!==n&&b.Ob!==n&&(gg(this,b.Ob.qj(),p),$f(this,this.Cc),a.fz(this.Cc.qj()),this.dragOver(a.H.D,p,h),wf(a))}}};
Cf.prototype.doSimulatedDrop=Cf.prototype.HF=function(){var a=Ff;if(a!==n&&(a.hp=h,Uf(this),this.mayCopyExternal())){var b=this.b;b!==n&&(this.Sb("Drop"),gg(this,a.Ob.qj(),h),$f(this,this.Cc),this.Cc!==n&&b.fz(this.Cc.qj()),this.ye="ExternalCopy",this.dropOnto(b.H.D),this.Cc=n,b.la("ExternalObjectsDropped",b.selection),this.oj(),b.li())}};
function gg(a,b,c){if(a.Cc===n){var d=a.b;if(!(d===n||d.Va||d.Yd)&&d.S!==n){d.tb=!c;d.tr=!c;a.Vh.set(d.H.D);for(var d=d.Gd.copyParts(b,d,h),c=Yf(b),e=new D(c.x+c.width/2,c.y+c.height/2),g=a.Vh,c=new ra(R,Bf),b=b.f;b.next();){var i=b.value;if(i.Zd()&&i.canCopy()){var j=i.location,i=d.ga(i);i.location=new D(g.x-(e.x-j.x),g.y-(e.y-j.y));i.ii();c.add(i,new Bf(i.location))}}for(d=d.f;d.next();)e=d.value,e instanceof V&&e.canCopy()&&c.add(e,new Bf);a.Cc=c;Df(a,c.qj());a.Nb!==n&&(c=a.Nb,d=Ab(c.sb),c.Bk(a.Vh.x-
(d.x+d.width/2),a.Vh.y-(d.y+d.height/2)))}}}
function hg(){xf.call(this);this.jx=100;this.Gx=p;var a=new V;a.qo="PATH";var b=new W;b.gj=h;b.name="PATH";b.stroke="blue";a.add(b);b=new W;b.em="Standard";b.fill="blue";a.add(b);a.Kd="Tool";this.zx=a;a=new S;b=new W;b.te="";b.ab="Rectangle";b.fill=n;b.stroke="magenta";b.Ya=2;b.ta=new J(1,1);a.add(b);a.Fk=p;a.Kd="Tool";this.xx=a;this.yx=b;a=new S;b=new W;b.te="";b.ab="Rectangle";b.fill=n;b.stroke="magenta";b.Ya=2;b.ta=new J(1,1);a.add(b);a.Fk=p;a.Kd="Tool";this.Ax=a;this.Bx=b;this.hx=this.gx=this.dx=
this.cx=this.ex=n;this.jt=h;this.FE=new ra(Q,"boolean");this.nA=this.wx=n}v.J("LinkingBaseTool",hg);v.va(hg,xf);hg.prototype.doStop=hg.prototype.$i=function(){this.If=this.bf=this.Hf=this.af=this.Qb=n;this.yv.clear();this.ve=n};v.a(hg,"portGravity",hg.prototype.eD);v.defineProperty(hg,{eD:"portGravity"},s("jx"),function(a){this.jx!==a&&(t&&v.e(a,"number",hg,"portGravity"),this.jx=a)});v.a(hg,"validUnconnectedLinks",hg.prototype.xo);
v.defineProperty(hg,{xo:"validUnconnectedLinks"},s("Gx"),function(a){this.Gx!==a&&(t&&v.e(a,"boolean",hg,"validUnconnectedLinks"),this.Gx=a)});v.a(hg,"temporaryLink",hg.prototype.xh);v.defineProperty(hg,{xh:"temporaryLink"},s("zx"),function(a){this.zx!==a&&(t&&v.c(a,V,hg,"temporaryLink"),this.zx=a)});v.a(hg,"temporaryFromNode",hg.prototype.we);v.defineProperty(hg,{we:"temporaryFromNode"},s("xx"),function(a){this.xx!==a&&(t&&v.c(a,S,hg,"temporaryFromNode"),this.xx=a)});v.a(hg,"temporaryFromPort",hg.prototype.cm);
v.defineProperty(hg,{cm:"temporaryFromPort"},s("yx"),function(a){this.yx!==a&&(t&&v.c(a,Q,hg,"temporaryFromPort"),this.yx=a)});v.a(hg,"temporaryToNode",hg.prototype.xe);v.defineProperty(hg,{xe:"temporaryToNode"},s("Ax"),function(a){this.Ax!==a&&(t&&v.c(a,S,hg,"temporaryToNode"),this.Ax=a)});v.a(hg,"temporaryToPort",hg.prototype.dm);v.defineProperty(hg,{dm:"temporaryToPort"},s("Bx"),function(a){this.Bx!==a&&(t&&v.c(a,Q,hg,"temporaryToPort"),this.Bx=a)});v.a(hg,"originalLink",hg.prototype.Qb);
v.defineProperty(hg,{Qb:"originalLink"},s("ex"),function(a){this.ex!==a&&(t&&a!==n&&v.c(a,V,hg,"originalLink"),this.ex=a)});v.a(hg,"originalFromNode",hg.prototype.af);v.defineProperty(hg,{af:"originalFromNode"},s("cx"),function(a){this.cx!==a&&(t&&a!==n&&v.c(a,S,hg,"originalFromNode"),this.cx=a)});v.a(hg,"originalFromPort",hg.prototype.Hf);v.defineProperty(hg,{Hf:"originalFromPort"},s("dx"),function(a){this.dx!==a&&(t&&a!==n&&v.c(a,Q,hg,"originalFromPort"),this.dx=a)});v.a(hg,"originalToNode",hg.prototype.bf);
v.defineProperty(hg,{bf:"originalToNode"},s("gx"),function(a){this.gx!==a&&(t&&a!==n&&v.c(a,S,hg,"originalToNode"),this.gx=a)});v.a(hg,"originalToPort",hg.prototype.If);v.defineProperty(hg,{If:"originalToPort"},s("hx"),function(a){this.hx!==a&&(t&&a!==n&&v.c(a,Q,hg,"originalToPort"),this.hx=a)});v.m(hg,{Jd:"isForwards"},s("jt"));v.m(hg,{yv:"validPortsCache"},s("FE"));v.a(hg,"targetPort",hg.prototype.ve);
v.defineProperty(hg,{ve:"targetPort"},s("wx"),function(a){this.wx!==a&&(t&&a!==n&&v.c(a,Q,hg,"targetPort"),this.wx=a)});hg.prototype.copyPortProperties=hg.prototype.yI=function(a,b,c,d,e){a===n||(b===n||c===n||d===n)||(d.ta=b.pa.size,e?(d.eb=b.eb,d.Ik=b.Ik):(d.bb=b.bb,d.xk=b.xk),c.Ef=jc,c.location=b.Fb(jc),d.Wa=b.On(),c.Af())};hg.prototype.setNoTargetPortProperties=hg.prototype.DK=function(a,b){b!==n&&(b.ta=new J(1,1),b.bb=bc,b.eb=bc);a!==n&&(a.location=this.b.H.D)};
hg.prototype.doMouseMove=hg.prototype.mh=function(){if(this.W){var a=this.b;if(a!==n){this.ve=this.findTargetPort(this.Jd);if(this.ve!==n){var b=this.ve.ba;if(b instanceof S){this.Jd?this.copyPortProperties(b,this.ve,this.xe,this.dm,h):this.copyPortProperties(b,this.ve,this.we,this.cm,p);wf(a);return}}this.Jd?this.setNoTargetPortProperties(this.xe,this.dm):this.setNoTargetPortProperties(this.we,this.cm);wf(a)}}};
hg.prototype.findValidLinkablePort=hg.prototype.eJ=function(a,b){if(a===n)return n;var c=a.ba;if(!(c instanceof S))return n;for(;a!==n;){var d=b?a.rz:a.ty;if(d===h&&(a.te!==n||a instanceof S)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(d===p)break;a=a.Y}return n};
hg.prototype.findTargetPort=hg.prototype.$I=function(a){for(var b=this.b,c=b.H.D,d=this.eD,e=this,g=b.Mn(c,d,function(b){return e.findValidLinkablePort(b,a)},n),b=d*d,d=n,g=g.f;g.next();){var i=g.value,j=i.ba;if(j instanceof S){var k=i.Fb(jc),l=c.x-k.x,k=c.y-k.y,l=l*l+k*k;l<b&&(k=this.yv.ga(i),k!==n?k&&(d=i,b=l):a&&this.isValidLink(this.af,this.Hf,j,i)||!a&&this.isValidLink(j,i,this.bf,this.If)?(this.yv.add(i,h),d=i,b=l):this.yv.add(i,p))}}return d!==n&&(c=d.ba,c instanceof S&&(c.za===n||c.za.xl))?
d:n};hg.prototype.isValidFrom=hg.prototype.LJ=function(a,b){if(a===n||b===n)return this.xo;if(this.b.ya===this&&(a.za!==n&&!a.za.xl||b.ty!==h))return p;var c=b.iC;if(Infinity>c){if(this.Qb!==n&&a===this.af&&b===this.Hf)return h;var d=b.te;d===n&&(d="");if(a.Hr(d).count>=c)return p}return h};
hg.prototype.isValidTo=hg.prototype.OJ=function(a,b){if(a===n||b===n)return this.xo;if(this.b.ya===this&&(a.za!==n&&!a.za.xl||b.rz!==h))return p;var c=b.QD;if(Infinity>c){if(this.Qb!==n&&a===this.bf&&b===this.If)return h;var d=b.te;d===n&&(d="");if(a.Ue(d).count>=c)return p}return h};hg.prototype.isInSameNode=hg.prototype.HJ=function(a,b){if(a===n||b===n)return p;if(a===b)return h;var c=a.ba,d=b.ba;return c!==n&&c===d};
hg.prototype.isLinked=hg.prototype.JJ=function(a,b){if(a===n||b===n)return p;var c=a.ba;if(!(c instanceof S))return p;var d=a.te;d===n&&(d="");var e=b.ba;if(!(e instanceof S))return p;var g=b.te;g===n&&(g="");for(e=e.Ue(g);e.next();)if(g=e.value,g.ja===c&&g.qh===d)return h;return p};
hg.prototype.isValidLink=hg.prototype.MJ=function(a,b,c,d){return!this.isValidFrom(a,b)||!this.isValidTo(c,d)||b!==n&&d!==n&&((!b.hC||!d.PD)&&this.isInSameNode(b,d)||(!b.gC||!d.OD)&&this.isLinked(b,d))||this.Qb!==n&&(a!==n&&a.Ql(this.Qb)||c!==n&&c.Ql(this.Qb))||a!==n&&c!==n&&(a.data===n&&c.data!==n||a.data!==n&&c.data===n)||!ig(this,a,c,this.Qb)?p:this.My!==n?this.My(a,b,c,d,this.Qb):h};
function ig(a,b,c,d){if(b===n||c===n)return p;var e=a.b.cE;if(e!==jg){if(e===kg){for(e=c.qe;e.next();){var g=e.value;if(g!==d&&g.na===c)return p}return!sg(a,b,c,d)}if(e===tg){for(e=b.qe;e.next();)if(g=e.value,g!==d&&g.ja===b)return p;return!sg(a,b,c,d)}if(e===ug)return b===c?a=h:(e=new va(S),e.add(c),a=vg(a,e,b,c,d)),!a;if(e===wg)return!sg(a,b,c,d);if(e===xg)return b===c?a=h:(e=new va(S),e.add(c),a=yg(a,e,b,c,d)),!a}return h}
function sg(a,b,c,d){if(b===c)return h;if(b===n||c===n)return p;for(var e=b.qe;e.next();){var g=e.value;if(g!==d&&g.na===b&&(g=g.ja,g!==b&&sg(a,g,c,d)))return h}return p}function vg(a,b,c,d,e){if(c===d)return h;if(c===n||d===n||b.contains(c))return p;b.add(c);for(var g=c.qe;g.next();){var i=g.value;if(i!==e&&i.na===c&&(i=i.ja,i!==c&&vg(a,b,i,d,e)))return h}return p}
function yg(a,b,c,d,e){if(c===d)return h;if(c===n||d===n||b.contains(c))return p;b.add(c);for(var g=c.qe;g.next();){var i=g.value;if(i!==e){var j=i.ja,i=i.na,j=j===c?i:j;if(j!==c&&yg(a,b,j,d,e))return h}}return p}v.a(hg,"linkValidation",hg.prototype.My);v.defineProperty(hg,{My:"linkValidation"},s("nA"),function(a){a!==n&&v.e(a,"function",hg,"linkValidation");this.nA=a});function Aa(){hg.call(this);this.name="Linking";this.fw={};this.ew=n;this.T=zg;this.rx=this.qx=n}v.J("LinkingTool",Aa);v.va(Aa,hg);
var zg;Aa.Either=zg=v.l(Aa,"Either",0);var Ag;Aa.ForwardsOnly=Ag=v.l(Aa,"ForwardsOnly",0);var Bg;Aa.BackwardsOnly=Bg=v.l(Aa,"BackwardsOnly",0);v.a(Aa,"archetypeLinkData",Aa.prototype.mB);v.defineProperty(Aa,{mB:"archetypeLinkData"},s("fw"),function(a){this.fw!==a&&(a!==n&&v.c(a,Object,Aa,"archetypeLinkData"),this.fw=a)});v.a(Aa,"archetypeLabelNodeData",Aa.prototype.lB);
v.defineProperty(Aa,{lB:"archetypeLabelNodeData"},s("ew"),function(a){if(this.ew!==a){a!==n&&v.c(a,Object,Aa,"archetypeLabelNodeData");var b=this.b;b!==n&&(b=b.S,b!==n&&!(a instanceof S)&&!b.Fy(a)&&v.g("CommandHandler.archetypeLabelNodeData must be either a Node or a data object for which GraphLinksModel.isLinkLabelForNodeData is true: "+a));this.ew=a}});v.a(Aa,"direction",Aa.prototype.direction);
v.defineProperty(Aa,{direction:"direction"},s("T"),function(a){this.T!==a&&(t&&v.Za(a,Aa,Aa,"direction"),this.T=a)});v.a(Aa,"startObject",Aa.prototype.lz);v.defineProperty(Aa,{lz:"startObject"},s("qx"),function(a){this.qx!==a&&(t&&a!==n&&v.c(a,Q,Aa,"startObject"),this.qx=a)});v.m(Aa,{uv:"startPort"},s("rx"));
Aa.prototype.canStart=Aa.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===n||(a.Va||a.Yd)||!a.xl)return p;var b=a.S;return b===n||!(b instanceof P)||!a.H.left||a.ya!==this&&!this.isBeyondDragSize()?p:this.findLinkablePort()!==n};
Aa.prototype.findLinkablePort=Aa.prototype.WI=function(){var a=this.b;if(a===n)return n;var b=this.lz;b===n&&(b=a.Yc(a.pc.D,n,n));if(b===n||!(b.ba instanceof S))return n;var c=this.direction;if(c===zg||c===Ag)if(a=this.findValidLinkablePort(b,p),a!==n)return this.jt=h,a;if(c===zg||c===Bg)if(a=this.findValidLinkablePort(b,h),a!==n)return this.jt=p,a;return n};
Aa.prototype.doActivate=Aa.prototype.hi=function(){var a=this.b;if(a!==n&&(this.uv===n&&(this.rx=this.findLinkablePort()),this.uv!==n)){this.Sb(this.name);a.Pc=h;a.Dc="hand";a.add(this.we);a.add(this.xe);if(this.Jd){this.Hf=this.uv;var b=this.Hf.ba;b instanceof S&&(this.af=b);this.copyPortProperties(this.af,this.Hf,this.we,this.cm,p)}else this.If=this.uv,b=this.If.ba,b instanceof S&&(this.bf=b),this.copyPortProperties(this.bf,this.If,this.xe,this.dm,h);this.xh&&(this.we!==n&&(this.xh.ja=this.we),
this.xe!==n&&(this.xh.na=this.xe),a.add(this.xh));this.W=h}};Aa.prototype.doDeactivate=Aa.prototype.wk=function(){this.W=p;var a=this.b;a!==n&&(a.remove(this.xh),a.remove(this.we),a.remove(this.xe),a.Pc=p,a.Dc="",this.oj())};Aa.prototype.doStop=Aa.prototype.$i=function(){hg.prototype.$i.call(this);this.lz=this.rx=n};
Aa.prototype.doMouseUp=Aa.prototype.Te=function(){if(this.W){var a=this.b;if(a===n)return;var b=this.ye=n,c=n,d=n,e=n,g=this.ve=this.findTargetPort(this.Jd),i=n;g!==n?(i=g.ba,i instanceof S&&(this.Jd?(this.af!==n&&(b=this.af,c=this.Hf),d=i,e=g):(b=i,c=g,this.bf!==n&&(d=this.bf,e=this.If)))):this.Jd?this.af!==n&&this.xo&&(b=this.af,c=this.Hf):this.bf!==n&&this.xo&&(d=this.bf,e=this.If);if(b!==n||d!==n)b=this.insertLink(b,c,d,e),b!==n?(g===n&&(this.Jd?b.yF=a.H.D:b.xF=a.H.D),a.Td&&a.select(b),this.ye=
this.name,a.la("LinkDrawn",b)):a.S.uB()}this.stopTool()};
Aa.prototype.insertLink=Aa.prototype.BJ=function(a,b,c,d){var e=this.b;if(e===n)return n;var g=e.S;if(g===n||!(g instanceof P))return n;b===n&&(b=a);b=b.te;b===n&&(b="");d===n&&(d=c);var i=d.te;i===n&&(i="");d=this.mB;if(d instanceof V){if(uf(d),g=d.copy(),g instanceof V)return g.ja=a,g.qh=b,g.na=c,g.ri=i,e.add(g),g}else if(d!==n&&(d=g.DB(d),v.Ua(d)))return g.rv(d,g.hc(a.data)),g.os(d,b),g.sv(d,g.hc(c.data)),g.ps(d,i),g.hB(d),a=this.lB,a!==n&&g.Fy(a)&&(a=g.Dn(a),v.Ua(a)&&(g.vu(a),a=g.hc(a),a!==f&&
g.gB(d,a))),g=e.cj(d);return n};function Cg(){hg.call(this);this.name="Relinking";var a=new W;a.ab="Diamond";a.ta=new J(8,8);a.fill="cyan";a.cursor="pointer";a.vh=0;this.cA=a;a=new W;a.ab="Diamond";a.ta=new J(8,8);a.fill="cyan";a.cursor="pointer";a.vh=-1;this.YA=a;this.dc=n;this.AA=new E}v.J("RelinkingTool",Cg);v.va(Cg,hg);
Cg.prototype.updateAdornments=Cg.prototype.ti=function(a){if(a instanceof V){var b=n,c="RelinkFrom";if(a.La){var d=a.po;d!==n&&(a.ib()&&a.canRelinkFrom()&&d.Ak()&&d.pa.ca())&&(b=a.In(c),b===n&&(b=this.makeAdornment(d,p),b.vd=c),b!==n&&b.L());a.on(c,b)}else a.Zl(c);b=n;c="RelinkTo";a.La?(d=a.po,d!==n&&(a.ib()&&a.canRelinkTo()&&d.Ak()&&d.pa.ca())&&(b=a.In(c),b===n&&(b=this.makeAdornment(d,h),b.vd=c),b!==n&&b.L()),a.on(c,b)):a.Zl(c)}};
Cg.prototype.makeAdornment=Cg.prototype.Ny=function(a,b){var c=new sf;c.type=Dg;var d=b?this.kH:this.VF;d!==n&&c.add(d.copy());c.Sd=a;return c};v.defineProperty(Cg,{VF:"fromHandleArchetype"},s("cA"),function(a){a&&v.c(a,Q,Cg,"fromHandleArchetype");this.cA=a});v.defineProperty(Cg,{kH:"toHandleArchetype"},s("YA"),function(a){a&&v.c(a,Q,Cg,"toHandleArchetype");this.YA=a});v.m(Cg,{handle:"handle"},s("dc"));
Cg.prototype.canStart=Cg.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===n||(a.Va||a.Yd)||!a.Ri)return p;var b=a.S;if(b===n||!(b instanceof P)||!a.H.left)return p;b=this.findToolHandleAt(a.pc.D,"RelinkFrom");b===n&&(b=this.findToolHandleAt(a.pc.D,"RelinkTo"));return b!==n};
Cg.prototype.doActivate=Cg.prototype.hi=function(){var a=this.b;if(a!==n){var b=this.findToolHandleAt(a.pc.D,"RelinkFrom");b===n&&(b=this.findToolHandleAt(a.pc.D,"RelinkTo"));if(b!==n){var c=b.ba;c instanceof sf&&c.sn instanceof V&&(this.dc=b,this.Sb(this.name),a.Pc=h,a.Dc="hand",this.jt=c===n||"RelinkTo"===c.vd,this.Qb=c.sn,this.Hf=this.Qb.Oc,this.af=this.Qb.ja,this.If=this.Qb.yd,this.bf=this.Qb.na,this.AA=this.Qb.pa,a.add(this.we),a.add(this.xe),this.Jd?this.copyPortProperties(this.af,this.Hf,this.we,
this.cm,h):this.copyPortProperties(this.bf,this.If,this.xe,this.dm,p),this.Qb!==n&&0<this.Qb.da&&(this.af===n&&(this.cm!==n&&(this.cm.ta=new J(0,0)),this.we!==n&&(this.we.location=this.Qb.h(0))),this.bf===n&&(this.dm!==n&&(this.dm.ta=new J(0,0)),this.xe!==n&&(this.xe.location=this.Qb.h(this.Qb.da-1)))),this.xh!==n&&(this.we!==n&&(this.xh.ja=this.we),this.xe!==n&&(this.xh.na=this.xe),a.add(this.xh)),this.W=h)}}};
Cg.prototype.doDeactivate=Cg.prototype.wk=function(){this.W=p;var a=this.b;a!==n&&(a.remove(this.xh),a.remove(this.we),a.remove(this.xe),a.Pc=p,a.Dc="",this.oj())};Cg.prototype.doStop=Cg.prototype.$i=function(){hg.prototype.$i.call(this);this.dc=n};
Cg.prototype.doMouseUp=Cg.prototype.Te=function(){if(this.W){var a=this.b;if(a===n)return;this.ye=n;var b=this.af,c=this.Hf,d=this.bf,e=this.If,g=this.Qb;this.ve=this.findTargetPort(this.Jd);if(this.ve!==n){var i=this.ve.ba;i instanceof S&&(this.Jd?(d=i,e=this.ve):(b=i,c=this.ve))}else this.xo?this.Jd?e=d=n:c=b=n:g=n;g!==n&&(this.reconnectLink(g,this.Jd?d:b,this.Jd?e:c,this.Jd),this.ve===n&&(this.Jd?g.yF=a.H.D:g.xF=a.H.D,g.Xb()),a.Td&&(g.La=h),this.ye=this.name,a.la("LinkRelinked",g,this.Jd?this.If:
this.Hf));Eg(this.Qb,this.AA)}this.stopTool()};Cg.prototype.reconnectLink=Cg.prototype.pK=function(a,b,c,d){var e=this.b;if(e===n)return p;var g=b!==n?b.data:n,g=g!==n?e.S.hc(g):f,c=c.te!==n?c.te:"",a=a.data;if(a!==n&&g!==f){b=e.S;if(b===n||!(b instanceof P))return p;d?(b.sv(a,g),b.ps(a,c)):(b.rv(a,g),b.os(a,c))}else d?(this.Qb.na=b,this.Qb.ri=c):(this.Qb.ja=b,this.Qb.qh=c);return h};
function Ig(){xf.call(this);this.name="LinkReshaping";var a=new W;a.ab="Rectangle";a.ta=new J(6,6);a.fill="cyan";this.Oj=a;this.fx=this.CA=this.cw=this.dc=n}v.J("LinkReshapingTool",Ig);v.va(Ig,xf);var Mg;Ig.None=Mg=v.l(Ig,"None",0);var Ng;Ig.Horizontal=Ng=v.l(Ig,"Horizontal",1);var Og;Ig.Vertical=Og=v.l(Ig,"Vertical",2);var Pg;Ig.All=Pg=v.l(Ig,"All",3);
Ig.prototype.updateAdornments=Ig.prototype.ti=function(a){if(a instanceof V){var b=n;if(a.La){var c=a.path;c!==n&&(a.ib()&&a.canReshape()&&c.Ak()&&c.pa.ca())&&(b=a.In(this.name),b===n&&(b=this.makeAdornment(c),b.vd=this.name),b!==n&&(b.location=a.position,b.L()));a.on(this.name,b)}else a.Zl(this.name)}};
Ig.prototype.makeAdornment=Ig.prototype.Ny=function(a){var b=new sf;b.type=Dg;var c=a.ba,d=c.da,e=Qg(c);if(c.sb!==n&&2<d){for(var d=c.Ru,g=c.Jy,i=d+1;i<=g-1;i++){var j=this.makeHandle(a,i);if(j!==n){j.vh=i;if(i!==d)if(i===d+1&&e){var k=c.h(d),l=c.h(d+1);kb(k.x,l.x)&&kb(k.y,l.y)&&(l=c.h(d-1));kb(k.x,l.x)?(j.oo=Og,j.cursor="n-resize"):kb(k.y,l.y)&&(j.oo=Ng,j.cursor="w-resize")}else i===g-1&&e?(k=c.h(g-1),l=c.h(g),kb(k.x,l.x)&&kb(k.y,l.y)&&(k=c.h(g+1)),kb(k.x,l.x)?(j.oo=Og,j.cursor="n-resize"):kb(k.y,
l.y)&&(j.oo=Ng,j.cursor="w-resize")):i!==g&&(j.oo=Pg,j.cursor="move");b.add(j)}}b.Sd=a}return b};Ig.prototype.makeHandle=Ig.prototype.wG=function(){var a=this.Sr;return a===n?n:a.copy()};v.defineProperty(Ig,{Sr:"handleArchetype"},s("Oj"),function(a){a&&v.c(a,Q,Ig,"handleArchetype");this.Oj=a});v.m(Ig,{handle:"handle"},s("dc"));v.m(Ig,{rn:"adornedLink"},s("cw"));
Ig.prototype.canStart=Ig.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;return a===n||a.Va||!a.wn?p:this.findToolHandleAt(a.pc.D,this.name)!==n};Ig.prototype.doActivate=Ig.prototype.hi=function(){var a=this.b;if(a!==n&&(this.dc=this.findToolHandleAt(a.pc.D,this.name),this.dc!==n)){var b=this.dc.ba.sn;b instanceof V&&(this.cw=b,a.Pc=h,this.CA=b.h(this.dc.vh),this.fx=b.sb.copy(),this.Sb(this.name),this.W=h)}};
Ig.prototype.doDeactivate=Ig.prototype.wk=function(){this.oj();this.fx=this.CA=this.cw=this.dc=n;var a=this.b;a!==n&&(a.Pc=p);this.W=p};Ig.prototype.doCancel=Ig.prototype.Zi=function(){var a=this.rn;a!==n&&(a.sb=this.fx);this.stopTool()};Ig.prototype.doMouseMove=Ig.prototype.mh=function(){var a=this.b;this.W&&a!==n&&(a=this.computeReshape(a.H.D),this.reshape(a))};
Ig.prototype.doMouseUp=Ig.prototype.Te=function(){var a=this.b;if(this.W&&a!==n){var b=this.computeReshape(a.H.D);this.reshape(b);b=this.rn;b!==n&&(b.sb=this.rn.sb);a.li();this.ye=this.name;a.la("LinkReshaped",this.rn)}this.stopTool()};
Ig.prototype.reshape=Ig.prototype.xK=function(a){var b=this.rn;b.Hk();var c=this.handle.vh,d=this.handle.oo;if(Qg(b))if(c===b.Ru+1)c=b.Ru+1,d==Og?(b.A(c,new D(b.h(c-1).x,a.y)),b.A(c+1,new D(b.h(c+2).x,a.y))):d==Ng&&(b.A(c,new D(a.x,b.h(c-1).y)),b.A(c+1,new D(a.x,b.h(c+2).y)));else if(c===b.Jy-1)c=b.Jy-1,d===Og?(b.A(c-1,new D(b.h(c-2).x,a.y)),b.A(c,new D(b.h(c+1).x,a.y))):d===Ng&&(b.A(c-1,new D(a.x,b.h(c-2).y)),b.A(c,new D(a.x,b.h(c+1).y)));else{var d=c,e=b.h(d),g=b.h(d-1),i=b.h(d+1);kb(g.x,e.x)&&
kb(e.y,i.y)?(kb(g.x,b.h(d-2).x)&&!kb(g.y,b.h(d-2).y)?(e=b.sb,e.rc(d,new D(a.x,g.y)),b.sb=e,c++,d++):b.A(d-1,new D(a.x,g.y)),kb(i.y,b.h(d+2).y)&&!kb(i.x,b.h(d+2).x)?(e=b.sb,e.rc(d+1,new D(i.x,a.y)),b.sb=e):b.A(d+1,new D(i.x,a.y))):kb(g.y,e.y)&&kb(e.x,i.x)?(kb(g.y,b.h(d-2).y)&&!kb(g.x,b.h(d-2).x)?(e=b.sb,e.rc(d,new D(g.x,a.y)),b.sb=e,c++,d++):b.A(d-1,new D(g.x,a.y)),kb(i.x,b.h(d+2).x)&&!kb(i.y,b.h(d+2).y)?(e=b.sb,e.rc(d+1,new D(a.x,i.y)),b.sb=e):b.A(d+1,new D(a.x,i.y))):kb(g.x,e.x)&&kb(e.x,i.x)?(kb(g.x,
b.h(d-2).x)&&!kb(g.y,b.h(d-2).y)?(e=b.sb,e.rc(d,new D(a.x,g.y)),b.sb=e,c++,d++):b.A(d-1,new D(a.x,g.y)),kb(i.x,b.h(d+2).x)&&!kb(i.y,b.h(d+2).y)?(e=b.sb,e.rc(d+1,new D(a.x,i.y)),b.sb=e):b.A(d+1,new D(a.x,i.y))):kb(g.y,e.y)&&kb(e.y,i.y)&&(kb(g.y,b.h(d-2).y)&&!kb(g.x,b.h(d-2).x)?(e=b.sb,e.rc(d,new D(g.x,a.y)),b.sb=e,c++,d++):b.A(d-1,new D(g.x,a.y)),kb(i.y,b.h(d+2).y)&&!kb(i.x,b.h(d+2).x)?(e=b.sb,e.rc(d+1,new D(i.x,a.y)),b.sb=e):b.A(d+1,new D(i.x,a.y)));b.A(c,a.copy())}else b.A(c,a.copy());b.di()};
Ig.prototype.computeReshape=Ig.prototype.sI=function(a){var b=this.rn,c=this.handle.vh;switch(this.handle.oo){case Pg:return a;case Og:return b=b.h(c),new D(b.x,a.y);case Ng:return b=b.h(c),new D(a.x,b.y);default:case Mg:return b.h(c)}};
function Rg(){xf.call(this);this.name="Resizing";this.Cd=(new J(1,1)).freeze();this.Hi=(new J(9999,9999)).freeze();this.vi=(new J(NaN,NaN)).freeze();this.cl=p;this.Aa=n;var a=new W;a.Qi=jc;a.ab="Rectangle";a.ta=new J(6,6);a.fill="cyan";a.stroke="black";a.Ya=1;a.cursor="pointer";this.Oj=a;this.dc=n;this.qq=0;this.xE=new E;this.bx=new J;this.BA=new D;this.Cw=new J(0,0);this.Bw=new J(Infinity,Infinity);this.Aw=new J(1,1)}v.J("ResizingTool",Rg);v.va(Rg,xf);
Rg.prototype.updateAdornments=Rg.prototype.ti=function(a){if(!(a===n||a instanceof V)){var b=n;if(a.La){var c=a.UG;if(c!==n&&(a.ib()&&a.canResize()&&c.Ak()&&c.pa.ca())&&(b=a.In(this.name),b===n&&(b=this.makeAdornment(c),b.vd=this.name),b!==n)){var d=c.On();b.Wa=d;b.location=c.Fb(dc);var e=b.placeholder;if(e!==n){var g=c.Ll(),c=c.qa;e.ta=new J(c.width*g,c.height*g)}Sg(this,b,d)}a.on(this.name,b)}else a.Zl(this.name)}};
Rg.prototype.makeAdornment=Rg.prototype.Ny=function(a){var b=n,b=a.ba.qD;if(b===n){b=new sf;b.type=Tg;var c=new Ug;c.gj=h;b.add(c);b.add(this.makeHandle(a,dc));b.add(this.makeHandle(a,ic));b.add(this.makeHandle(a,mc));b.add(this.makeHandle(a,kc));b.add(this.makeHandle(a,rc));b.add(this.makeHandle(a,tc));b.add(this.makeHandle(a,uc));b.add(this.makeHandle(a,sc))}else if(uf(b),b=b.copy(),!(b instanceof sf))return n;b.Sd=a;return b};
Rg.prototype.makeHandle=Rg.prototype.wG=function(a,b){var c=this.Sr;if(c===n)return n;c=c.copy();c.vb=b;return c};
function Sg(a,b,c){if(b!==n)if(!Zb(b.vb)&&""!==b.cursor)a:{a=b.vb;Yb(a)&&(a=jc);if(0>=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof w)for(b=b.elements;b.next();)Sg(a,b.value,c)}
v.defineProperty(Rg,{Sr:"handleArchetype"},s("Oj"),function(a){a&&v.c(a,Q,Rg,"handleArchetype");this.Oj=a});v.m(Rg,{handle:"handle"},s("dc"));v.m(Rg,{Sd:"adornedObject"},s("Aa"));Rg.prototype.canStart=Rg.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;return a===n||a.Va||!a.xn||!a.H.left?p:this.findToolHandleAt(a.pc.D,this.name)!==n?h:p};
Rg.prototype.doActivate=Rg.prototype.hi=function(){var a=this.b;a!==n&&(this.dc=this.findToolHandleAt(a.pc.D,this.name),this.dc!==n&&(this.Aa=this.dc.ba.Sd,this.qq=this.Aa.Wa,this.xE.set(this.Aa.qa),this.BA.set(this.Aa.ba.location),this.bx.set(this.Aa.ta),this.Aw=this.computeCellSize(),this.Cw=this.computeMinSize(),this.Bw=this.computeMaxSize(),a.Pc=h,this.Sb(this.name),this.W=h))};Rg.prototype.doDeactivate=Rg.prototype.wk=function(){var a=this.b;a!==n&&(this.oj(),this.Aa=this.dc=n,this.W=a.Pc=p)};
Rg.prototype.doCancel=Rg.prototype.Zi=function(){this.Aa.ta=this.bx;this.Aa.ba.location=this.BA;this.stopTool()};Rg.prototype.doMouseMove=Rg.prototype.mh=function(){var a=this.b;if(this.W&&a!==n){var b=this.Cw,c=this.Bw,d=this.Aw,e=this.Aa.lC(a.H.D),g=this.Aa.Nn;g===Vg&&(g=this.Aa.Ba.Ub);b=this.computeResize(e,this.dc.vb,b,c,d,!(g===Wg||g===Xg||a.H.shift));this.resize(b);Yg(a)}};
Rg.prototype.doMouseUp=Rg.prototype.Te=function(){var a=this.b;if(this.W&&a!==n){var b=this.Cw,c=this.Bw,d=this.Aw,e=this.Aa.lC(a.H.D),g=this.Aa.Nn;g===Vg&&(g=this.Aa.Ba.Ub);b=this.computeResize(e,this.dc.vb,b,c,d,!(g===Wg||g===Xg||a.H.shift));this.resize(b);a.li();this.ye=this.name;a.la("PartResized",this.Aa,this.bx)}this.stopTool()};
Rg.prototype.resize=Rg.prototype.yK=function(a){var b=this.b;if(b!==n){var c=this.Aa.ba,d=c.position.copy(),e=this.Aa.qa.copy(),g=this.Aa.On();360<=g?g-=360:0>g&&(g+=360);var i=Math.PI*g/180,j=Math.cos(i),i=Math.sin(i),k=a.width-e.width,e=a.height-e.height,l=90<g&&270>g?1:0;d.x+=(a.x+k*l)*j-(a.y+e*(0<g&&180>g?1:0))*i;d.y+=(a.x+k*(180<g&&360>g?1:0))*i+(a.y+e*l)*j;this.Aa.ta=a.size;c.ii();c.position=d;wf(b)}};
Rg.prototype.computeResize=Rg.prototype.tI=function(a,b,c,d,e,g){Yb(b)&&(b=jc);var i=this.Aa.qa,j=i.x,k=i.y,l=i.x+i.width,m=i.y+i.height,q=1;if(!g){var q=i.width,r=i.height;0>=q&&(q=1);0>=r&&(r=1);q=r/q}a=wd(a.x,a.y,j,k,e.width,e.height);e=i.copy();0>=b.x?0>=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,q<a?(e.height=q*e.width,e.y=m-e.height):
(e.width=e.height/q,e.x=l-e.width))):1<=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,q<a?e.height=q*e.width:(e.width=e.height/q,e.x=l-e.width))):(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=l-e.x,g||(e.height=q*e.width,e.y=k+0.5*(m-k-e.height))):1<=b.x?0>=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,
m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,q<a?(e.height=q*e.width,e.y=m-e.height):e.width=e.height/q)):1<=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,q<a?e.height=q*e.width:e.width=e.height/q)):(e.width=Math.max(Math.min(a.x-j,d.width),c.width),g||(e.height=q*e.width,e.y=k+0.5*(m-k-e.height))):0>=b.y?(e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=m-e.y,g||(e.width=
e.height/q,e.x=j+0.5*(l-j-e.width))):1<=b.y&&(e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(e.width=e.height/q,e.x=j+0.5*(l-j-e.width)));return e};Rg.prototype.computeMinSize=Rg.prototype.pI=function(){var a=this.Aa.ae.copy(),b=this.ae;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
Rg.prototype.computeMaxSize=Rg.prototype.oI=function(){var a=this.Aa.Ld.copy(),b=this.Ld;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
Rg.prototype.computeCellSize=Rg.prototype.lI=function(){var a=new J(NaN,NaN),b=this.Aa.ba;if(b){var c=b.rD;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.tk;isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width);isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height);b=this.b;if((isNaN(a.width)||isNaN(a.height))&&b)c=b.Zb.me,c!==n&&c.Tn&&(c=c.wy,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&
(!isNaN(c.height)&&0<c.height)&&(a.height=c.height)),b=b.Wu,b!==n&&(b.visible&&this.Tn)&&(c=b.Rr,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};v.a(Rg,"minSize",Rg.prototype.ae);
v.defineProperty(Rg,{ae:"minSize"},s("Cd"),function(a){this.Cd.z(a)||(t&&v.c(a,J,Rg,"minSize"),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),this.Cd.Xa(a))});v.a(Rg,"maxSize",Rg.prototype.Ld);v.defineProperty(Rg,{Ld:"maxSize"},s("Hi"),function(a){this.Hi.z(a)||(t&&v.c(a,J,Rg,"maxSize"),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),this.Hi.Xa(a))});v.a(Rg,"cellSize",Rg.prototype.tk);
v.defineProperty(Rg,{tk:"cellSize"},s("vi"),function(a){this.vi.z(a)||(t&&v.c(a,J,Rg,"cellSize"),this.vi.Xa(a))});v.a(Rg,"isGridSnapEnabled",Rg.prototype.Tn);v.defineProperty(Rg,{Tn:"isGridSnapEnabled"},s("cl"),function(a){this.cl!==a&&(v.e(a,"boolean",Rg,"isGridSnapEnabled"),this.cl=a)});
function Zg(){xf.call(this);this.name="Rotating";this.px=45;this.ox=2;this.Aa=n;var a=new W;a.ab="Ellipse";a.ta=new J(6,6);a.fill="yellow";a.stroke="black";a.Ya=1;a.cursor="pointer";this.Oj=a;this.dc=n;this.qq=0;this.GA=new D}v.J("RotatingTool",Zg);v.va(Zg,xf);
Zg.prototype.updateAdornments=Zg.prototype.ti=function(a){if(!(a===n||a instanceof V)){var b=n;if(a.La){var c=a.YG;if(c!==n&&(a.ib()&&a.canRotate()&&c.Ak()&&c.pa.ca())&&(b=a.In(this.name),b===n&&(b=this.makeAdornment(c),b.vd=this.name),b!==n)){b.Wa=c.On();var d=n,e=n;c===a||c===a.Gb?(d=a.Gb,e=a.Ef):(d=c,e=jc);for(var g=d.qa,e=new D(g.width*e.x+e.offsetX,g.height*e.y+e.offsetY);d!==n&&d!==c;)d.transform.Hb(e),d=d.Y;d=e.y;e=Math.max(e.x-c.qa.width,0);b.Ef=jc;b.location=c.Fb(new G(1,0,50+e,d))}a.on(this.name,
b)}else a.Zl(this.name)}};Zg.prototype.makeAdornment=Zg.prototype.Ny=function(a){var b=n,b=a.ba.vD;if(b===n){b=new sf;b.type=$g;var c=this.Sr;c!==n&&b.add(c.copy())}else if(uf(b),b=b.copy(),!(b instanceof sf))return n;b.Sd=a;return b};v.defineProperty(Zg,{Sr:"handleArchetype"},s("Oj"),function(a){a&&v.c(a,Q,Zg,"handleArchetype");this.Oj=a});v.m(Zg,{handle:"handle"},s("dc"));v.m(Zg,{Sd:"adornedObject"},s("Aa"));
Zg.prototype.canStart=Zg.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;return a===n||a.Va||!a.yn||!a.H.left?p:this.findToolHandleAt(a.pc.D,this.name)!==n?h:p};Zg.prototype.doActivate=Zg.prototype.hi=function(){var a=this.b;if(a!==n&&(this.dc=this.findToolHandleAt(a.pc.D,this.name),this.dc!==n)){this.Aa=this.dc.ba.Sd;var b=this.Aa.ba,c=b.Gb;this.GA=this.Aa===b||this.Aa===c?c.Fb(b.Ef):this.Aa.Fb(jc);this.qq=this.Aa.Wa;a.Pc=h;this.Sb(this.name);this.W=h}};
Zg.prototype.doDeactivate=Zg.prototype.wk=function(){var a=this.b;a!==n&&(this.oj(),this.Aa=this.dc=n,this.W=a.Pc=p)};Zg.prototype.doCancel=Zg.prototype.Zi=function(){this.rotate(this.qq);this.stopTool()};Zg.prototype.doMouseMove=Zg.prototype.mh=function(){var a=this.b;this.W&&a!==n&&(a=this.computeRotate(a.H.D),this.rotate(a))};
Zg.prototype.doMouseUp=Zg.prototype.Te=function(){var a=this.b;if(this.W&&a!==n){var b=this.computeRotate(a.H.D);this.rotate(b);a.li();this.ye=this.name;a.la("PartRotated",this.Aa,this.qq)}this.stopTool()};Zg.prototype.rotate=Zg.prototype.rotate=function(a){this.Aa!==n&&(this.Aa.Wa=a,wf(this.b))};
Zg.prototype.computeRotate=Zg.prototype.uI=function(a){var a=this.GA.fi(a),b=this.Aa.Y;b&&(a-=b.On(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.JD),180),c=Math.min(Math.abs(this.ID),b/2);!this.b.H.shift&&(0<b&&0<c)&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};v.a(Zg,"snapAngleMultiple",Zg.prototype.JD);
v.defineProperty(Zg,{JD:"snapAngleMultiple"},s("px"),function(a){this.px!==a&&(t&&v.e(a,"number",Zg,"snapAngleMultiple"),this.px=a)});v.a(Zg,"snapAngleEpsilon",Zg.prototype.ID);v.defineProperty(Zg,{ID:"snapAngleEpsilon"},s("ox"),function(a){this.ox!==a&&(t&&v.e(a,"number",Zg,"snapAngleEpsilon"),this.ox=a)});function ah(){xf.call(this);this.name="ClickSelecting"}v.J("ClickSelectingTool",ah);v.va(ah,xf);
ah.prototype.canStart=ah.prototype.wf=function(){return!this.isEnabled||this.b===n||this.isBeyondDragSize()?p:h};ah.prototype.doMouseUp=ah.prototype.Te=function(){this.W&&(this.standardMouseSelect(),this.standardMouseClick());this.stopTool()};function bh(){xf.call(this);this.name="Action";this.im=n}v.J("ActionTool",bh);v.va(bh,xf);
bh.prototype.canStart=bh.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===n)return p;var b=a.H,c=a.Yc(b.D,function(a){for(;a.Y!==n;){if(a.Yu)return a;a=a.Y}return n},function(a){return a.Yu});return c!==n?(this.im=c,a.qm=a.Yc(b.D,n,n),h):p};bh.prototype.doMouseDown=bh.prototype.Lu=function(){if(this.W){var a=this.b.H,b=this.im;b!==n&&(a.md=b,b.Kx!==n&&b.Kx(a,b))}else this.canStart()&&this.doActivate()};
bh.prototype.doMouseMove=bh.prototype.mh=function(){if(this.W){var a=this.b.H,b=this.im;b!==n&&(a.md=b,b.Lx!==n&&b.Lx(a,b))}};bh.prototype.doMouseUp=bh.prototype.Te=function(){if(this.W){var a=this.b,b=a.H,c=this.im;if(c===n)return;b.md=c;c.Mx!==n&&c.Mx(b,c);this.isBeyondDragSize()||yf(c,b,a)}this.stopTool()};bh.prototype.doCancel=bh.prototype.Zi=function(){var a=this.b;if(a!==n){var a=a.H,b=this.im;if(b===n)return;a.md=b;b.Jx!==n&&b.Jx(a,b)}this.stopTool()};
bh.prototype.doStop=bh.prototype.$i=function(){this.im=n};function Ca(){xf.call(this);this.name="ClickCreating";this.gw=n;this.Nw=h}v.J("ClickCreatingTool",Ca);v.va(Ca,xf);Ca.prototype.canStart=Ca.prototype.wf=function(){if(!this.isEnabled||this.Rx===n)return p;var a=this.b;if(a===n||(a.Va||a.Yd)||!a.un||!a.H.left||this.isBeyondDragSize())return p;if(this.AC){if(2!==a.H.Pe)return p}else if(1!==a.H.Pe)return p;return a.ya!==this&&a.Ir(a.H.D,h)!==n?p:h};
Ca.prototype.doMouseUp=Ca.prototype.Te=function(){var a=this.b;this.W&&a!==n&&this.insertPart(a.H.D);this.stopTool()};Ca.prototype.insertPart=Ca.prototype.CJ=function(a){var b=this.b;if(b!==n){var c=this.Rx;if(c!==n){this.Sb(this.name);var d=n;c instanceof R?c.Zd()&&(uf(c),d=c.copy(),d instanceof R&&b.add(d)):c!==n&&(c=b.S.Dn(c),v.Ua(c)&&(b.S.vu(c),d=b.tg(c)));d instanceof R&&(d.location=a,b.Td&&b.select(d));b.li();this.ye=this.name;b.la("PartCreated",d);this.oj()}}};v.a(Ca,"archetypeNodeData",Ca.prototype.Rx);
v.defineProperty(Ca,{Rx:"archetypeNodeData"},s("gw"),function(a){this.gw!==a&&(a!==n&&v.c(a,Object,Ca,"archetypeNodeData"),this.gw=a)});v.a(Ca,"isDoubleClick",Ca.prototype.AC);v.defineProperty(Ca,{AC:"isDoubleClick"},s("Nw"),function(a){this.Nw!==a&&(v.e(a,"boolean",Ca,"isDoubleClick"),this.Nw=a)});
function ch(){xf.call(this);this.name="ContextMenu";this.Qz=n;this.rA=new D;this.tm=n;if(v.tx===h){this.tm=new sf;this.sw=n;var a=this;this.ZA=function(){a.stopTool()};if(v.Tz===p){var b=document.createElement("div"),c=document.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";
var d=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".defaultCXul { list-style: none; }",0);d.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 6px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",function(a){a.preventDefault();
return p},p);b.addEventListener("selectstart",function(a){a.preventDefault();return p},p);c.addEventListener("contextmenu",function(a){a.preventDefault();return p},p);document.body&&(document.body.appendChild(b),document.body.appendChild(c));v.Ns=b;v.Ms=c;v.Tz=h}}}v.J("ContextMenuTool",ch);v.va(ch,xf);ch.prototype.canStart=ch.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;return a===n||this.isBeyondDragSize()||!a.H.right?p:this.tm!==n||this.findObjectWithContextMenu()!==n?h:p};
ch.prototype.doStart=ch.prototype.ny=function(){var a=this.b;a!==n&&this.rA.set(a.pc.D)};ch.prototype.doStop=ch.prototype.$i=function(){this.hideDefaultContextMenu();this.hideContextMenu()};ch.prototype.findObjectWithContextMenu=ch.prototype.YI=function(){var a=this.b;if(a===n)return n;var b=a.Yc(a.H.D,n,function(a){return!a.za.Zc});if(b!==n){for(a=b;a!==n;){var c=a.contextMenu;if(c!==n)return a;a=a.Y}if(this.tm!==n)return b.ba}else if(c=a.contextMenu,c!==n)return a;return n};
ch.prototype.doActivate=ch.prototype.hi=aa();ch.prototype.doMouseDown=ch.prototype.Lu=function(){if(this.W){var a=this.b;if(a!==n&&this.le!==n){var b=a.Yc(a.H.D,n,n);b!==n&&b.ni(this.le)?(this.standardMouseClick(n,n),this.stopTool()):(this.stopTool(),a.ya.doMouseDown())}}};
ch.prototype.doMouseUp=ch.prototype.Te=function(){!this.W&&this.canStart()&&(this.W=h);this.standardMouseSelect();this.standardMouseClick();var a=this.findObjectWithContextMenu();if(a!==n){var b=a.contextMenu;b!==n?this.showContextMenu(b,a instanceof Q?a:n):this.showDefaultContextMenu()}else this.showDefaultContextMenu()};ch.prototype.doMouseMove=ch.prototype.mh=function(){this.W&&this.standardMouseOver()};
ch.prototype.showContextMenu=ch.prototype.EK=function(a,b){v.c(a,sf,ch,"showContextMenu:contextmenu");b!==n&&v.c(b,Q,ch,"showContextMenu:obj");var c=this.b;if(c!==n){a!==this.le&&this.hideContextMenu();a.Kd="Tool";a.Fk=p;c.add(a);if(b!==n){var d=n,e=b.Kr();e!==n&&(d=e.data);a.Sd=b;a.data=d}else a.data=c.S;a.ii();this.positionContextMenu(a,b);this.le=a;wf(c)}};
ch.prototype.positionContextMenu=ch.prototype.mK=function(a){var b=this.b;if(b!==n){var c=b.H.D.copy(),d=a.ua,b=b.ub;c.x+d.width>b.right&&(c.x-=d.width+5);c.y+d.height>b.bottom&&(c.y-=d.height+5);a.position=c}};ch.prototype.hideContextMenu=ch.prototype.uJ=function(){var a=this.b;a!==n&&this.le!==n&&(this.le.data=n,this.le.Sd=n,a.remove(this.le),this.le=n,this.standardMouseOver(),wf(a))};
ch.prototype.initializeDefaultButtons=ch.prototype.yJ=function(){if(this.b===n)return n;var a=new z,b=this.b.Gd;a.add({text:"Copy",xf:function(){b.copySelection()},visible:function(){return b.canCopySelection()}});a.add({text:"Cut",xf:function(){b.cutSelection()},visible:function(){return b.canCutSelection()}});a.add({text:"Delete",xf:function(){b.deleteSelection()},visible:function(){return b.canDeleteSelection()}});a.add({text:"Paste",xf:function(a){b.pasteSelection(a.H.D)},visible:function(){return b.canPasteSelection()}});
a.add({text:"Select All",xf:function(){b.selectAll()},visible:function(){return b.canSelectAll()}});a.add({text:"Undo",xf:function(){b.undo()},visible:function(){return b.canUndo()}});a.add({text:"Redo",xf:function(){b.redo()},visible:function(){return b.canRedo()}});a.add({text:"Zoom Out",xf:function(){b.decreaseZoom()},visible:function(){return b.canDecreaseZoom()}});a.add({text:"Zoom In",xf:function(){b.increaseZoom()},visible:function(){return b.canIncreaseZoom()}});a.add({text:"Reset Zoom",xf:function(){b.resetZoom()},
visible:function(){return b.canResetZoom()}});a.add({text:"Group Selection",xf:function(){b.groupSelection()},visible:function(){return b.canGroupSelection()}});a.add({text:"Ungroup Selection",xf:function(){b.ungroupSelection()},visible:function(){return b.canUngroupSelection()}});a.add({text:"Edit Text",xf:function(){b.editTextBlock()},visible:function(){return b.canEditTextBlock()}});return a};
ch.prototype.showDefaultContextMenu=ch.prototype.FK=function(){var a=this.b;if(a!==n){this.sw===n&&(this.sw=this.initializeDefaultButtons());this.tm!==this.le&&this.hideContextMenu();v.Ns.innerHTML="";v.Ms.addEventListener("click",this.ZA,p);var b=this,c=document.createElement("ul");c.className="defaultCXul";v.Ns.appendChild(c);c.innerHTML="";for(var d=this.sw.f;d.next();){var e=d.value,g=e.text,i=e.visible;if("function"!==typeof i||i()){i=document.createElement("li");i.className="defaultCXli";var j=
document.createElement("a");j.className="defaultCXa";j.href="#";j.nE=e.xf;j.addEventListener("click",function(c){this.nE(a);b.stopTool();c.preventDefault();return p},p);j.textContent=g;i.appendChild(j);c.appendChild(i)}}v.Ns.style.display="block";v.Ms.style.display="block";this.le=this.tm}};ch.prototype.hideDefaultContextMenu=ch.prototype.vJ=function(){this.le!==n&&this.le===this.tm&&(v.Ns.style.display="none",v.Ms.style.display="none",v.Ms.removeEventListener("click",this.ZA,p),this.le=n)};
v.a(ch,"currentContextMenu",ch.prototype.le);v.defineProperty(ch,{le:"currentContextMenu"},s("Qz"),ba("Qz"));v.m(ch,{dK:"mouseDownPoint"},s("rA"));function dh(){xf.call(this);this.name="DragSelecting";this.um=175;this.mA=p;var a=new R;a.Kd="Tool";a.Fk=p;var b=new W;b.name="Shape";b.ab="Rectangle";b.fill=n;b.stroke="magenta";b.position=new D(0,0);a.add(b);this.mm=a}v.J("DragSelectingTool",dh);v.va(dh,xf);
dh.prototype.canStart=dh.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===n||!a.Td)return p;var b=a.H;return!b.left||a.ya!==this&&(!this.isBeyondDragSize()||b.timestamp-a.pc.timestamp<this.Ju||a.Ir(b.D,h)!==n)?p:h};dh.prototype.doActivate=dh.prototype.hi=function(){var a=this.b;a!==n&&(this.W=h,a.Pc=h,a.tb=h,a.add(this.pg))};dh.prototype.doDeactivate=dh.prototype.wk=function(){var a=this.b;a!==n&&(a.remove(this.pg),a.tb=p,this.W=a.Pc=p,wf(a))};
dh.prototype.doMouseMove=dh.prototype.mh=function(){var a=this.b;if(a!==n&&this.W&&this.pg!==n){var b=this.computeBoxBounds();this.pg.Ve("Shape").ta=b.size;this.pg.position=b.position;wf(a)}};dh.prototype.doMouseUp=dh.prototype.Te=function(){if(this.W){var a=this.b;a.remove(this.pg);try{a.Dc="wait",this.selectInRect(this.computeBoxBounds())}finally{a.Dc=""}}this.stopTool()};dh.prototype.computeBoxBounds=dh.prototype.kI=function(){var a=this.b;return a===n?new E(0,0,0,0):new E(a.pc.D,a.H.D)};
dh.prototype.selectInRect=dh.prototype.CK=function(a){var b=this.b;if(b!==n){var c=b.H;b.la("ChangingSelection");a=b.Kl(a,n,function(a){return a instanceof R&&a.Wx()},this.EC);if(c.uk)if(c.shift)for(a=a.f;a.next();)c=a.value,c.La&&(c.La=p);else for(a=a.f;a.next();)c=a.value,c.La=!c.La;else{if(!c.shift){for(var d=new z(R),e=b.selection.f;e.next();)c=e.value,a.contains(c)||d.add(c);for(d=d.f;d.next();)c=d.value,c.La=p}for(a=a.f;a.next();)c=a.value,c.La||(c.La=h)}b.la("ChangedSelection")}};
v.a(dh,"delay",dh.prototype.Ju);v.defineProperty(dh,{Ju:"delay"},s("um"),ba("um"));v.a(dh,"isPartialInclusion",dh.prototype.EC);v.defineProperty(dh,{EC:"isPartialInclusion"},s("mA"),ba("mA"));v.a(dh,"box",dh.prototype.pg);v.defineProperty(dh,{pg:"box"},s("mm"),ba("mm"));function eh(){xf.call(this);this.name="Panning";this.DA=new D;this.ui=p;var a=this;this.OA=function(){document.removeEventListener("scroll",a.OA,p);a.stopTool()}}v.J("PanningTool",eh);v.va(eh,xf);
eh.prototype.canStart=eh.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;return a===n||!a.Ne&&!a.Oe||!a.H.left||a.ya!==this&&!this.isBeyondDragSize()?p:h};eh.prototype.doActivate=eh.prototype.hi=function(){var a=this.b;a!==n&&(this.ui?(a.H.bubbles=h,document.addEventListener("scroll",this.OA,p)):(a.Dc="move",a.Pc=h,this.DA=a.position),this.W=h)};eh.prototype.doDeactivate=eh.prototype.wk=function(){var a=this.b;a!==n&&(a.Dc="",this.W=a.Pc=p)};
eh.prototype.doCancel=eh.prototype.Zi=function(){var a=this.b;a!==n&&(a.position=this.DA,a.Pc=p);this.stopTool()};eh.prototype.doMouseMove=eh.prototype.mh=function(){var a=this.b;if(this.W&&a)if(this.ui)a.H.bubbles=h;else{var b=a.position,c=a.pc.D,d=a.H.D,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.Ne||(e=b.x);a.Oe||(c=b.y);a.position=new D(e,c);a.update()}};v.a(eh,"bubbles",eh.prototype.bubbles);v.defineProperty(eh,{bubbles:"bubbles"},s("ui"),ba("ui"));
function fh(){xf.call(this);this.name="TextEditing";this.tw=this.Sz=this.Cx=n;this.sx=gh;this.Pi=n;this.Qa=hh;this.dk=n}v.J("TextEditingTool",fh);v.va(fh,xf);var ih;fh.LostFocus=ih=v.l(fh,"LostFocus",0);var jh;fh.MouseDown=jh=v.l(fh,"MouseDown",1);var kh;fh.Tab=kh=v.l(fh,"Tab",2);var lh;fh.Enter=lh=v.l(fh,"Enter",3);fh.SingleClick=v.l(fh,"SingleClick",0);var gh;fh.SingleClickSelected=gh=v.l(fh,"SingleClickSelected",1);
var hh=v.l(fh,"StateNone",0),mh=v.l(fh,"StateActive",1),nh=v.l(fh,"StateEditing",2),oh=v.l(fh,"StateEditing2",3),vh=v.l(fh,"StateValidating",4),wh=v.l(fh,"StateValidated",5);v.a(fh,"textBlock",fh.prototype.Nf);v.defineProperty(fh,{Nf:"textBlock"},s("Cx"),ba("Cx"));v.a(fh,"currentTextEditor",fh.prototype.qg);v.defineProperty(fh,{qg:"currentTextEditor"},s("Sz"),ba("Sz"));v.a(fh,"defaultTextEditor",fh.prototype.NB);v.defineProperty(fh,{NB:"defaultTextEditor"},s("tw"),ba("tw"));v.a(fh,"starting",fh.prototype.KD);
v.defineProperty(fh,{KD:"starting"},s("sx"),function(a){this.sx!==a&&(t&&v.Za(a,fh,fh,"starting"),this.sx=a)});fh.prototype.canStart=fh.prototype.wf=function(){if(!this.isEnabled)return p;var a=this.b;if(a===n||a.Va||!a.H.left||this.isBeyondDragSize())return p;a=a.Yc(a.H.D,n,function(a){return a instanceof xa});if(!(a instanceof xa)||!a.Mu)return p;a=a.ba;return a===n||this.KD===gh&&!a.La?p:h};fh.prototype.doStart=fh.prototype.ny=function(){!this.W&&this.Nf!==n&&this.doActivate()};
fh.prototype.doActivate=fh.prototype.hi=function(){if(!this.W){var a=this.b;if(a!==n){var b=this.Nf;b===n&&(b=a.Yc(a.H.D,function(a){return a instanceof xa?a:n}),b=b instanceof xa?b:n);if(b!==n&&(this.Nf=b,b.ba!==n)){this.W=h;this.Qa=mh;this.Sb(this.name);var c=this.NB,d=p;b.qz!==n&&(c=b.qz);c!==n&&!c.Fz&&(d=h);if(c===n){c=document.createElement("textarea");c.Fz=h;this.tw=c;var e=this.Nf.copy();c.addEventListener("input",function(){e.text=this.value;xh(e,Infinity,Infinity);this.style.width=20+e.ua.width*
this.jH+"px";this.rows=e.hl},p);c.addEventListener("keydown",function(a){var b=a.which,c=this.textEditingTool;if(c!==n)if(13==b)c.Ix(lh);else{if(9==b)return c.Ix(kh),a.preventDefault(),p;27==b&&(c.doCancel(),c.b&&c.b.focus())}},p);c.addEventListener("focus",function(){var a=this.textEditingTool;a.Qa===mh?a.Qa=nh:a.Qa===wh?a.Qa=oh:a.Qa===oh&&(a.Qa=nh)},p)}if(c.Fz){var g=b.Fb(jc),i=a.position,j=a.scale,k=b.Ll()*j,l=b.qa.width*k;yh(b,b.font);g=new D((g.x-i.x)*j,(g.y-i.y)*j);c.value=b.text;a.gi.style.font=
b.font;c.style.font="inherit";c.style.fontSize=100*k+"%";c.style.lineHeight="normal";l=20+l;c.style.width=l+"px";c.style.height="";c.rows=b.hl;a.gi.appendChild(c);c.style.left=(g.x-l/2|0)+"px";c.style.top=(g.y-c.clientHeight/2|0)+"px";c.style.textAlign=b.textAlign}else a.gi.appendChild(c);c.style.position="absolute";c.style.zIndex=100;c.className="start";c.textEditingTool=this;c.jH=k;if(d&&c.onActivate!==f)c.onActivate();this.qg=c;c.focus()}}}};
fh.prototype.doCancel=fh.prototype.Zi=function(){this.dk!==n&&(this.qg.style.border=this.dk,this.dk=n);this.stopTool()};fh.prototype.doMouseUp=fh.prototype.Te=function(){!this.W&&this.canStart()&&this.doActivate()};fh.prototype.doMouseDown=fh.prototype.Lu=function(){this.W&&this.Ix(jh)};
fh.prototype.acceptText=fh.prototype.Ix=function(a){switch(a){case jh:if(this.Qa===wh||this.Qa===oh)this.qg.focus();else if(this.Qa===mh||this.Qa===nh)this.Qa=vh,zh(this);break;case ih:case lh:case kh:if(lh===a&&this.Cx.av===h)break;if(this.Qa===mh||this.Qa===nh)this.Qa=vh,zh(this)}};
function zh(a){if(a.Nf!==n&&a.qg!==n){var b=a.Nf,c=a.Nf.text,d=a.qg.value,e="",e="function"===typeof d?d():d;if(!a.isValidText(a.Nf,c,e)){a.Qa=nh;b.Er!==n&&b.Er(a,c,e);a.dk===n&&(a.dk=a.qg.style.border,a.qg.style.border="3px solid red");a.qg.focus();return}a.Qa=wh;c!==e&&(a.Nf.text=e);a.ye=a.name;b=a.b;b!==n&&b.la("TextEdited",a.Nf,c);a.stopTool();b!==n&&b.focus()}a.dk!==n&&(a.qg.style.border=a.dk,a.dk=n)}
fh.prototype.doDeactivate=fh.prototype.wk=function(){var a=this.b;if(a!==n){this.W&&this.oj();this.Qa=hh;this.Nf=n;if(this.qg!==n){var b=this.qg;if(b.onDeactivate!==f)b.onDeactivate();b!==n&&a.gi.removeChild(b)}this.W=p}};fh.prototype.isValidText=fh.prototype.NJ=function(a,b,c){v.c(a,xa,fh,"isValidText:textblock");var d=this.ts;if(d!==n&&!d(a,b,c))return p;d=a.ts;return d!==n&&!d(a,b,c)?p:h};v.a(fh,"textValidation",fh.prototype.ts);
v.defineProperty(fh,{ts:"textValidation"},s("Pi"),function(a){this.Pi!==a&&(this.Pi=a)});function ff(){xf.call(this);this.name="ToolManager";this.sA=new z(xf);this.tA=new z(xf);this.uA=new z(xf);this.eA=this.fA=1E3;this.Us=this.qw=n;this.vA=Af}v.J("ToolManager",ff);v.va(ff,xf);var Af;ff.WheelScroll=Af=v.l(ff,"WheelScroll",0);var zf;ff.WheelZoom=zf=v.l(ff,"WheelZoom",1);v.a(ff,"mouseWheelBehavior",ff.prototype.Tl);v.defineProperty(ff,{Tl:"mouseWheelBehavior"},s("vA"),ba("vA"));
ff.prototype.initializeStandardTools=ff.prototype.zJ=function(){this.cB=new bh;this.kD=new Cg;this.LC=new Ig;this.tD=new Rg;this.xD=new Zg;this.NC=new Aa;this.me=new Cf;this.VB=new dh;this.cD=new eh;this.zB=new ch;this.wv=new fh;this.vB=new Ca;this.wB=new ah};
ff.prototype.doMouseDown=ff.prototype.Lu=function(){var a=this.b;if(a!==n){var b=a.ia;b.Yx&&0!==b.Jk&&v.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var b=this.se.length,c=0;c<b;c++){var d=this.se.R(c);if(d.canStart()){a.ya=d;a.ya===d&&(d.W||d.doActivate(),d.doMouseDown());return}}1===a.H.button&&(this.Tl===Af?this.Tl=zf:this.Tl===zf&&(this.Tl=Af));this.doActivate();this.standardWaitAfter(this.zy)}};
ff.prototype.doMouseMove=ff.prototype.mh=function(){var a=this.b;if(a!==n){if(this.W)for(var b=this.vg.length,c=0;c<b;c++){var d=this.vg.R(c);if(d.canStart()){a.ya=d;a.ya===d&&(d.W||d.doActivate(),d.doMouseMove());return}}this.standardMouseOver();this.isBeyondDragSize()&&this.standardWaitAfter(this.W?this.zy:this.vC)}};ff.prototype.doCurrentObjectChanged=ff.prototype.EF=function(a,b){var c=this.vk;c!==n&&!(b!==n&&(b===c||b.ni(c)))&&this.hideToolTip()};
ff.prototype.doWaitAfter=ff.prototype.IF=function(){this.b&&this.b.ma&&(this.doMouseHover(),this.W||this.doToolTip())};ff.prototype.doMouseHover=ff.prototype.II=function(){var a=this.b;if(a!==n){var b=a.H;b.md===n&&(b.md=a.Yc(b.D,n,n));var c=b.md;if(c!==n)for(;c!==n;){a=this.W?c.cs:c.ds;if(a!==n&&(a(b,c),b.Hd))break;c=c.Y}else a=this.W?a.cs:a.ds,a!==n&&a(b)}};
ff.prototype.doToolTip=ff.prototype.JI=function(){var a=this.b;if(a!==n){var b=a.H;b.md===n&&(b.md=a.Yc(b.D,n,n));b=b.md;if(b!==n){if(!(b===this.vk||b.ni(this.vk))){for(;b!==n;){a=b.ws;if(a!==n){this.showToolTip(a,b);return}b=b.Y}this.hideToolTip()}}else a=a.ws,a!==n?this.showToolTip(a,n):this.hideToolTip()}};
ff.prototype.showToolTip=ff.prototype.GK=function(a,b){v.c(a,sf,ff,"showToolTip:tooltip");b!==n&&v.c(b,Q,ff,"showToolTip:obj");var c=this.b;if(c!==n){a!==this.vk&&this.hideToolTip();a.Kd="Tool";a.Fk=p;c.add(a);if(b!==n&&b!==this.Us){var d=n,e=b.ba;e!==n&&(d=e.data);a.Sd=b;a.data=d}else b===n&&(a.data=c.S);if(b===n||b!==this.Us)a.ii(),this.positionToolTip(a,b);this.qw=a;this.Us=b;wf(c)}};
ff.prototype.positionToolTip=ff.prototype.nK=function(a){var b=this.b;if(b!==n){var c=b.H.D.copy(),d=a.ua,b=b.ub;c.x+d.width>b.right&&(c.x-=d.width+5);c.y=c.y+20+d.height>b.bottom?c.y-(d.height+5):c.y+20;a.position=c}};ff.prototype.hideToolTip=ff.prototype.wJ=function(){if(this.vk!==n){var a=this.b;a!==n&&(this.vk.data=n,this.vk.Sd=n,a.remove(this.vk),this.Us=this.qw=n,wf(a))}};v.m(ff,{vk:"currentToolTip"},s("qw"));
ff.prototype.doMouseUp=ff.prototype.Te=function(){this.cancelWaitAfter();if(this.W){var a=this.b;if(a===n)return;for(var b=this.wg.length,c=0;c<b;c++){var d=this.wg.R(c);if(d.canStart()){a.ya=d;a.ya===d&&(d.W||d.doActivate(),d.doMouseUp());return}}}this.doDeactivate()};ff.prototype.doMouseWheel=ff.prototype.FF=function(){this.standardMouseWheel()};ff.prototype.doKeyDown=ff.prototype.ly=function(){var a=this.b;a!==n&&a.Gd.doKeyDown()};
ff.prototype.doKeyUp=ff.prototype.my=function(){var a=this.b;a!==n&&a.Gd.doKeyUp()};ff.prototype.doCancel=ff.prototype.Zi=function(){Ff!==n&&Ff.doCancel();xf.prototype.Zi.call(this)};ff.prototype.findTool=ff.prototype.We=function(a){v.e(a,"string",ff,"findTool:name");for(var b=this.se.length,c=0;c<b;c++){var d=this.se.R(c);if(d.name===a)return d}b=this.vg.length;for(c=0;c<b;c++)if(d=this.vg.R(c),d.name===a)return d;b=this.wg.length;for(c=0;c<b;c++)if(d=this.wg.R(c),d.name===a)return d;return n};
ff.prototype.replaceTool=ff.prototype.TG=function(a,b){v.e(a,"string",ff,"replaceTool:name");b!==n&&(v.c(b,xf,ff,"replaceTool:newtool"),b.b&&b.b!==this.b&&v.g("Cannot share tools between Diagrams: "+b.toString()),b.Jf(this.b));for(var c=this.se.length,d=0;d<c;d++){var e=this.se.R(d);if(e.name===a)return b!==n?this.se.qv(d,b):this.se.ue(d),e}c=this.vg.length;for(d=0;d<c;d++)if(e=this.vg.R(d),e.name===a)return b!==n?this.vg.qv(d,b):this.vg.ue(d),e;c=this.wg.length;for(d=0;d<c;d++)if(e=this.wg.R(d),
e.name===a)return b!==n?this.wg.qv(d,b):this.wg.ue(d),e;return n};function Ah(a,b,c,d){v.e(b,"string",ff,"replaceStandardTool:name");v.c(d,z,ff,"replaceStandardTool:list");c!==n&&(v.c(c,xf,ff,"replaceStandardTool:newtool"),c.b&&c.b!==a.b&&v.g("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.Jf(a.b));a.We(b)?a.TG(b,c):c!==n&&d.add(c)}v.m(ff,{se:"mouseDownTools"},s("sA"));v.m(ff,{vg:"mouseMoveTools"},s("tA"));v.m(ff,{wg:"mouseUpTools"},s("uA"));v.a(ff,"hoverDelay",ff.prototype.vC);
v.defineProperty(ff,{vC:"hoverDelay"},s("fA"),ba("fA"));v.a(ff,"holdDelay",ff.prototype.zy);v.defineProperty(ff,{zy:"holdDelay"},s("eA"),ba("eA"));v.a(ff,"actionTool",ff.prototype.cB);v.defineProperty(ff,{cB:"actionTool"},function(){return this.We("Action")},function(a){Ah(this,"Action",a,this.se)});v.a(ff,"relinkingTool",ff.prototype.kD);v.defineProperty(ff,{kD:"relinkingTool"},function(){return this.We("Relinking")},function(a){Ah(this,"Relinking",a,this.se)});v.a(ff,"linkReshapingTool",ff.prototype.LC);
v.defineProperty(ff,{LC:"linkReshapingTool"},function(){return this.We("LinkReshaping")},function(a){Ah(this,"LinkReshaping",a,this.se)});v.a(ff,"resizingTool",ff.prototype.tD);v.defineProperty(ff,{tD:"resizingTool"},function(){return this.We("Resizing")},function(a){Ah(this,"Resizing",a,this.se)});v.a(ff,"rotatingTool",ff.prototype.xD);v.defineProperty(ff,{xD:"rotatingTool"},function(){return this.We("Rotating")},function(a){Ah(this,"Rotating",a,this.se)});v.a(ff,"linkingTool",ff.prototype.NC);
v.defineProperty(ff,{NC:"linkingTool"},function(){return this.We("Linking")},function(a){Ah(this,"Linking",a,this.vg)});v.a(ff,"draggingTool",ff.prototype.me);v.defineProperty(ff,{me:"draggingTool"},function(){return this.We("Dragging")},function(a){Ah(this,"Dragging",a,this.vg)});v.a(ff,"dragSelectingTool",ff.prototype.VB);v.defineProperty(ff,{VB:"dragSelectingTool"},function(){return this.We("DragSelecting")},function(a){Ah(this,"DragSelecting",a,this.vg)});v.a(ff,"panningTool",ff.prototype.cD);
v.defineProperty(ff,{cD:"panningTool"},function(){return this.We("Panning")},function(a){Ah(this,"Panning",a,this.vg)});v.a(ff,"contextMenuTool",ff.prototype.zB);v.defineProperty(ff,{zB:"contextMenuTool"},function(){return this.We("ContextMenu")},function(a){Ah(this,"ContextMenu",a,this.wg)});v.a(ff,"textEditingTool",ff.prototype.wv);v.defineProperty(ff,{wv:"textEditingTool"},function(){return this.We("TextEditing")},function(a){Ah(this,"TextEditing",a,this.wg)});v.a(ff,"clickCreatingTool",ff.prototype.vB);
v.defineProperty(ff,{vB:"clickCreatingTool"},function(){return this.We("ClickCreating")},function(a){Ah(this,"ClickCreating",a,this.wg)});v.a(ff,"clickSelectingTool",ff.prototype.wB);v.defineProperty(ff,{wB:"clickSelectingTool"},function(){return this.We("ClickSelecting")},function(a){Ah(this,"ClickSelecting",a,this.wg)});
function cf(){v.Tb(this);this.N=n;this.nb=new z(R);this.Db="";this.Pw=p;this.hh=this.Dj=this.Cj=this.Bj=this.Aj=this.yj=this.xj=this.zj=this.wj=this.Fj=this.vj=this.Ej=this.uj=this.tj=h;this.yE=[]}v.J("Layer",cf);cf.prototype.Jf=ba("N");
cf.prototype.toString=function(a){a===f&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,g=0,i=0,j=this.nb.f;j.next();){var k=j.value;k instanceof T?e++:k instanceof S?d++:k instanceof V?g++:k instanceof sf?i++:c++}j="";0<c&&(j+=c+" Parts ");0<d&&(j+=d+" Nodes ");0<e&&(j+=e+" Groups ");0<g&&(j+=g+" Links ");0<i&&(j+=i+" Adornments ");if(1<a)for(c=this.nb.f;c.next();)d=c.value,j+="\n    "+d.toString(a-1),(e=d.data)&&v.qc(e)&&(j+=" #"+v.qc(e)),d instanceof S?j+=" "+Ce(e):d instanceof
V&&(j+=" "+Ce(d.ja)+" "+Ce(d.na));return b+" "+this.nb.count+": "+j};cf.prototype.findObjectAt=cf.prototype.Yc=function(a,b,c){b===f&&(b=n);c===f&&(c=n);var d=this.nb,e=p;this.b.ub.ka(a)&&(e=h);for(var g=new D,i=d.length;i--;){var j=d.R(i);if(!(e===h&&j.gf===p)&&j.ib()&&(pb(g.set(a),j.ke),j=j.Yc(g,b,c),j!==n&&(b!==n&&(j=b(j)),j&&(c===n||c(j)))))return j}return n};
cf.prototype.findObjectsAt=cf.prototype.Ln=function(a,b,c,d){b===f&&(b=n);c===f&&(c=n);!(d instanceof z)&&!(d instanceof va)&&(d=new z(Q));var e=this.nb,g=p;this.b.ub.ka(a)&&(g=h);for(var i=new D,j=e.length;j--;){var k=e.R(j);!(g===h&&k.gf===p)&&k.ib()&&(pb(i.set(a),k.ke),k.Ln(i,b,c,d)&&(b!==n&&(k=b(k)),k&&(c===n||c(k))&&d.add(k)))}return d};
cf.prototype.findObjectsIn=cf.prototype.Kl=function(a,b,c,d,e){b===f&&(b=n);c===f&&(c=n);d===f&&(d=p);!(e instanceof z)&&!(e instanceof va)&&(e=new z(Q));var g=this.nb,i=p;this.b.ub.Cl(a)&&(i=h);for(var j=g.length;j--;){var k=g.R(j);!(i===h&&k.gf===p)&&(k.ib()&&k.Kl(a,b,c,d,e))&&(b!==n&&(k=b(k)),k&&(c===n||c(k))&&e.add(k))}return e};
cf.prototype.findObjectsNear=cf.prototype.Mn=function(a,b,c,d,e){c===f&&(c=n);d===f&&(d=n);!(e instanceof z)&&!(e instanceof va)&&(e=new z(Q));var g=this.nb,i=p;this.b.ub.ka(a)&&(i=h);for(var j=new D,k=g.length;k--;){var l=g.i[k];if(!(i===h&&l.gf===p)&&l.ib()){pb(j.set(a),l.ke);var m=new D(a.x+b,a.y);pb(m,l.ke);l.Mn(j,m,c,d,e)&&(c!==n&&(l=c(l)),l&&(d===n||d(l))&&e.add(l))}}return e};ea=cf.prototype;
ea.sg=function(a,b){if(this.visible){var c=this.nb,d=b.ub,e=[];if(b.Im)for(var g=c.length,i=0;i<g;i++){var j=c.i[i];j.wE=i;if(j instanceof V&&((j.Ni===Xf||j.Ni===Bh)&&e.push(j),j.ul===p))continue;j.pa.Xe(d)?(j.sg(a,b),j.gf=h):j.gf=p}else{g=c.length;for(i=0;i<g;i++)if(j=c.i[i],j.gf){if(j instanceof V&&((j.Ni===Xf||j.Ni===Bh)&&e.push(j),j.ul===p))continue;j.sg(a,b)}}this.yE=e}};ea.d=function(a,b,c,d,e){var g=this.b;g!==n&&g.be(ze,a,this,b,c,d,e)};
ea.yk=function(a,b,c){var d=this.nb;b.w=this;if(a>=d.count)a=d.count;else if(d.R(a)===b)return-1;d.rc(a,b);b.Tr();d=this.b;d!==n&&(c?Ch(d):d.yk(b));b instanceof T&&this.tv(b);return a};ea.Id=function(a,b,c){var d=this.nb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.R(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.Ur();d.ue(a);d=this.b;d!==n&&(c?Ch(d):d.Id(b));b.w=n;return a};
ea.tv=function(a){for(;a!==n;){if(a.za===this){var b=a;if(b.sc.next()){for(var c=-1,d=-1,e=this.nb.i,g=e.length,i=0;i<g;i++){var j=e[i];if(j===b&&(c=i,0<=d))break;if(0>d&&j.$a===b&&(d=i,0<=c))break}!(0>d)&&d<c&&(e=this.nb,e.ue(c),e.rc(d,b))}}a=a.$a}};ea.clear=function(){for(var a=this.nb.Of(),b=a.length,c=0;c<b;c++)a[c].gf=p,this.Id(-1,a[c])};v.m(cf,{kj:"parts"},function(){return this.nb.f});v.m(cf,{iK:"partsBackwards"},function(){return this.nb.Un});v.m(cf,{b:"diagram"},s("N"));v.a(cf,"name",cf.prototype.name);
v.defineProperty(cf,{name:"name"},s("Db"),function(a){v.e(a,"string",cf,"name");var b=this.Db;if(b!==a){var c=this.b;if(c!==n){""===b&&v.g("Cannot rename default Layer to: "+a);for(c=c.Vn;c.next();)c.value.name===a&&v.g("Layer.name is already present in this diagram: "+a)}this.Db=a;this.d("name",b,a)}});v.a(cf,"isTemporary",cf.prototype.Zc);v.defineProperty(cf,{Zc:"isTemporary"},s("Pw"),function(a){var b=this.Pw;b!==a&&(v.e(a,"boolean",cf,"isTemporary"),this.Pw=a,this.d("isTemporary",b,a))});
v.a(cf,"visible",cf.prototype.visible);v.defineProperty(cf,{visible:"visible"},s("hh"),function(a){var b=this.hh;if(b!==a){v.e(a,"boolean",cf,"visible");this.hh=a;this.d("visible",b,a);for(a=this.nb.f;a.next();)a.value.updateAdornments();a=this.b;a!==n&&Ch(a)}});v.a(cf,"allowCopy",cf.prototype.Yh);v.defineProperty(cf,{Yh:"allowCopy"},s("tj"),function(a){var b=this.tj;b!==a&&(v.e(a,"boolean",cf,"allowCopy"),this.tj=a,this.d("allowCopy",b,a))});v.a(cf,"allowDelete",cf.prototype.pk);
v.defineProperty(cf,{pk:"allowDelete"},s("uj"),function(a){var b=this.uj;b!==a&&(v.e(a,"boolean",cf,"allowDelete"),this.uj=a,this.d("allowDelete",b,a))});v.a(cf,"allowTextEdit",cf.prototype.zn);v.defineProperty(cf,{zn:"allowTextEdit"},s("Ej"),function(a){var b=this.Ej;b!==a&&(v.e(a,"boolean",cf,"allowTextEdit"),this.Ej=a,this.d("allowTextEdit",b,a))});v.a(cf,"allowGroup",cf.prototype.tn);
v.defineProperty(cf,{tn:"allowGroup"},s("vj"),function(a){var b=this.vj;b!==a&&(v.e(a,"boolean",cf,"allowGroup"),this.vj=a,this.d("allowGroup",b,a))});v.a(cf,"allowUngroup",cf.prototype.An);v.defineProperty(cf,{An:"allowUngroup"},s("Fj"),function(a){var b=this.Fj;b!==a&&(v.e(a,"boolean",cf,"allowUngroup"),this.Fj=a,this.d("allowUngroup",b,a))});v.a(cf,"allowLink",cf.prototype.xl);
v.defineProperty(cf,{xl:"allowLink"},s("wj"),function(a){var b=this.wj;b!==a&&(v.e(a,"boolean",cf,"allowLink"),this.wj=a,this.d("allowLink",b,a))});v.a(cf,"allowRelink",cf.prototype.Ri);v.defineProperty(cf,{Ri:"allowRelink"},s("zj"),function(a){var b=this.zj;b!==a&&(v.e(a,"boolean",cf,"allowRelink"),this.zj=a,this.d("allowRelink",b,a))});v.a(cf,"allowMove",cf.prototype.qk);
v.defineProperty(cf,{qk:"allowMove"},s("xj"),function(a){var b=this.xj;b!==a&&(v.e(a,"boolean",cf,"allowMove"),this.xj=a,this.d("allowMove",b,a))});v.a(cf,"allowPrint",cf.prototype.vn);v.defineProperty(cf,{vn:"allowPrint"},s("yj"),function(a){var b=this.yj;b!==a&&(v.e(a,"boolean",cf,"allowPrint"),this.yj=a,this.d("allowPrint",b,a))});v.a(cf,"allowReshape",cf.prototype.wn);
v.defineProperty(cf,{wn:"allowReshape"},s("Aj"),function(a){var b=this.Aj;b!==a&&(v.e(a,"boolean",cf,"allowReshape"),this.Aj=a,this.d("allowReshape",b,a))});v.a(cf,"allowResize",cf.prototype.xn);v.defineProperty(cf,{xn:"allowResize"},s("Bj"),function(a){var b=this.Bj;b!==a&&(v.e(a,"boolean",cf,"allowResize"),this.Bj=a,this.d("allowResize",b,a))});v.a(cf,"allowRotate",cf.prototype.yn);
v.defineProperty(cf,{yn:"allowRotate"},s("Cj"),function(a){var b=this.Cj;b!==a&&(v.e(a,"boolean",cf,"allowRotate"),this.Cj=a,this.d("allowRotate",b,a))});v.a(cf,"allowSelect",cf.prototype.Td);v.defineProperty(cf,{Td:"allowSelect"},s("Dj"),function(a){var b=this.Dj;b!==a&&(v.e(a,"boolean",cf,"allowSelect"),this.Dj=a,this.d("allowSelect",b,a))});
function A(a){function b(a){var b=a.toLowerCase(),c=new z("function");e.add(a,c);e.add(b,c);g.add(a,a);g.add(b,a)}function c(){document.removeEventListener("DOMContentLoaded",c,p);Dh(d)}v.Tb(this);v.Vz=[];this.kc=h;this.ie=17;var d=this;document.body!==n?Dh(this):document.addEventListener("DOMContentLoaded",c,p);this.Cb=new z(cf);this.QA=this.PA=this.SA=this.RA=this.Mb=this.Dg=this.ma=n;this.ob=(new D(NaN,NaN)).freeze();this.Jb=1;this.Bt=1E-4;this.wt=100;this.ud=new ob;this.tu=(new D(NaN,NaN)).freeze();
this.at=(new E(NaN,NaN,NaN,NaN)).freeze();this.Rk=Eh;this.Vk=cc;this.Rj=Eh;this.Fm=cc;this.ft=this.et=dc;this.Og=new va(Q);this.Bi=h;this.vm=new ra(V,E);this.gp=h;this.lE=250;this.kE=1E3;this.Bg=n;this.Gs=(new Ib(16,16,16,16)).freeze();this.Wz=h;this.kr=this.gh=p;this.np=h;this.Fx=p;this.Zf=new ve;this.yc=new ve;this.lc=new ve;this.wi=n;this.ju=-1;this.ux=p;this.ww=new ra("string",z);this.vw=new ra("string","string");var e=new ra("string",z),g=new ra("string","string");b("BackgroundSingleClicked");
b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");
b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");this.ww=e;this.vw=g;this.Kt=new va(S);this.tl=new va(T);this.qt=new va(V);this.nb=new va(R);this.nt=h;this.hA=p;this.qu=jg;this.pw=this.uw=this.pu=n;this.Ts="";this.$o="auto";this.Dh=this.Wh=this.Nh=this.Et=this.Oh=this.Ph=this.Qh=this.Ch=this.Eh=this.Bh=n;this.$k=h;this.dw=p;this.mw=n;this.bl=this.Sh=this.Hz=p;this.Ca=h;this.mf=
n;var i=this;this.pA=function(a){if(a.S===i.S&&i.Ca){i.Ca=p;try{var b=a.Xc;""===a.re&&b===ze&&Fh(i,a.object,a.propertyName)}finally{i.Ca=h}}};this.qA=function(a){if(a.S===i.S&&i.Ca){i.Ca=p;try{var b=a.Xc,c=a.re;if(""!==c)if(b===ze)if("linkFromKey"===c){var d=a.object,e=i.cj(d);if(e!==n){var g=a.newValue,u=i.oh(g);e.ja=u}}else if("linkToKey"===c)d=a.object,e=i.cj(d),e!==n&&(g=a.newValue,u=i.oh(g),e.na=u);else if("linkFromPortId"===c){if(d=a.object,e=i.cj(d),e!==n){var x=a.newValue;"string"===typeof x&&
(e.qh=x)}}else if("linkToPortId"===c)d=a.object,e=i.cj(d),e!==n&&(x=a.newValue,"string"===typeof x&&(e.ri=x));else if("nodeGroupKey"===c){var d=a.object,y=i.tg(d);if(y!==n){var C=a.newValue;if(C!==f){var F=i.oh(C);y.$a=F instanceof T?F:n}else y.$a=n}}else if("linkLabelKeys"===c){if(d=a.object,e=i.cj(d),e!==n){var H=a.oldValue,I=a.newValue;if(v.isArray(H))for(var M=v.Kb(H),U=0;U<M;U++){var ma=v.wb(H,U),u=i.oh(ma);u!==n&&(u.pe=n)}if(v.isArray(I)){M=v.Kb(I);for(U=0;U<M;U++)ma=v.wb(I,U),u=i.oh(ma),u!==
n&&(u.pe=e)}}}else if("nodeCategory"===c){var d=a.object,da=i.tg(d),Ba=a.newValue;da!==n&&"string"===typeof Ba&&(da.vd=Ba)}else if("linkCategory"===c){var d=a.object,qa=i.cj(d),Ba=a.newValue;qa!==n&&"string"===typeof Ba&&(qa.vd=Ba)}else if("nodeDataArray"===c){var sa=a.oldValue;Gh(i,sa);var Ga=a.newValue;Hh(i,Ga)}else"linkDataArray"===c&&(sa=a.oldValue,Gh(i,sa),Ga=a.newValue,Ih(i,Ga));else if(b===Ae)Ga=a.newValue,"nodeDataArray"===c&&v.Ua(Ga)?Jh(i,Ga):"linkDataArray"===c&&v.Ua(Ga)?Kh(i,Ga):"linkLabelKeys"===
c&&We(Ga)&&(e=i.cj(a.object),u=i.oh(Ga),e!==n&&u!==n&&(u.pe=e));else if(b===Be)sa=a.oldValue,"nodeDataArray"===c&&v.Ua(sa)?Lh(i,sa):"linkDataArray"===c&&v.Ua(sa)?Lh(i,sa):"linkLabelKeys"===c&&We(sa)&&(u=i.oh(sa),u!==n&&(u.pe=n));else{if(b===ye&&"SourceChanged"===c){var y=i.tg(a.object),mb=a.propertyName;y!==n&&"string"===typeof mb&&y.tc(mb)}}else if(b===ze){var db=a.propertyName,d=a.object;if(d===i.S){if("nodeKeyProperty"===db||"nodeCategoryProperty"===db||"linkFromKeyProperty"===db||"linkToKeyProperty"===
db||"linkFromPortIdProperty"===db||"linkToPortIdProperty"===db||"nodeIsLinkLabelProperty"===db||"linkLabelKeysProperty"===db||"nodeIsGroupProperty"===db||"nodeGroupKeyProperty"===db||"linkCategoryProperty"===db)i.ia.hb||i.Yl()}else Fh(i,d,db)}else if(b===Ae||b===Be){var vb=a.Xc===Ae,gb=vb?a.Ze:a.$e,Ra=vb?a.newValue:a.oldValue,Db=i.el.ga(a.object);if(Array.isArray(Db))for(a=0;a<Db.length;a++){var Ta=Db[a];"number"===typeof gb&&(vb?v.Ua(Ra)&&(Mh(Ta,Ra,gb),Nh(Ta,Ta)):(Ta.Id(gb),Nh(Ta,Ta)))}}else if(b===
ye){var bd=a.propertyName;if("S"!==bd[0]){if("CommittingTransaction"!==bd){if("FinishedUndo"===bd||"FinishedRedo"===bd)i.ia.Ih=h,Oh(i),i.ia.Ih=p;i.$f&&i.ya.standardMouseOver();for(var Ld=i.selection.f;Ld.next();)Ld.value.updateAdornments()}i.kr=h;i.update();Yg(i)}else"StartingFirstTransaction"===bd&&(!i.hf&&!i.$f)&&(i.kr=h,i.np&&(i.gh=h),i.update())}}finally{i.Ca=h}}};this.Xf=new ra(Object,R);this.el=new ra(Object,Array);this.Vj=p;this.uj=this.tj=this.xs=this.Hh=h;this.zs=this.ys=p;this.Es=this.Cs=
this.Dj=this.Cj=this.Bj=this.Aj=this.yj=this.xj=this.zj=this.wj=this.Bs=this.Fj=this.vj=this.Ej=h;this.lA=p;this.Ds=this.As=this.dt=this.ct=h;this.Zt=this.Yt=16;this.Xt=p;this.Pd=(new Ib(5)).freeze();this.bu=(new va(R)).freeze();this.xt=999999999;this.Im=this.Uj=this.Tj=h;this.Dm=this.Cm=p;this.fd=n;this.Fs=h;this.$f=p;this.Uc=n;this.zA=1;this.bB=(new E(NaN,NaN,NaN,NaN)).freeze();this.Ys=(new E(NaN,NaN,NaN,NaN)).freeze();this.hf=p;this.Pt=new va;Ph(this);Qh(this);this.qm=this.lx=this.cd=n;this.Zb=
new ff;this.Zb.initializeStandardTools();this.ya=this.Iu=this.Zb;this.Gd=new ya;this.S=new P;this.Sh=h;this.Eb=new Rh;this.Sh=p;a===f&&(a=document.createElement("div"));this.dA=new Sh;Th(this,a);this.Tq=this.rH=n;this.kc=p}v.J("Diagram",A);
function Qh(a){a.Ki=new ra("string",R);var b=new S,c=new xa;c.bind(new Ye("text","",Ce));b.add(c);a.rE=b;a.Ki.add("",b);b=new S;c=new xa;c.stroke="brown";c.bind(new Ye("text","",Ce));b.add(c);a.Ki.add("Comment",b);b=new S;b.Fk=p;b.Ux=p;c=new W;c.ab="Ellipse";c.fill="black";c.stroke=n;c.ta=new J(3,3);b.add(c);a.Ki.add("LinkLabel",b);a.Zk=new ra("string",T);b=new T;b.qo="GROUPPANEL";b.type=Uh;c=new xa;c.font="bold 12pt sans-serif";c.bind(new Ye("text","",Ce));b.add(c);c=new w(Vh);c.name="GROUPPANEL";
var d=new W;d.ab="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new Ug;d.padding=new Ib(5,5,5,5);c.add(d);b.add(c);a.oE=b;a.Zk.add("",b);a.Zj=new ra("string",V);b=new V;c=new W;c.gj=h;b.add(c);c=new W;c.em="Standard";c.fill="black";c.stroke=n;b.add(c);a.qE=b;a.Zj.add("",b);b=new V;c=new W;c.gj=h;c.stroke="brown";b.add(c);a.Zj.add("Comment",b);b=new w;c=new xa;c.bind(new Ye("text","",Ce));b.add(c);a.pE=b;b=new sf;b.type=Vh;c=new W;c.fill=n;c.stroke="magenta";c.Ya=2;b.add(c);
c=new Ug;c.margin=new Ib(1,1,1,1);b.add(c);a.$w=b;a.Kw=b;b=new sf;b.type=Dg;c=new W;c.gj=h;c.fill=n;c.stroke="magenta";c.Ya=0;b.add(c);a.Sw=b}
function Dh(a){var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(b);document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);document.body.removeChild(c);a.ie=d-b}
A.prototype.toString=function(a){a===f&&(a=0);var b="";this.id&&(b=this.id);this.gi&&this.gi.id&&(b=this.gi.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.Cb.f;c.next();)b+="\n  "+c.value.toString(a-1);return b};A.prototype.dumpReferences=A.prototype.bC=function(){for(var a=this.Vn;a.next();){var b=a.value;v.trace(b.toString());for(b=b.kj;b.next();)b.value.bC()}};A.prototype.checkProperties=A.prototype.jI=function(){return v.oF(this)};
A.fromDiv=function(a){var b=a;"string"===typeof a&&(b=document.getElementById(a));return b instanceof HTMLDivElement&&b.N instanceof A?b.N:n};v.a(A,"div",A.prototype.gi);
v.defineProperty(A,{gi:"div"},s("Mb"),function(a){a!==n&&v.c(a,HTMLDivElement,A,"div");if(this.Mb!==a){var b=this.Mb;if(b!==n){delete b.N;b.innerHTML="";this.ma!==n&&(this.ma.N=n,this.ma.removeEventListener("touchstart",this.TD,p),this.ma.removeEventListener("touchmove",this.SD,p),this.ma.removeEventListener("touchend",this.RD,p));b=this.pu;if(b!==n){for(var c=b.sA,d=c.length,e=0;e<d;e++)c.i[e].cancelWaitAfter();c=b.tA;d=c.length;for(e=0;e<d;e++)c.i[e].cancelWaitAfter();c=b.uA;d=c.length;for(e=0;e<
d;e++)c.i[e].cancelWaitAfter()}b.cancelWaitAfter();this.Dg=this.ma=n;window.removeEventListener("resize",this.Py,p);window.removeEventListener("mousemove",this.eo,h);window.removeEventListener("mousedown",this.co,h);window.removeEventListener("mouseup",this.ho,h);window.removeEventListener("mousewheel",this.xg,h);window.removeEventListener("DOMMouseScroll",this.xg,h);window.removeEventListener("mouseout",this.fo,h)}this.Mb=n;if(a!==n){if(b=a.N)b.gi=n;Th(this,a)}}});
function Sh(){this.UA=h;this.sH=p;this.tH=212;this.EE="63ad05bbe23a1786468a4c741b6d2e";if(this.EE===this._tk)this.yi=h;else{var a="p",b=window[v.Fa("76a715b2f73f148a")][v.Fa("72ba13b5")];if(v.Fa("77bb5bb2f32603de")===window[v.Fa("76a715b2f73f148a")][v.Fa("6aba19a7ec351488")])try{this.yi=!window[v.Fa("4da118b7ec2108")][v.Fa("5bb806bfea351a904a84515e1b6d38b6")][v.Fa("49bc19a1e6")][v.Fa("59bd04a1e6380fa5539b")][v.Fa("7bb8069ae7")]===v.Fa(v.Ox);if(this.yi===p)return;this.yi=!window[v.Fa("4da118b7ec2108")][v.Fa("5bb806bfea351a904a84515e1b6d38b6")][v.Fa("49bc19a1e6")][v.Fa("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")][v.Fa("7bb8069ae7")]===
v.Fa(v.Ox);if(this.yi===p)return}catch(c){}for(var d=b[v.Fa("76ad18b4f73e")],e=b[v.Fa("73a612b6fb191d")](v.Fa("35e7"))+2;e<d;e++)a+=b[e];d=a[v.Fa("73a612b6fb191d")](v.Fa(v.Ox));if(this.yi=!(0<d&&d<a[v.Fa("73a612b6fb191d")](v.Fa("35")))){a=document[v.Fa("69bc0fbfe6051381469f4c")];d=a.length;for(e=0;e<d;e++)if(b=a[e][v.Fa("79bb0581f63a1e97")],b!==n){for(var g=b.length,i=0;i<g;i++)if(b[i][v.Fa("69ad1ab6e0221496778e4767")]==v.Fa("02cncncn")){var j=b[i][v.Fa("69bc0fbfe6")][v.Fa("78a704b7e6242f8b53a8507f1b7b")];
if(!j)return;if(-1!==j.indexOf(v.Fa(v.pF))&&-1!==j.indexOf(v.Fa(v.qF))){this.yi=p;break}}if(this.yi===p)break}}this.uH=new D(NaN,NaN)}}Sh.prototype.Bv=function(a){a.jE();return 0<this.yi&&this!==this.UA?h:p};Sh.prototype.t=Sh.prototype.RK=function(){this.UA=n};
function Th(a,b){(b===f||b===n)&&v.g("Diagram setup requires an argument DIV.");a.Mb!==n&&v.g("Diagram has already completed setup.");"string"===typeof b?a.Mb=document.getElementById(b):b instanceof HTMLDivElement?a.Mb=b:v.g("No DIV or DIV id supplied: "+b);a.Mb===n&&v.g("Invalid DIV id; could not get element with id: "+b);a.Mb.N!==f&&v.g("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Mb,n).position&&(a.Mb.style.position="relative");a.Mb.style["-webkit-tap-highlight-color"]=
"rgba(255, 255, 255, 0)";a.Mb.innerHTML="";a.Mb.N=a;var c=document.createElement("canvas");if(!c.getContext||!c.getContext("2d"))a.Mb.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";else{c.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.zIndex="2";c.width=a.Mb.clientWidth||1;c.height=a.Mb.clientHeight||1;document.defaultView&&document.defaultView.getComputedStyle&&
(a.RA=parseInt(document.defaultView.getComputedStyle(c,n).paddingLeft,10)||0,a.SA=parseInt(document.defaultView.getComputedStyle(c,n).paddingTop,10)||0,a.PA=parseInt(document.defaultView.getComputedStyle(c,n).borderLeftWidth,10)||0,a.QA=parseInt(document.defaultView.getComputedStyle(c,n).borderTopWidth,10)||0);a.Mw=0;a.Lw=0;if(document.body){var d=document.body.parentNode;a.Mw=d.offsetTop||0;a.Lw=d.offsetLeft||0}else document.addEventListener("load",function(){if(document.body){var b=document.body.parentNode;
a.Mw=b.offsetTop||0;a.Lw=b.offsetLeft||0}},p);c.N=a;a.ma=c;a.Dg=c.getContext("2d");d=a.Dg;a.jE=d[v.Fa("69ad0287f137159745844d7e")][v.Fa("78a118b7")](d,1,0,0,1,0,0);a.iE=d[v.Fa("7eba17a4ca3b1a8346")][v.Fa("78a118b7")](d,v.Bv,4,4);a.Mb.insertBefore(c,a.Mb.firstChild);if(a.Wz!==n){var d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("div"),i=document.createElement("div");d.style.position="absolute";d.style.overflow="auto";d.style.width=a.ma.width+"px";d.style.height=
a.ma.height+"px";d.style.zIndex="1";e.style.position="absolute";e.style.overflow="auto";e.style.width=a.ma.width+"px";e.style.height=a.ma.height+"px";e.style.zIndex="1";g.style.position="absolute";g.style.width="1px";g.style.height="1px";i.style.position="absolute";i.style.width="1px";i.style.height="1px";a.Mb.appendChild(d);a.Mb.appendChild(e);d.appendChild(g);e.appendChild(i);d.onscroll=a.xA;d.onmousedown=a.yA;d.N=a;d.KA=h;e.onscroll=a.xA;e.onmousedown=a.yA;e.N=a;e.LA=h;a.kk=d;a.lk=e;a.IA=g;a.JA=
i}a.preventDefault=function(a){a.preventDefault();return p};a.eo=function(b){if(a.isEnabled){var c=a.yc;window.TouchEvent&&c.zi!==n&&c.zi instanceof window.TouchEvent?(b.preventDefault(),b.simulated=h,a.Tq=b):(a.yc=a.lc,a.lc=c,Wh(a,b,c,h),Xh(b,new D,b.target.N)||(a.ya.doMouseMove(),a.ya.isBeyondDragSize()&&Yh(a)))}};a.co=function(b){if(a.isEnabled){var c=a.yc;if(a.Tq!==n)a.Tq=b,b.preventDefault();else if(a.yc=a.lc,a.lc=c,Wh(a,b,c,h),c.Pe=b.detail,a.Zf=c.copy(),c.zi.simulated===h)b.preventDefault(),
b.simulated=h;else if(t&&t.Wy&&(window.Wy=a.Ln(c.D).i,t.trace(window.Wy)),Ff=n,a.ya.doMouseDown(),1===b.button)return b.preventDefault(),p}};a.ho=function(b){if(a.isEnabled){var c=a.yc;a.Tq!==n?(a.Tq=n,b.preventDefault()):(a.yc=a.lc,a.lc=c,Wh(a,b,c,h),c.Pe=b.detail,b.target.N&&(c.Mf=b.target.N),Zh(a,b,new D,c.Mf)||(a.ya.doMouseUp(),Hf(a),ka(a,c,b)))}};a.xg=function(b){if(a.isEnabled){var c=a.yc;a.yc=a.lc;a.lc=c;Wh(a,b,c,h);c.bubbles=h;c.Xi=b.wheelDelta!==f?b.wheelDelta:-40*b.detail;a.ya.doMouseWheel();
ka(a,c,b)}};a.fo=function(){if(a.isEnabled){var b=a.ya;b.cancelWaitAfter();b instanceof ff&&b.hideToolTip()}};a.Py=function(){var b=a.ma,c=a.Mb,d=0;a.Dm&&(d=a.ie);var e=0;a.Cm&&(e=a.ie);if(c.clientWidth!==b.width+d||c.clientHeight!==b.height+e)a.Uj=h,a.Bi=h;wf(a)};a.TD=function(b){if(a.isEnabled){a.ux=p;if(1<b.touches.length){a.ya.doCancel();if(a.$k&&v.TA)return b.preventDefault(),b.cancelBubble=h,p;Yh(a);b.cancelBubble=p;return h}var c=a.yc;a.yc=a.lc;a.lc=c;c.b=a;var d=a.Ng(b.targetTouches[0]);c.Gc=
a.wo(d);c.D=d;c.sh=0;c.button=0;c.Pe=1;c.Xi=0;c.Hd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Mf=b.target.N?b.target.N:n;c.md=n;a.Zf=c.copy();Ff=n;a.ya.doMouseDown();var e=c.copy();a.ju=setTimeout(function(){e.button=2;a.H=e;a.ux=h;a.ya.doMouseUp()},850);ka(a,c,b)}};a.SD=function(b){if(a.isEnabled){if(1<b.touches.length){a.ya.doCancel();Yh(a);if(a.$k&&v.TA)return b.preventDefault(),b.cancelBubble=h,p;b.cancelBubble=p;return h}var c=a.yc;a.yc=a.lc;a.lc=c;var d=n,e,g=n;0<b.changedTouches.length?
g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.b=a;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),i;d&&d.N?(e=d.N.Ng(g),i=d.N):(e=a.Ng(b.changedTouches[0]),i=a);c.D=e;c.Gc=i.wo(e)}else a.yc!==n?(c.D=a.yc.D,c.Gc=a.yc.Gc,d=a.yc.Mf):a.Zf!==n&&(c.D=a.Zf.D,c.Gc=a.Zf.Gc,d=a.Zf.Mf);c.sh=0;c.button=0;c.Pe=1;c.Xi=0;c.Hd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Mf=d===n?b.target.N:d.N?d.N:n;c.md=n;a.ya.isBeyondDragSize()&&Yh(a);if(!Xh(g?g:b,new D,c.Mf))a.ya.doMouseMove(),
ka(a,c,b)}};a.RD=function(b){if(a.isEnabled){Yh(a);if(a.ux)return b.preventDefault(),p;var c=a.yc;a.yc=a.lc;a.lc=c;if(!(1<b.touches.length)){var d=n,e,g=n;0<b.changedTouches.length?g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);c.b=a;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),i;d&&d.N?(e=d.N.Ng(g),i=d.N):(e=a.Ng(b.changedTouches[0]),i=a);c.D=e;c.Gc=i.wo(e)}else a.yc!==n?(c.D=a.yc.D,c.Gc=a.yc.Gc,d=a.yc.Mf):a.Zf!==n&&(c.D=a.Zf.D,c.Gc=a.Zf.Gc,d=a.Zf.Mf);c.sh=0;
c.button=0;c.Pe=1;c.Xi=0;c.Hd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Mf=d===n?b.target.N:d.N?d.N:n;c.md=n;if(!Zh(a,g?g:b,new D,c.Mf))a.ya.doMouseUp(),ka(a,c,b)}}};c.addEventListener("touchstart",a.TD,p);c.addEventListener("touchmove",a.SD,p);c.addEventListener("touchend",a.RD,p);c.addEventListener("gesturestart",function(){a.$k!==p&&(a.zA=a.scale,a.ya.doCancel())},p);c.addEventListener("gesturechange",function(b){if(a.$k!==p){var c=a.Ng(b),d=a.Nk;a.Nk=c;a.scale=a.zA*b.scale;a.Nk=d}},p);
c.addEventListener("mousemove",a.eo,p);c.addEventListener("mousedown",a.co,p);c.addEventListener("mouseup",a.ho,p);c.addEventListener("mousewheel",a.xg,p);c.addEventListener("DOMMouseScroll",a.xg,p);c.addEventListener("mouseout",a.fo,p);c.addEventListener("keydown",a.rG,p);c.addEventListener("keyup",a.sG,p);c.addEventListener("selectstart",function(a){a.preventDefault();return p},p);c.addEventListener("contextmenu",function(a){a.preventDefault();return p},p);window.addEventListener("resize",a.Py,
p);c.tabIndex=0;$h(a)}}A.prototype.focus=A.prototype.focus=function(){this.ma.focus()};function $h(a,b){b===f&&(b=a.Dg);b.bw="";b.hm="";b.Pk=""}function Ph(a){var b=new cf;b.name="Background";a.qr(b);b=new cf;b.name="";a.qr(b);b=new cf;b.name="Foreground";a.qr(b);b=new cf;b.name="Adornment";b.Zc=h;a.qr(b);b=new cf;b.name="Tool";b.Zc=h;a.qr(b);b=new cf;b.name="Grid";b.Td=p;b.Zc=h;a.OE(b,a.bj("Background"))}
function gi(a){a.cd=new w(hi);a.cd.name="GRID";var b=new W;b.ab="LineH";b.stroke="lightgray";b.Ya=0.5;b.ki=1;a.cd.add(b);b=new W;b.ab="LineH";b.stroke="gray";b.Ya=0.5;b.ki=5;a.cd.add(b);b=new W;b.ab="LineH";b.stroke="gray";b.Ya=1;b.ki=10;a.cd.add(b);b=new W;b.ab="LineV";b.stroke="lightgray";b.Ya=0.5;b.ki=1;a.cd.add(b);b=new W;b.ab="LineV";b.stroke="gray";b.Ya=0.5;b.ki=5;a.cd.add(b);b=new W;b.ab="LineV";b.stroke="gray";b.Ya=1;b.ki=10;a.cd.add(b);b=new R;b.add(a.cd);b.Kd="Grid";b.$u=p;b.dD=p;b.Zr="GRID";
a.add(b);a.nb.remove(b);a.cd.visible=p}
A.prototype.xA=function(){var a=this.N;if(a.HA){a.Xt=h;var b=a.oc,c=a.ub,d=b.width,e=c.width,g=b.height,i=c.height,j=b.right,k=c.right,l=b.bottom,m=c.bottom,q=b.x,r=c.x,b=b.y,c=c.y;if(e<d||i<g)this.KA&&a.Ne?a.position=new D(this.scrollLeft+q,a.position.y):this.LA&&a.Oe&&(a.position=new D(a.position.x,this.scrollTop+b)),ii(a),Ch(a),a.Xt=p,a.Uj=p;else{var u=a.scale;this.KA&&a.Ne&&(q<r&&(a.position=new D(this.scrollLeft+q,a.position.y)),j>k&&(a.position=new D(-(a.kk.ie-a.ma.width)+this.scrollLeft-a.ma.width/
u+a.oc.right,a.position.y)));this.LA&&a.Oe&&(b<c&&(a.position=new D(a.position.x,this.scrollTop+b)),l>m&&(a.position=new D(a.position.x,-(a.lk.scrollHeight-a.ma.height)+this.scrollTop-a.ma.height/u+a.oc.bottom)));ii(a);a.Xt=p;a.Uj=p;Ch(a);b=a.oc;c=a.ub;j=b.right;k=c.right;l=b.bottom;m=c.bottom;q=b.x;r=c.x;b=b.y;c=c.y;e>=d&&(q>=r&&j<=k)&&(a.IA.style.width="1px");i>=g&&(b>=c&&l<=m)&&(a.JA.style.height="1px");ji(a)}}};A.prototype.yA=function(){this.N.HA=h};
A.prototype.computeBounds=A.prototype.Qe=function(){0<this.Og.count&&Oh(this);if(this.Lr.ca()){var a=this.Lr.copy();a.rr(this.padding);return a}for(var b=h,c=this.Cb,d=c.length,e=0;e<d;e++){var g=c.i[e];if(g.visible&&!g.Zc)for(var g=g.nb,i=g.length,j=0;j<i;j++){var k=g.i[j];k.$u&&k.ib()&&(k=k.pa,k.ca()&&(b?(b=p,a=k.copy()):a.rj(k)))}}b&&(a=new E(0,0,0,0));a.rr(this.padding);return a};
function ki(a,b){if((b||a.$f)&&!a.kc&&a.oc.ca()){a.kc=h;var c=a.Rk;b&&a.Rj!==Eh&&(c=a.Rj);var d=c!==Eh?li(a,c):a.scale,c=a.ub.copy(),e=a.ma.width/d,g=a.ma.height/d;a.position.wa();var i=a.Vk;b&&Wb(a.Fm)&&(i=a.Fm);mi(a,a.ob,a.oc,e,g,i);a.position.freeze();a.scale=d;a.kc=p;d=a.ub;d.ji(c)||a.is(c,d)}}
function li(a,b){var c=a.oc;if(!c.ca())return 1;var d=c.width,c=c.height,e=a.ma.width,g=a.ma.height,i=e/d,j=g/c,k=1;return b===ni?(k=Math.min(j,i),1<k&&(k=1),k):b===oi?(k=j>i?(g-a.ie)/c:(e-a.ie)/d,1<k&&(k=1),k):a.scale}A.prototype.zoomToFit=A.prototype.YK=function(){this.scale=li(this,ni);wf(this)};
A.prototype.alignDocument=A.prototype.EH=function(a,b){this.Tj&&pi(this,this.Qe());var c=this.oc,d=this.ub,e=this.kc;this.kc=h;this.position=new D(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY));this.kc=e;Ch(this);this.hf||wf(this)};
function mi(a,b,c,d,e,g){Wb(g)&&(d>c.width&&(b.x=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),e>c.height&&(b.y=c.y+(g.y*c.height+g.offsetY)-(g.y*e-g.offsetY)));d<c.width?(g=b.x+d/2,g=Math.min(g,c.right-d/2),g=Math.max(g,c.left+d/2),b.x=g-d/2):b.x>c.left?b.x=c.left:b.x<c.right-d&&(b.x=c.right-d);e<c.height?(d=b.y+e/2,d=Math.min(d,c.bottom-e/2),d=Math.max(d,c.top+e/2),b.y=d-e/2):b.y>c.top?b.y=c.top:b.y<c.bottom-e&&(b.y=c.bottom-e);isFinite(b.x)||(b.x=-a.padding.left);isFinite(b.y)||(b.y=-a.padding.top)}
A.prototype.findPartAt=A.prototype.Ir=function(a,b){var c=b?cg(this,a,function(a){return a.ba},function(a){return a.Wx()}):this.Yc(a,function(a){return a.ba});return c instanceof R?c:n};A.prototype.findObjectAt=A.prototype.Yc=function(a,b,c){b===f&&(b=n);c===f&&(c=n);var d=this.Cb.Un;for(Oh(this);d.next();){var e=d.value;if(e.visible&&(e=e.Yc(a,b,c),e!==n))return e}return n};
function cg(a,b,c,d){c===f&&(c=n);d===f&&(d=n);var e=a.Cb.Un;for(Oh(a);e.next();)if(a=e.value,a.visible&&!a.Zc&&(a=a.Yc(b,c,d),a!==n))return a;return n}A.prototype.findObjectsAt=A.prototype.Ln=function(a,b,c,d){b===f&&(b=n);c===f&&(c=n);if(!(d instanceof z)||!(d instanceof va))d=new z(Q);Oh(this);for(var e=this.Cb.Un;e.next();){var g=e.value;g.visible&&g.Ln(a,b,c,d)}return d};
A.prototype.findObjectsIn=A.prototype.Kl=function(a,b,c,d,e){b===f&&(b=n);c===f&&(c=n);d===f&&(d=p);if(!(e instanceof z)||!(e instanceof va))e=new z(Q);Oh(this);for(var g=this.Cb.Un;g.next();){var i=g.value;i.visible&&i.Kl(a,b,c,d,e)}return e};A.prototype.findObjectsNear=A.prototype.Mn=function(a,b,c,d,e){c===f&&(c=n);d===f&&(d=n);!(e instanceof z)&&!(e instanceof va)&&(e=new z(Q));Oh(this);for(var g=this.Cb.Un;g.next();){var i=g.value;i.visible&&i.Mn(a,b,c,d,e)}return e};
function Yh(a){-1!==a.ju&&(clearTimeout(a.ju),a.ju=-1)}function Wh(a,b,c,d){c.b=a;d?(d=a.Ng(b),c.Gc=a.wo(d),c.D=d):(c.Gc=a.lc.Gc,c.D=a.lc.D);a=0;b.ctrlKey&&(a+=1);b.altKey&&(a+=2);b.shiftKey&&(a+=4);c.sh=a;c.button=b.button;c.Pe=1;c.Xi=0;c.Hd=p;c.bubbles=p;c.event=b;c.timestamp=Date.now();c.Mf=b.target.N?b.target.N:n;c.md=n}
function ka(a,b,c){if(b.bubbles)return t&&(t.trace&&t.sC)&&t.trace("NOT handled "+c.type+" "+b.toString()),h;t&&(t.trace&&t.sC)&&t.trace("handled "+c.type+" "+a.ya.name+" "+b.toString());c.stopPropagation!==f&&c.stopPropagation();c.preventDefault!==f&&"touchstart"!==c.type&&c.preventDefault();c.cancelBubble=h;return p}
A.prototype.rG=function(a){if(this.N.isEnabled){var b=this.N.lc;Wh(this.N,a,b,p);b.key=String.fromCharCode(a.which);switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:b.key="Add";break;case 189:b.key="Subtract";break;case 107:b.key=
"Add";break;case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.N.ya.doKeyDown();return(187===a.which||189===a.which||48===a.which||107===a.which||109===a.which)&&a.ctrlKey===h?(a.cancelBubble=h,a.preventDefault!==f?a.preventDefault():a.returnValue=p,Event.stop&&(v.g("Event.stop can fire for this browser"),Event.stop(a)),a.stopPropagation!==f&&a.stopPropagation(),p):ka(this.N,b,a)}};
A.prototype.sG=function(a){if(this.N.isEnabled){var b=this.N.lc;Wh(this.N,a,b,p);b.key=String.fromCharCode(a.which);switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del"}this.N.ya.doKeyUp();return ka(this.N,b,a)}};
A.prototype.Ng=function(a){if(this.dw){var b=this.ma,c=0,d=0;if(b.offsetParent!==f){do c+=b.offsetLeft+b.clientLeft,d+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c+=this.RA+this.PA+this.Lw;d+=this.SA+this.QA+this.Mw;b=a.pageX-c;a=a.pageY-d;this.ud!==n&&(a=new D(b,a),pb(a,this.ud),b=a.x,a=a.y);return new D(b,a)}b=this.ma;c=b.getBoundingClientRect();d=a.clientX-c.left*(b.width/c.width);a=a.clientY-c.top*(b.height/c.height);this.ud!==n&&(a=new D(d,a),pb(a,this.ud),d=a.x,a=a.y);return new D(d,a)};
v.a(A,"alternateCoordinates",A.prototype.ZE);v.defineProperty(A,{ZE:n},s("dw"),function(a){v.e(a,"boolean",A,"alternateCoordinates");this.dw=a});A.prototype.invalidateDocumentBounds=A.prototype.li=function(){if(!this.hf&&(qi(this),this.Fx===p)){this.Fx=h;var a=this;requestAnimationFrame(function(){a.ma===n||a.gh===h||(Yg(a),a.Fx=p)})}};function Yg(a){a.hf||Oh(a);a.Tj&&pi(a,a.Qe());ki(a);!a.kc&&a.Uj&&ri(a);for(a=a.Pt.f;a.next();)Yg(a.value)}
A.prototype.redraw=A.prototype.qK=function(){!this.kc&&!this.hf&&(Ch(this),ji(this),ii(this),qi(this),this.update())};A.prototype.isUpdateRequested=A.prototype.KJ=s("gh");function wf(a){!a.kc&&!a.hf&&a.gh===p&&(a.gh=h,requestAnimationFrame(function(){a.gh&&(a.update(),a.gh=p)}))}
A.prototype.update=A.prototype.update=function(){if(!(this.Mb===n||this.hf))if(!this.np||this.gh){this.np&&(this.np=p);this.hf=h;this.Py();this.gh=p;Oh(this);var a=p;if(!this.$f||this.kr&&this.Fs)si(this),this.kr=p,a=h;Oh(this);this.oc.ca()||pi(this,this.Qe());a&&(this.$f||(ti(this),ui(this)),this.la("LayoutCompleted"));Oh(this);!this.kc&&this.Uj&&!ri(this)&&(ri(this),a&&(this.$f||(ti(this),ui(this)),this.la("LayoutCompleted")));a&&!this.$f&&(this.$f=h);this.sg();this.hf=p}};
function ti(a){a.Rj!==Eh?a.scale=li(a,a.Rj):a.Rk!==Eh&&(a.scale=li(a,a.Rk));var b=a.position;if(b.ca())a.ob.z(b)?ki(a,h):a.position=b;else{b=new D;b.ro(a.oc,a.xC);var c=a.ub,c=new E(0,0,c.width,c.height),d=new D;d.ro(c,a.yC);c=a.XD(d);a.position=new D(b.x-c.x,b.y-c.y);ki(a,h)}a.la("InitialLayoutCompleted");a=a.ia;a!==n&&a.clear()}
function Oh(a){for(var b=0;23>b;b++){var c=a.Og.f;if(c===n||0===a.Og.count)break;a.Og=new va(Q);for(var d=a,e=a.Og;c.next();){var g=c.value;g instanceof T&&vi(d,g)}for(c.reset();c.next();)d=c.value,d.Zd()&&!(d instanceof T)&&(d.zk()?(xh(d,Infinity,Infinity),d.Bc()):e.add(d));for(c.reset();c.next();)d=c.value,d instanceof V&&(d.zk()?(xh(d,Infinity,Infinity),d.Bc(),wi(d)):e.add(d));for(c.reset();c.next();)d=c.value,d instanceof sf&&(d.zk()?(xh(d,Infinity,Infinity),d.Bc()):e.add(d))}}
function vi(a,b){for(var c=b.sc,d=[];c.next();){var e=c.value;e instanceof T?(e.ec||e.Kc||e.Ci)&&vi(a,e):e instanceof V?d.push(e):(xh(e,Infinity,Infinity),e.Bc())}c=d.length;for(e=0;e<c;e++){var g=d[e];xh(g,Infinity,Infinity);g.Bc()}xh(b,Infinity,Infinity);b.Bc()}
A.prototype.sg=function(a){this.Mb===n&&v.g("No div specified");this.ma===n&&v.g("No canvas specified");a||(a=this.Dg);var b=a!==this.Dg;if(b)$h(this);else if(!this.Bi)return;if(0<this.vm.count){for(var c=this.vm.f;c.next();)Eg(c.key,c.value);this.vm.clear()}a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.ma.width,this.ma.height);c=this.ud;c.reset();1!==this.Jb&&c.scale(this.Jb);var d=this.ob;(0!==d.x||0!==d.y)&&c.translate(-d.x,-d.y);a.setTransform(c.m11,c.m12,c.m21,c.m22,c.Na,c.Oa);t&&t.vr&&(a.fillStyle=
"red",a.fillRect(0,0,8,8),a.lineWidth=8,a.strokeStyle="rgba(255,255,0,.6)",c=this.ub,a.strokeRect(c.x,c.y,c.width,c.height),a.fillStyle="rgba(0,255,0,.2)",a.fillRect(this.oc.x,this.oc.y,this.oc.width,this.oc.height));c=this.Cb.length;for(d=0;d<c;d++)this.Cb.i[d].sg(a,this);t&&(t.aC||t.vr)&&t.ZB(a,this);this.dA?this.dA.Bv(this)&&this.iE():this.Ng=aa();b?$h(this):this.Bi=this.Im=p};function qi(a){if(a.Tj===p||a.gh===p)a.Tj=h,wf(a)}
function Ch(a,b){if(a.Bi===p&&(b===f||a.ub.Xe(b)))a.Bi=h,wf(a);for(var c=a.Pt.f;c.next();)Ch(c.value)}function ji(a){a.Uj===p&&(a.Uj=h)}function ii(a){a.Im===p&&(a.Im=h)}
function ri(a){var b=a.ma;if(b!==n){var c=a.Mb,d=b.width,e=b.height,g=a.bB.copy(),i=p,j=0,k=0;a.Dm&&(j=a.ie);a.Cm&&(k=a.ie);if(c.clientWidth!==b.width+j||c.clientHeight!==b.height+k)a.Dm=p,a.Cm=p,b.width=c.clientWidth,b.height=c.clientHeight,i=h;a.Uj=p;if(!a.Wz||a.Xt)(d!==b.width||e!==b.height)&&a.update();else{var l=a.ub,m=a.oc,q=m.width,c=m.height,r=l.width,j=l.height,u=m.x,x=l.x,y=m.right,C=l.right,k=m.y,F=l.y,m=m.bottom,l=l.bottom,H="1px";a.tC&&a.Ne&&(r+1<q?(H=q-r+b.width+"px",a.kk.scrollLeft=
a.position.x-u):u+1<x?(H=x-u+b.width+"px",a.kk.scrollLeft=a.kk.scrollWidth-a.kk.clientWidth):y>C+1&&(H=y-C+b.width+"px",a.kk.scrollLeft=a.position.x));q="1px"!==H;q!==a.Cm&&(i=a.ie/a.scale,"1px"===H?(b.height+=a.ie,j+=i,l+=i):(b.height-=a.ie,j-=i,l-=i),i=h);a.Cm=q;a.IA.style.width=H;q="1px";a.uC&&a.Oe&&(j+1<c?(q=c-j+b.height+"px",a.lk.scrollTop=a.position.y-k):k+1<F?(q=F-k+b.height+"px",a.lk.scrollTop=a.lk.scrollHeight-a.lk.clientHeight):m>l+1&&(q=m-l+b.height+"px",a.lk.scrollTop=a.position.y));c=
"1px"!==q;c!==a.Dm&&(b.width="1px"===q?b.width+a.ie:b.width-a.ie,i=h);a.Dm=c;a.JA.style.height=q;i&&$h(a);c=b.width;j=b.height;a.lk.style.height=j+"px";a.lk.style.width=a.Dm?c+a.ie+"px":c+"px";a.kk.style.width=c+"px";a.kk.style.height=a.Cm?j+a.ie+"px":j+"px";a.HA=p;return d!==b.width||e!==b.height?(l=a.ub,a.is(g,l,i?h:f),a.update(),p):h}}}
function xi(a,b){for(var c=a.Cb,d=c.count,e=0;e<d;e++)c.R(e).name===b&&v.g("Cannot add layer with the name '"+b+"', a layer of the same name is already present in this diagram.")}v.a(A,"addsToTemporaryLayer",A.prototype.tr);v.defineProperty(A,{tr:n},s("Hz"),function(a){v.e(a,"boolean",A,"addsToTemporaryLayer");this.Hz=a});
A.prototype.add=A.prototype.add=function(a){v.c(a,R,A,"add:part");var b=a.b;if(b!==this){b!==n&&v.g("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());var c=this.tr?"Tool":a.Kd,b=this.bj(c);b===n&&(b=this.bj(""));b===n&&v.g('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.za!==b&&(c=a.b===this?b.yk(99999999,a,h):b.yk(99999999,a),0<=c&&this.be(Ae,"parts",b,n,a,n,c),this.li(),a.v(yi),c=a.Xr,c!==n&&c(a,n,b))}};
A.prototype.yk=function(a){if(a instanceof S){if(this.Kt.add(a),a instanceof T){var b=a.$a;b===n?this.tl.add(a):b.ll.add(a);b=a.Eb;b!==n&&(b.b=this)}}else a instanceof V?this.qt.add(a):a instanceof sf||this.nb.add(a);if(b=a.data){a instanceof sf||this.Xf.add(b,a);var c=this;zi(a,a,function(a){Ai(c,a)})}(a.Kc===h||a.Ci===h)&&this.Og.add(a);Bi(a,h);a.ib()&&(Ch(this),qi(this))};
A.prototype.Id=function(a){if(a instanceof S){if(this.Kt.remove(a),a instanceof T){var b=a.$a;b===n?this.tl.remove(a):b.ll.remove(a);b=a.Eb;b!==n&&(b.b=n)}}else a instanceof V?this.qt.remove(a):a instanceof sf||this.nb.remove(a);if(b=a.data){a instanceof sf||this.Xf.remove(b);var c=this;zi(a,a,function(a){Ci(c,a)})}this.Og.remove(a);a.ib()&&(Ch(this),qi(this))};
A.prototype.remove=A.prototype.remove=function(a){v.c(a,R,A,"remove:part");var b=a.za;if(b!==n&&b.b===this){a.La=p;a.v(Di);a.Gl();var c=b.Id(-1,a);0<=c&&this.be(Be,"parts",b,a,n,c,n);c=a.Xr;c!==n&&c(a,b,n);this.li();this.ya.standardMouseOver()}};A.prototype.addLayer=A.prototype.qr=function(a){v.c(a,cf,A,"addLayer:layer");xi(this,a.name);a.Jf(this);var b=this.Cb,c=b.count-1;if(!a.Zc)for(;0<=c&&b.R(c).Zc;)c--;b.rc(c+1,a);qi(this)};
A.prototype.addLayerBefore=A.prototype.OE=function(a,b){v.c(a,cf,A,"addLayer:layer");xi(this,a.name);a.Jf(this);for(var c=this.Cb.count,d=0;d<c;d++)if(this.Cb.R(d)===b){this.Cb.rc(d,a);break}qi(this)};A.prototype.addLayerAfter=A.prototype.AH=function(a,b){v.c(a,cf,A,"addLayer:layer");xi(this,a.name);a.Jf(this);for(var c=this.Cb.count,d=0;d<c;d++)if(this.Cb.R(d)===b){this.Cb.rc(d+1,a);break}qi(this)};
A.prototype.removeLayer=A.prototype.uK=function(a){if(""!==a.name&&this.Cb.remove(a)){for(var b=a.nb.copy().f;b.next();){var c=b.value,d=c.Kd;c.Kd="";d!==a.name&&(c.Kd=d)}qi(this)}};A.prototype.findLayer=A.prototype.bj=function(a){for(var b=this.Vn;b.next();){var c=b.value;if(c.name===a)return c}return n};A.prototype.addChangedListener=A.prototype.Nx=function(a){v.e(a,"function",A,"addChangedListener:listener");this.wi===n&&(this.wi=new z("function"));this.wi.add(a)};
A.prototype.removeChangedListener=A.prototype.bz=function(a){v.e(a,"function",A,"removeChangedListener:listener");this.wi!==n&&(this.wi.remove(a),0===this.wi.count&&(this.wi=n))};A.prototype.Au=function(a){this.tb||this.ia.rC(a);if(this.wi!==n)for(var b=this.wi.f;b.next();){var c=b.value;c(a)}};A.prototype.raiseChangedEvent=A.prototype.be=function(a,b,c,d,e,g,i){g===f&&(g=n);i===f&&(i=n);var j=new xe;j.b=this;j.Xc=a;j.propertyName=b;j.object=c;j.oldValue=d;j.$e=g;j.newValue=e;j.Ze=i;this.Au(j)};
A.prototype.raiseChanged=A.prototype.d=function(a,b,c,d,e){this.be(ze,a,this,b,c,d,e)};v.m(A,{ia:"undoManager"},function(){return this.mf.ia});v.a(A,"skipsUndoManager",A.prototype.tb);v.defineProperty(A,{tb:"skipsUndoManager"},s("Sh"),function(a){v.e(a,"boolean",A,"skipsUndoManager");this.Sh=a;this.mf.Sh=a});
A.prototype.changeState=A.prototype.xr=function(a,b){if(a!==n&&a.b===this){var c=this.bl;try{this.bl=h;var d=a.Xc;if(d===ze){var e=a.object,g=a.propertyName,i=a.ga(b);v.jb(e,g,i);if(e instanceof Q){var j=e.ba;j!==n&&j.jh()}}else if(d===Ae){var k=a.object,l=a.Ze,e=a.newValue;if(k instanceof w){if("number"===typeof l&&e instanceof Q){var m=k;b?m.Id(l):m.rc(l,e);j=k.ba;j!==n&&j.jh()}}else if(k instanceof cf){var q=a.$e===h;if("number"===typeof l&&e instanceof R){var r=k;b?(e.jh(),r.Id(l,e,q)):r.yk(l,
e,q)}}else v.g("unknown ChangedEvent.Insert object: "+a.toString())}else d===Be?(k=a.object,l=a.$e,e=a.oldValue,k instanceof w?"number"===typeof l&&e instanceof Q&&(m=k,b?m.rc(l,e):m.Id(l)):k instanceof cf?(q=a.Ze===h,"number"===typeof l&&e instanceof R&&(r=k,b?r.yk(l,e,q):(e.jh(),r.Id(l,e,q)))):v.g("unknown ChangedEvent.Remove object: "+a.toString())):d!==ye&&v.g("unknown ChangedEvent: "+a.toString())}finally{this.bl=c}}};A.prototype.startTransaction=A.prototype.Sb=function(a){return this.ia.Sb(a)};
A.prototype.commitTransaction=A.prototype.Wd=function(a){return this.ia.Wd(a)};A.prototype.rollbackTransaction=A.prototype.ks=function(){return this.ia.ks()};A.prototype.updateAllTargetBindings=A.prototype.VK=function(){for(var a=this.kj;a.next();)a.value.tc();for(a=this.Ck;a.next();)a.value.tc();for(a=this.links;a.next();)a.value.tc()};
A.prototype.is=function(a,b,c){if(!this.kc){ii(this);Ch(this);ji(this);qi(this);var d=this.Eb;d!==n&&(d.cv&&!c&&(a.width!==b.width||a.height!==b.height))&&d.v();ki(this);this.la("ViewportBoundsChanged",c?{}:n,a);ui(this)}};
function ui(a){var b=a.cd;if(b!==n&&b.visible){for(var c,d=c=1,e=b.oa.length,g=0;g<e;g++){var i=b.oa.i[g],j=i.ki;2>j||("LineV"===i.ab?d=d*j/xd(d,j):c=c*j/xd(c,j))}e=b.Rr;c=new J(c*e.width,d*e.height);a=a.ub;a.ca()&&(b.width=a.width+2*c.width,b.height=a.height+2*c.height,a=wd(a.x,a.y,0,0,c.width,c.height),b.ba.location=new D(a.x-c.width,a.y-c.height))}}A.prototype.clearSelection=A.prototype.$x=function(){this.la("ChangingSelection");vf(this);this.la("ChangedSelection")};
function vf(a){a=a.selection;if(0<a.count){for(var b=a.Of(),c=b.length,d=0;d<c;d++)b[d].La=p;a.wa();a.clear();a.freeze()}}A.prototype.select=A.prototype.select=function(a){if(a!==n&&a.za.b===this&&(!a.La||1<this.selection.count))this.la("ChangingSelection"),vf(this),a.La=h,this.la("ChangedSelection")};A.prototype.selectCollection=A.prototype.fz=function(a){this.la("ChangingSelection");vf(this);for(a=a.f;a.next();)a.value.La=h;this.la("ChangedSelection")};
A.prototype.scroll=function(a,b,c){c===f&&(c=1);var d="up"===b||"down"===b,e;"pixel"===a?e=c:"line"===a?e=c*(d?this.ms:this.ls):"page"===a?0!==window.innerHeight&&(e=Math.max(window.innerHeight-(d?this.ms:this.ls),0),e*=c):v.g("scrolling unit must be 'pixel', 'line', or 'page', not: "+a);e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:v.g("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+
b);this.position=c};A.prototype.scrollToRect=A.prototype.AK=function(a){var b=this.ub;b.Cl(a)||(a=a.Bu,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};A.prototype.centerRect=A.prototype.iI=function(a){var b=this.ub,a=a.Bu;a.x-=b.width/2;a.y-=b.height/2;this.position=a};A.prototype.transformDocToView=A.prototype.wo=function(a){var b=this.ud;b.reset();1!==this.Jb&&b.scale(this.Jb);var c=this.ob;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return a.copy().transform(this.ud)};
A.prototype.transformViewToDoc=A.prototype.XD=function(a){var b=this.ud;b.reset();1!==this.Jb&&b.scale(this.Jb);var c=this.ob;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return pb(a.copy(),this.ud)};var Eh;A.None=Eh=v.l(A,"None",0);var ni;A.Uniform=ni=v.l(A,"Uniform",1);var oi;A.UniformToFill=oi=v.l(A,"UniformToFill",2);var jg;A.CycleAll=jg=v.l(A,"CycleAll",10);var ug;A.CycleNotDirected=ug=v.l(A,"CycleNotDirected",11);var wg;
A.CycleNotDirectedFast=wg=v.l(A,"CycleNotDirectedFast",12);var xg;A.CycleNotUndirected=xg=v.l(A,"CycleNotUndirected",13);var kg;A.CycleDestinationTree=kg=v.l(A,"CycleDestinationTree",14);var tg;A.CycleSourceTree=tg=v.l(A,"CycleSourceTree",15);v.a(A,"validCycle",A.prototype.cE);v.defineProperty(A,{cE:"validCycle"},s("qu"),function(a){var b=this.qu;b!==a&&(v.Za(a,A,A,"validCycle"),this.qu=a,this.d("validCycle",b,a))});v.m(A,{Vn:"layers"},function(){return this.Cb.f});v.a(A,"isModelReadOnly",A.prototype.Yd);
v.defineProperty(A,{Yd:"isModelReadOnly"},function(){var a=this.mf;return a===n?p:a.Va},function(a){var b=this.mf;b!==n&&(b.Va=a)});v.a(A,"isReadOnly",A.prototype.Va);v.defineProperty(A,{Va:"isReadOnly"},s("Vj"),function(a){var b=this.Vj;b!==a&&(v.e(a,"boolean",A,"isReadOnly"),this.Vj=a,this.d("isReadOnly",b,a))});v.a(A,"isEnabled",A.prototype.isEnabled);
v.defineProperty(A,{isEnabled:"isEnabled"},s("Hh"),function(a){var b=this.Hh;b!==a&&(v.e(a,"boolean",A,"isEnabled"),this.Hh=a,this.d("isEnabled",b,a))});v.a(A,"allowClipboard",A.prototype.xu);v.defineProperty(A,{xu:"allowClipboard"},s("xs"),function(a){var b=this.xs;b!==a&&(v.e(a,"boolean",A,"allowClipboard"),this.xs=a,this.d("allowClipboard",b,a))});v.a(A,"allowCopy",A.prototype.Yh);
v.defineProperty(A,{Yh:"allowCopy"},s("tj"),function(a){var b=this.tj;b!==a&&(v.e(a,"boolean",A,"allowCopy"),this.tj=a,this.d("allowCopy",b,a))});v.a(A,"allowDelete",A.prototype.pk);v.defineProperty(A,{pk:"allowDelete"},s("uj"),function(a){var b=this.uj;b!==a&&(v.e(a,"boolean",A,"allowDelete"),this.uj=a,this.d("allowDelete",b,a))});v.a(A,"allowDragOut",A.prototype.yu);
v.defineProperty(A,{yu:"allowDragOut"},s("ys"),function(a){var b=this.ys;b!==a&&(v.e(a,"boolean",A,"allowDragOut"),this.ys=a,this.d("allowDragOut",b,a))});v.a(A,"allowDrop",A.prototype.kB);v.defineProperty(A,{kB:"allowDrop"},s("zs"),function(a){var b=this.zs;b!==a&&(v.e(a,"boolean",A,"allowDrop"),this.zs=a,this.d("allowDrop",b,a))});v.a(A,"allowTextEdit",A.prototype.zn);
v.defineProperty(A,{zn:"allowTextEdit"},s("Ej"),function(a){var b=this.Ej;b!==a&&(v.e(a,"boolean",A,"allowTextEdit"),this.Ej=a,this.d("allowTextEdit",b,a))});v.a(A,"allowGroup",A.prototype.tn);v.defineProperty(A,{tn:"allowGroup"},s("vj"),function(a){var b=this.vj;b!==a&&(v.e(a,"boolean",A,"allowGroup"),this.vj=a,this.d("allowGroup",b,a))});v.a(A,"allowUngroup",A.prototype.An);
v.defineProperty(A,{An:"allowUngroup"},s("Fj"),function(a){var b=this.Fj;b!==a&&(v.e(a,"boolean",A,"allowUngroup"),this.Fj=a,this.d("allowUngroup",b,a))});v.a(A,"allowInsert",A.prototype.un);v.defineProperty(A,{un:"allowInsert"},s("Bs"),function(a){var b=this.Bs;b!==a&&(v.e(a,"boolean",A,"allowInsert"),this.Bs=a,this.d("allowInsert",b,a))});v.a(A,"allowLink",A.prototype.xl);
v.defineProperty(A,{xl:"allowLink"},s("wj"),function(a){var b=this.wj;b!==a&&(v.e(a,"boolean",A,"allowLink"),this.wj=a,this.d("allowLink",b,a))});v.a(A,"allowRelink",A.prototype.Ri);v.defineProperty(A,{Ri:"allowRelink"},s("zj"),function(a){var b=this.zj;b!==a&&(v.e(a,"boolean",A,"allowRelink"),this.zj=a,this.d("allowRelink",b,a))});v.a(A,"allowMove",A.prototype.qk);
v.defineProperty(A,{qk:"allowMove"},s("xj"),function(a){var b=this.xj;b!==a&&(v.e(a,"boolean",A,"allowMove"),this.xj=a,this.d("allowMove",b,a))});v.a(A,"allowPrint",A.prototype.vn);v.defineProperty(A,{vn:"allowPrint"},s("yj"),function(a){var b=this.yj;b!==a&&(v.e(a,"boolean",A,"allowPrint"),this.yj=a,this.d("allowPrint",b,a))});v.a(A,"allowReshape",A.prototype.wn);
v.defineProperty(A,{wn:"allowReshape"},s("Aj"),function(a){var b=this.Aj;b!==a&&(v.e(a,"boolean",A,"allowReshape"),this.Aj=a,this.d("allowReshape",b,a))});v.a(A,"allowResize",A.prototype.xn);v.defineProperty(A,{xn:"allowResize"},s("Bj"),function(a){var b=this.Bj;b!==a&&(v.e(a,"boolean",A,"allowResize"),this.Bj=a,this.d("allowResize",b,a))});v.a(A,"allowRotate",A.prototype.yn);
v.defineProperty(A,{yn:"allowRotate"},s("Cj"),function(a){var b=this.Cj;b!==a&&(v.e(a,"boolean",A,"allowRotate"),this.Cj=a,this.d("allowRotate",b,a))});v.a(A,"allowSelect",A.prototype.Td);v.defineProperty(A,{Td:"allowSelect"},s("Dj"),function(a){var b=this.Dj;b!==a&&(v.e(a,"boolean",A,"allowSelect"),this.Dj=a,this.d("allowSelect",b,a))});v.a(A,"allowUndo",A.prototype.Px);
v.defineProperty(A,{Px:"allowUndo"},s("Cs"),function(a){var b=this.Cs;b!==a&&(v.e(a,"boolean",A,"allowUndo"),this.Cs=a,this.d("allowUndo",b,a))});v.a(A,"allowZoom",A.prototype.ur);v.defineProperty(A,{ur:"allowZoom"},s("Es"),function(a){var b=this.Es;b!==a&&(v.e(a,"boolean",A,"allowZoom"),this.Es=a,this.d("allowZoom",b,a))});v.a(A,"hasVerticalScrollbar",A.prototype.uC);
v.defineProperty(A,{uC:"hasVerticalScrollbar"},s("dt"),function(a){var b=this.dt;b!==a&&(v.e(a,"boolean",A,"hasVerticalScrollbar"),this.dt=a,this.d("hasVerticalScrollbar",b,a),ki(this))});v.a(A,"hasHorizontalScrollbar",A.prototype.tC);v.defineProperty(A,{tC:"hasHorizontalScrollbar"},s("ct"),function(a){var b=this.ct;b!==a&&(v.e(a,"boolean",A,"hasHorizontalScrollbar"),this.ct=a,this.d("hasHorizontalScrollbar",b,a),ki(this))});v.a(A,"allowHorizontalScroll",A.prototype.Ne);
v.defineProperty(A,{Ne:"allowHorizontalScroll"},s("As"),function(a){var b=this.As;b!==a&&(v.e(a,"boolean",A,"allowHorizontalScroll"),this.As=a,this.d("allowHorizontalScroll",b,a),ki(this))});v.a(A,"allowVerticalScroll",A.prototype.Oe);v.defineProperty(A,{Oe:"allowVerticalScroll"},s("Ds"),function(a){var b=this.Ds;b!==a&&(v.e(a,"boolean",A,"allowVerticalScroll"),this.Ds=a,this.d("allowVerticalScroll",b,a),ki(this))});v.a(A,"scrollHorizontalLineChange",A.prototype.ls);
v.defineProperty(A,{ls:"scrollHorizontalLineChange"},s("Yt"),function(a){var b=this.Yt;b!==a&&(v.e(a,"number",A,"scrollHorizontalLineChange"),0>a&&v.ha(a,">= 0",A,"scrollHorizontalLineChange"),this.Yt=a,this.d("scrollHorizontalLineChange",b,a))});v.a(A,"scrollVerticalLineChange",A.prototype.ms);
v.defineProperty(A,{ms:"scrollVerticalLineChange"},s("Zt"),function(a){var b=this.Zt;b!==a&&(v.e(a,"number",A,"scrollVerticalLineChange"),0>a&&v.ha(a,">= 0",A,"scrollVerticalLineChange"),this.Zt=a,this.d("scrollVerticalLineChange",b,a))});v.a(A,"lastInput",A.prototype.H);v.defineProperty(A,{H:"lastInput"},s("lc"),function(a){t&&v.c(a,ve,A,"lastInput");this.lc=a});v.a(A,"firstInput",A.prototype.pc);v.defineProperty(A,{pc:"firstInput"},s("Zf"),function(a){t&&v.c(a,ve,A,"firstInput");this.Zf=a});
v.a(A,"currentCursor",A.prototype.Dc);v.defineProperty(A,{Dc:"currentCursor"},s("Ts"),function(a){v.e(a,"string",A,"currentCursor");this.Ts===a||""===a&&this.Ts===this.$o||(this.Ts=a,""!==a?(this.ma.style.cursor=a,document.body.style.cursor=a):(this.ma.style.cursor=this.jy,document.body.style.cursor=this.jy))});v.a(A,"defaultCursor",A.prototype.jy);
v.defineProperty(A,{jy:"defaultCursor"},s("$o"),function(a){v.e(a,"string",A,"defaultCursor");var b=this.$o;b!==a&&(this.$o=a,this.d("defaultCursor",b,a))});v.a(A,"hasGestureZoom",A.prototype.bG);v.defineProperty(A,{bG:"hasGestureZoom"},s("$k"),function(a){var b=this.$k;b!==a&&(v.e(a,"boolean",A,"hasGestureZoom"),this.$k=a,this.d("hasGestureZoom",b,a))});v.a(A,"click",A.prototype.click);
v.defineProperty(A,{click:"click"},s("Bh"),function(a){var b=this.Bh;b!==a&&(a!==n&&v.e(a,"function",A,"click"),this.Bh=a,this.d("click",b,a))});v.a(A,"doubleClick",A.prototype.Hl);v.defineProperty(A,{Hl:"doubleClick"},s("Eh"),function(a){var b=this.Eh;b!==a&&(a!==n&&v.e(a,"function",A,"doubleClick"),this.Eh=a,this.d("doubleClick",b,a))});v.a(A,"contextClick",A.prototype.Ar);
v.defineProperty(A,{Ar:"contextClick"},s("Ch"),function(a){var b=this.Ch;b!==a&&(a!==n&&v.e(a,"function",A,"contextClick"),this.Ch=a,this.d("contextClick",b,a))});v.a(A,"mouseOver",A.prototype.es);v.defineProperty(A,{es:"mouseOver"},s("Qh"),function(a){var b=this.Qh;b!==a&&(a!==n&&v.e(a,"function",A,"mouseOver"),this.Qh=a,this.d("mouseOver",b,a))});v.a(A,"mouseHover",A.prototype.ds);
v.defineProperty(A,{ds:"mouseHover"},s("Ph"),function(a){var b=this.Ph;b!==a&&(a!==n&&v.e(a,"function",A,"mouseHover"),this.Ph=a,this.d("mouseHover",b,a))});v.a(A,"mouseHold",A.prototype.cs);v.defineProperty(A,{cs:"mouseHold"},s("Oh"),function(a){var b=this.Oh;b!==a&&(a!==n&&v.e(a,"function",A,"mouseHold"),this.Oh=a,this.d("mouseHold",b,a))});v.a(A,"mouseDragOver",A.prototype.XC);
v.defineProperty(A,{XC:"mouseDragOver"},s("Et"),function(a){var b=this.Et;b!==a&&(a!==n&&v.e(a,"function",A,"mouseDragOver"),this.Et=a,this.d("mouseDragOver",b,a))});v.a(A,"mouseDrop",A.prototype.bs);v.defineProperty(A,{bs:"mouseDrop"},s("Nh"),function(a){var b=this.Nh;b!==a&&(a!==n&&v.e(a,"function",A,"mouseDrop"),this.Nh=a,this.d("mouseDrop",b,a))});v.a(A,"toolTip",A.prototype.ws);
v.defineProperty(A,{ws:"toolTip"},s("Wh"),function(a){var b=this.Wh;b!==a&&(a!==n&&v.c(a,sf,A,"toolTip"),this.Wh=a,this.d("toolTip",b,a))});v.a(A,"contextMenu",A.prototype.contextMenu);v.defineProperty(A,{contextMenu:"contextMenu"},s("Dh"),function(a){var b=this.Dh;b!==a&&(a!==n&&v.c(a,sf,A,"contextMenu"),this.Dh=a,this.d("contextMenu",b,a))});v.a(A,"commandHandler",A.prototype.Gd);
v.defineProperty(A,{Gd:"commandHandler"},s("mw"),function(a){var b=this.mw;b!==a&&(v.c(a,ya,A,"commandHandler"),a.b!==n&&v.g("Cannot share CommandHandlers between Diagrams: "+a.toString()),b!==n&&b.Jf(n),this.mw=a,a.Jf(this))});v.a(A,"toolManager",A.prototype.Zb);v.defineProperty(A,{Zb:"toolManager"},s("pu"),function(a){var b=this.pu;b!==a&&(v.c(a,ff,A,"toolManager"),a.b!==n&&v.g("Cannot share ToolManagers between Diagrams: "+a.toString()),b!==n&&b.Jf(n),this.pu=a,a.Jf(this))});
v.a(A,"defaultTool",A.prototype.Iu);v.defineProperty(A,{Iu:"defaultTool"},s("uw"),function(a){var b=this.uw;b!==a&&(v.c(a,xf,A,"defaultTool"),this.uw=a,this.ya===b&&(this.ya=a))});v.a(A,"currentTool",A.prototype.ya);v.defineProperty(A,{ya:"currentTool"},s("pw"),function(a){var b=this.pw;b!==n&&(b.W&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop());a===n&&(a=this.Iu);a!==n&&(v.c(a,xf,A,"currentTool"),this.pw=a,a.Jf(this),a.doStart())});v.m(A,{selection:"selection"},s("bu"));
v.a(A,"maxSelectionCount",A.prototype.QC);v.defineProperty(A,{QC:"maxSelectionCount"},s("xt"),function(a){var b=this.xt;if(b!==a)if(v.e(a,"number",A,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.xt=a,this.d("maxSelectionCount",b,a),!this.ia.hb&&(a=this.selection.count-a,0<a)){this.la("ChangingSelection");for(var b=this.selection.Of(),c=0;c<a;c++)b[c].La=p;this.la("ChangedSelection")}}else v.ha(a,">= 0",A,"maxSelectionCount")});v.a(A,"nodeSelectionAdornmentTemplate",A.prototype.$C);
v.defineProperty(A,{$C:"nodeSelectionAdornmentTemplate"},s("$w"),function(a){var b=this.$w;b!==a&&(v.c(a,sf,A,"nodeSelectionAdornmentTemplate"),this.$w=a,this.d("nodeSelectionAdornmentTemplate",b,a))});v.a(A,"groupSelectionAdornmentTemplate",A.prototype.pC);v.defineProperty(A,{pC:"groupSelectionAdornmentTemplate"},s("Kw"),function(a){var b=this.Kw;b!==a&&(v.c(a,sf,A,"groupSelectionAdornmentTemplate"),this.Kw=a,this.d("groupSelectionAdornmentTemplate",b,a))});
v.a(A,"linkSelectionAdornmentTemplate",A.prototype.MC);v.defineProperty(A,{MC:"linkSelectionAdornmentTemplate"},s("Sw"),function(a){var b=this.Sw;b!==a&&(v.c(a,sf,A,"linkSelectionAdornmentTemplate"),this.Sw=a,this.d("linkSelectionAdornmentTemplate",b,a))});v.a(A,"isModified",A.prototype.mG);v.defineProperty(A,{mG:"isModified"},function(){var a=this.ia;return a===n?this.kA:a.El!==n?h:this.kA&&this.Pj!==a.ej},function(a){v.e(a,"boolean",A,"isModified");this.kA=a;var b=this.ia;!a&&b&&(this.Pj=b.ej)});
v.a(A,"model",A.prototype.S);v.defineProperty(A,{S:"model"},s("mf"),function(a){var b=this.mf;if(b!==a){v.c(a,B,A,"model");b!==n&&(b.ia!==a.ia&&b.ia.kG)&&v.g("Do not replace a Diagram.model while a transaction is in progress.");this.$f=p;this.np=h;this.gh=p;var c=this.hf;this.hf=h;b!==n&&(b.bz(this.qA),b instanceof P&&Gh(this,b.ug),Gh(this,b.th));this.mf=a;a.Nx(this.pA);Hh(this,a.th);a instanceof P&&Ih(this,a.ug);a.bz(this.pA);a.Nx(this.qA);this.hf=c;wf(this);b!==n&&(a.ia.isEnabled=b.ia.isEnabled)}});
function Fh(a,b,c){var d=a.tg(b);if(d!==n&&"string"===typeof c)d.tc(c);else{d=n;for(a=a.el.f;a.next();){for(var e=a.value,g=0;g<e.length;g++){var i=e[g];i.jf!==n&&(i=i.jf.ga(b),i!==n&&(d===n&&(d=[]),d.push(i)))}if(d!==n)break}b=d;if(b!==n&&"string"===typeof c)for(d=0;d<b.length;d++)b[d].tc(c)}}function Ai(a,b){var c=b.Wj;if(v.isArray(c)){var d=a.el.ga(c);if(d===n)a.el.add(c,[b]);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
function Ci(a,b){var c=b.Wj;if(v.isArray(c)){var d=a.el.ga(c);if(d!==n)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.el.remove(c);break}}}
A.prototype.clear=A.prototype.clear=function(){var a=n;this.cd!==n&&(a=this.cd.ba);this.S.clear();for(var b=this.Cb.length,c=0;c<b;c++)this.Cb.i[c].clear();this.Og.clear();this.vm.clear();this.Kt.clear();this.tl.clear();this.qt.clear();this.nb.clear();this.Xf.clear();this.el.clear();this.bu.wa();this.bu.clear();this.bu.freeze();this.qm=this.lx=n;this.Ys=(new E(NaN,NaN,NaN,NaN)).freeze();a!==n&&(this.add(a),this.nb.remove(a))};
A.prototype.reset=A.prototype.reset=function(){this.kc=h;this.clear();this.Cb=new z(cf);this.ob=(new D(NaN,NaN)).freeze();this.Jb=1;this.Bt=1E-4;this.wt=100;this.tu=(new D(NaN,NaN)).freeze();this.at=(new E(NaN,NaN,NaN,NaN)).freeze();this.Rk=Eh;this.Vk=cc;this.Rj=Eh;this.Fm=cc;this.ft=this.et=dc;this.Gs=(new Ib(16,16,16,16)).freeze();this.nt=h;this.qu=jg;this.$o="auto";this.mf=this.Dh=this.Wh=this.Nh=this.Et=this.Oh=this.Ph=this.Qh=this.Ch=this.Eh=this.Bh=n;this.Vj=p;this.uj=this.tj=this.xs=this.Hh=
h;this.zs=this.ys=p;this.Ds=this.As=this.dt=this.ct=this.Es=this.Cs=this.Dj=this.Cj=this.Bj=this.Aj=this.yj=this.xj=this.zj=this.wj=this.Bs=this.Fj=this.vj=this.Ej=h;this.Zt=this.Yt=16;this.Pd=(new Ib(5)).freeze();this.xt=999999999;this.fd=n;Ph(this);Qh(this);this.cd=n;this.S=new P;this.Sh=h;this.Eb=new Rh;this.kc=this.Sh=p};
A.prototype.rebuildParts=A.prototype.Yl=function(){for(var a=[],b=this.selection.f;b.next();){var c=b.value.data;c&&a.push(c)}b=this.S;b instanceof P&&Gh(this,b.ug);Gh(this,b.th);Hh(this,b.th);b instanceof P&&Ih(this,b.ug);for(b=0;b<a.length;b++)if(c=this.tg(a[b]))c.La=h};function Hh(a,b){if(b!==n){for(var c=a.S,d=v.Kb(b),e=0;e<d;e++){var g=v.wb(b,e);c.Ti(g)?Jh(a,g,p):Kh(a,g)}if(c instanceof P){for(e=0;e<d;e++)g=v.wb(b,e),c.Ti(g)&&Ei(a,g);for(c=a.links;c.next();)Fi(c.value)}a.Ay(p)}}
function Jh(a,b,c){if(!(b===f||b===n)&&!a.ia.hb&&!a.Xf.contains(b)){c===f&&(c=h);var d=a.getCategoryForNodeData(b),e=a.findTemplateForNodeData(b,d);e instanceof R&&(uf(e),e=e.copy(),e instanceof R&&(e.Gj=d,a.add(e),e.data=b,c&&Ei(a,b)))}}A.prototype.getCategoryForNodeData=A.prototype.kC=function(a){var b=this.S,c=b.kC(a),d=p;b instanceof P&&(d=b.Fy(a));d&&""===c&&(c="LinkLabel");return c};
A.prototype.findTemplateForNodeData=A.prototype.bJ=function(a,b){var c=p,d=this.S;d instanceof P&&(c=d.By(a));c?(c=this.xy.ga(b),c===n&&(c=this.xy.ga(""),c===n&&(v.HE===f&&(v.HE=h,v.trace('No Group template found for category "'+b+'"'),v.trace("  Using default group template")),c=this.oE))):(c=this.Xy.ga(b),c===n&&(c=this.Xy.ga(""),c===n&&(v.KE===f&&(v.KE=h,v.trace('No Node template found for category "'+b+'"'),v.trace("  Using default node template")),c=this.rE)));return c instanceof R?c:n};
function Ei(a,b){var c=a.S;if(c instanceof P){var d=c.hc(b);if(d!==f){var e=c.cC(d),g=a.tg(b);if(e!==n&&g!==n&&g instanceof S){for(e=e.f;e.next();){var i=e.value;if(c.Ti(i)){if(g instanceof T&&c.Qr(i)===d){var j=a.tg(i);j!==n&&(j.$a=g)}}else if(j=a.cj(i),j!==n){c.Pn(i)===d&&(j.ja=g);c.Qn(i)===d&&(j.na=g);for(var i=c.Ml(i),k=0;k<i.length;k++)if(i[k]===d){g.pe=j;break}}}c.ph(d)}c=c.Qr(b);c!==f&&(c=a.oh(c),c instanceof T&&(g.$a=c))}}}
function Ih(a,b){if(b!==n){for(var c=v.Kb(b),d=0;d<c;d++)Kh(a,v.wb(b,d));a.Ay(p)}}
function Kh(a,b){if(!(b===f||b===n)&&!a.ia.hb&&!a.Xf.contains(b)){var c=a.getCategoryForLinkData(b),d=a.findTemplateForLinkData(b,c);if(d instanceof V&&(uf(d),d=d.copy(),d instanceof V)){d.Gj=c;var c=a.S,e=c.Pn(b);e!==f&&(e=a.oh(e),e instanceof S&&(d.ja=e));e=c.XF(b);d.qh=e;e=c.Qn(b);e!==f&&(e=a.oh(e),e instanceof S&&(d.na=e));e=c.ZF(b);d.ri=e;c=c.Ml(b);if(v.isArray(c))for(var e=v.Kb(c),g=0;g<e;g++){var i=a.oh(v.wb(c,g));i!==n&&(i.pe=d)}a.add(d);d.data=b}}}
A.prototype.getCategoryForLinkData=A.prototype.jC=function(a){return this.S.jC(a)};A.prototype.findTemplateForLinkData=A.prototype.aJ=function(a,b){var c=this.Ly.ga(b);c===n&&(c=this.Ly.ga(""),c===n&&(v.JE===f&&(v.JE=h,v.trace('No Link template found for category "'+b+'"'),v.trace("  Using default link template")),c=this.qE));return c instanceof V?c:n};function Gh(a,b){for(var c=v.Kb(b),d=0;d<c;d++)Lh(a,v.wb(b,d))}
function Lh(a,b){if(!(b===f||b===n)){var c=a.tg(b);if(c instanceof R){var d=c.za;if(!(d===n||d.b!==a)){var e=a.S;if(e instanceof P&&c instanceof S){var g=e.hc(c.data);if(g!==f){for(var i=c.qe;i.next();){var j=i.value.data;e.rg(g,j)}c.fj&&(i=c.pe,i!==n&&(j=i.data,e.rg(g,j)));if(c instanceof T)for(i=c.sc;i.next();)j=i.value.data,e.Ti(j)&&e.rg(g,j)}}c.La=p;e=d.Id(-1,c);0<=e&&a.be(Be,"parts",d,c,n,e,n);e=c.Xr;e!==n&&e(c,d,n)}}}}
A.prototype.findPartForKey=A.prototype.ZI=function(a){if(a===n||a===f)return n;a=this.S.nh(a);if(a===n)return n;a=this.Xf.ga(a);return a instanceof R?a:n};A.prototype.findNodeForKey=A.prototype.oh=function(a){if(a===n||a===f)return n;a=this.S.nh(a);if(a===n)return n;a=this.Xf.ga(a);return a instanceof S?a:n};A.prototype.findPartForData=A.prototype.tg=function(a){if(a===n)return n;a=this.Xf.ga(a);return a instanceof R?a:n};
A.prototype.findNodeForData=A.prototype.XI=function(a){if(a===n)return n;a=this.Xf.ga(a);return a instanceof S?a:n};A.prototype.findLinkForData=A.prototype.cj=function(a){if(a===n)return n;a=this.Xf.ga(a);return a instanceof V?a:n};v.a(A,"nodeTemplate",A.prototype.GG);v.defineProperty(A,{GG:"nodeTemplate"},function(){return this.Ki.ga("")},function(a){var b=this.Ki.ga("");b!==a&&(v.c(a,R,A,"nodeTemplate"),this.Ki.add("",a),this.d("nodeTemplate",b,a),this.ia.hb||this.Yl())});
v.a(A,"nodeTemplateMap",A.prototype.Xy);v.defineProperty(A,{Xy:"nodeTemplateMap"},s("Ki"),function(a){var b=this.Ki;b!==a&&(v.c(a,ra,A,"nodeTemplateMap"),this.Ki=a,this.d("nodeTemplateMap",b,a),this.ia.hb||this.Yl())});v.a(A,"groupTemplate",A.prototype.aG);v.defineProperty(A,{aG:"groupTemplate"},function(){return this.Zk.ga("")},function(a){var b=this.Zk.ga("");b!==a&&(v.c(a,T,A,"groupTemplate"),this.Zk.add("",a),this.d("groupTemplate",b,a),this.ia.hb||this.Yl())});v.a(A,"groupTemplateMap",A.prototype.xy);
v.defineProperty(A,{xy:"groupTemplateMap"},s("Zk"),function(a){var b=this.Zk;b!==a&&(v.c(a,ra,A,"groupTemplateMap"),this.Zk=a,this.d("groupTemplateMap",b,a),this.ia.hb||this.Yl())});v.a(A,"linkTemplate",A.prototype.vG);v.defineProperty(A,{vG:"linkTemplate"},function(){return this.Zj.ga("")},function(a){var b=this.Zj.ga("");b!==a&&(v.c(a,V,A,"linkTemplate"),this.Zj.add("",a),this.d("linkTemplate",b,a),this.ia.hb||this.Yl())});v.a(A,"linkTemplateMap",A.prototype.Ly);
v.defineProperty(A,{Ly:"linkTemplateMap"},s("Zj"),function(a){var b=this.Zj;b!==a&&(v.c(a,ra,A,"linkTemplateMap"),this.Zj=a,this.d("linkTemplateMap",b,a),this.ia.hb||this.Yl())});v.a(A,"isMouseCaptured",A.prototype.Pc);
v.defineProperty(A,{Pc:"isMouseCaptured"},s("lA"),function(a){var b=this.ma;a?(this.H.bubbles=p,b.removeEventListener("mousemove",this.eo,p),b.removeEventListener("mousedown",this.co,p),b.removeEventListener("mouseup",this.ho,p),b.removeEventListener("mousewheel",this.xg,p),b.removeEventListener("DOMMouseScroll",this.xg,p),b.removeEventListener("mouseout",this.fo,p),window.addEventListener("mousemove",this.eo,h),window.addEventListener("mousedown",this.co,h),window.addEventListener("mouseup",this.ho,
h),window.addEventListener("mousewheel",this.xg,h),window.addEventListener("DOMMouseScroll",this.xg,h),window.addEventListener("mouseout",this.fo,h),window.addEventListener("selectstart",this.preventDefault,p)):(window.removeEventListener("mousemove",this.eo,h),window.removeEventListener("mousedown",this.co,h),window.removeEventListener("mouseup",this.ho,h),window.removeEventListener("mousewheel",this.xg,h),window.removeEventListener("DOMMouseScroll",this.xg,h),window.removeEventListener("mouseout",
this.fo,h),window.removeEventListener("selectstart",this.preventDefault,p),b.addEventListener("mousemove",this.eo,p),b.addEventListener("mousedown",this.co,p),b.addEventListener("mouseup",this.ho,p),b.addEventListener("mousewheel",this.xg,p),b.addEventListener("DOMMouseScroll",this.xg,p),b.addEventListener("mouseout",this.fo,p));this.lA=a});v.a(A,"position",A.prototype.position);
v.defineProperty(A,{position:"position"},s("ob"),function(a){var b=this.ob;if(!b.z(a)){v.c(a,D,A,"position");var c=this.ub.copy();c.x=b.x;c.y=b.y;b.aj(a)?a=b:this.kc||(this.kc=h,b=this.scale,mi(this,a,this.oc,this.ma.width/b,this.ma.height/b,this.Vk),this.kc=p);this.ob=a.F();this.is(c,this.ub);wf(this)}});v.a(A,"grid",A.prototype.Wu);
v.defineProperty(A,{Wu:"grid"},function(){this.cd===n&&gi(this);return this.cd},function(a){var b=this.cd;if(b!==a){b===n&&(gi(this),b=this.cd);v.c(a,w,A,"grid");a.type!==hi&&v.g("Diagram.grid must be a Panel of type Panel.Grid");var c=b.Y;c!==n&&c.remove(b);this.cd=a;a.name="GRID";c!==n&&c.add(a);Ch(this);this.d("grid",b,a)}});v.m(A,{ub:"viewportBounds"},function(){var a=this.ob,b=this.Jb,c=this.ma,d=this.bB;d.Ed(a.x,a.y,Math.max(c.width,0)/b,Math.max(c.height,0)/b);return d});
v.a(A,"fixedBounds",A.prototype.Lr);v.defineProperty(A,{Lr:"fixedBounds"},s("at"),function(a){var b=this.at;b.z(a)||(v.c(a,E,A,"fixedBounds"),this.at=a=a.F(),qi(this),this.d("fixedBounds",b,a))});v.m(A,{oc:"documentBounds"},s("Ys"));function pi(a,b){var c=a.Ys;c.z(b)||(b=b.F(),a.Ys=b,a.Tj=p,ki(a),a.la("DocumentBoundsChanged",n,c.copy()),ji(a))}v.a(A,"scale",A.prototype.scale);
v.defineProperty(A,{scale:"scale"},s("Jb"),function(a){var b=this.Jb;if(b!==a){v.j(a,A,"scale");this.Jb=a;var c=a;a<this.jj&&(c=this.jj);a>this.ij&&(c=this.ij);if(!isNaN(a)&&!this.kc&&!this.hf){this.kc=h;var d=this.ub.copy(),e=this.ma.width/c,g=this.ma.height/c;d.width=this.ma.width/b;d.height=this.ma.height/b;var i=this.Nk.copy();if(isNaN(i.x))switch(this.Gu){case Dc:i.x=0;break;case Ec:i.x=e-1;break;case jc:i.x=e/2;break;case cc:case Gc:i.x=e/2}if(isNaN(i.y))switch(this.Gu){case Cc:i.y=0;break;
case Fc:i.y=g-1;break;case jc:i.y=g/2;break;case cc:case Gc:i.y=g/2}var j=this.position,a=new D(j.x+i.x/b-i.x/a,j.y+i.y/b-i.y/a);mi(this,a,this.oc,e,g,this.Vk);this.position=a;this.kc=p;e=this.ub;this.Jb=c;this.is(d,e)}Ch(this);ji(this)}});v.a(A,"autoScale",A.prototype.Tx);v.defineProperty(A,{Tx:"autoScale"},s("Rk"),function(a){var b=this.Rk;b!==a&&(v.Za(a,A,A,"autoScale"),this.Rk=a,this.d("autoScale",b,a),a!==Eh&&ki(this))});v.a(A,"initialAutoScale",A.prototype.eG);
v.defineProperty(A,{eG:"initialAutoScale"},s("Rj"),function(a){var b=this.Rj;b!==a&&(v.Za(a,A,A,"initialAutoScale"),this.Rj=a,this.d("initialAutoScale",b,a))});v.a(A,"initialViewportSpot",A.prototype.yC);v.defineProperty(A,{yC:"initialViewportSpot"},s("ft"),function(a){var b=this.ft;b!==a&&(v.c(a,G,A,"initialViewportSpot"),Wb(a)||v.g("initialViewportSpot must be a real Spot: "+a),this.ft=a,this.d("initialViewportSpot",b,a))});v.a(A,"initialDocumentSpot",A.prototype.xC);
v.defineProperty(A,{xC:"initialDocumentSpot"},s("et"),function(a){var b=this.et;b!==a&&(v.c(a,G,A,"initialDocumentSpot"),Wb(a)||v.g("initialViewportSpot must be a real Spot: "+a),this.et=a,this.d("initialDocumentSpot",b,a))});v.a(A,"minScale",A.prototype.jj);v.defineProperty(A,{jj:"minScale"},s("Bt"),function(a){v.j(a,A,"minScale");var b=this.Bt;b!==a&&0<a?(this.Bt=a,this.d("minScale",b,a),a>this.scale&&(this.scale=a)):v.ha(a,"> 0",A,"minScale")});v.a(A,"maxScale",A.prototype.ij);
v.defineProperty(A,{ij:"maxScale"},s("wt"),function(a){v.j(a,A,"maxScale");var b=this.wt;b!==a&&0<a?(this.wt=a,this.d("maxScale",b,a),a<this.scale&&(this.scale=a)):v.ha(a,"> 0",A,"maxScale")});v.a(A,"zoomPoint",A.prototype.Nk);v.defineProperty(A,{Nk:"zoomPoint"},s("tu"),function(a){this.tu.z(a)||(v.c(a,D,A,"zoomPoint"),this.tu=a=a.F(),qi(this))});v.a(A,"contentAlignment",A.prototype.Gu);
v.defineProperty(A,{Gu:"contentAlignment"},s("Vk"),function(a){var b=this.Vk;b.z(a)||(v.c(a,G,A,"contentAlignment"),this.Vk=a=a.F(),this.d("contentAlignment",b,a),ki(this))});v.a(A,"initialContentAlignment",A.prototype.fG);v.defineProperty(A,{fG:"initialContentAlignment"},s("Fm"),function(a){var b=this.Fm;b.z(a)||(v.c(a,G,A,"initialContentAlignment"),this.Fm=a=a.F(),this.d("initialContentAlignment",b,a))});v.a(A,"padding",A.prototype.padding);
v.defineProperty(A,{padding:"padding"},s("Pd"),function(a){"number"===typeof a?a=new Ib(a):v.c(a,Ib,A,"padding");var b=this.Pd;b.z(a)||(this.Pd=a=a.F(),qi(this),this.d("padding",b,a))});v.m(A,{Ck:"nodes"},function(){return this.Kt.f});v.m(A,{links:"links"},function(){return this.qt.f});v.m(A,{kj:"parts"},function(){return this.nb.f});v.a(A,"layout",A.prototype.Eb);
v.defineProperty(A,{Eb:"layout"},s("fd"),function(a){var b=this.fd;b!==a&&(v.c(a,Rh,A,"layout"),b!==n&&(b.b=n,b.group=n),this.fd=a,a.b=this,a.group=n,this.Fs=h,this.d("layout",b,a))});A.prototype.layoutDiagram=A.prototype.PJ=function(a){Oh(this);a&&this.Ay(h);si(this)};A.prototype.invalidateAllLayouts=A.prototype.Ay=function(a){for(var b=this.tl.f;b.next();)Gi(this,b.value,a);this.Eb!==n&&(a?this.Eb.Ye=p:this.Eb.v())};
function Gi(a,b,c){if(b!==n){for(var d=b.ll.f;d.next();)Gi(a,d.value,c);b.Eb!==n&&(c?b.Eb.Ye=p:b.Eb.v())}}function si(a){for(var b=a.tl.f;b.next();)Hi(a,b.value);b=a.Eb;b!==n&&!b.Ye&&(b.doLayout(a),b.Ye=h);a.Fs=p}function Hi(a,b){if(b!==n){for(var c=b.ll.f;c.next();)Hi(a,c.value);c=b.Eb;c!==n&&!c.Ye&&(b.wA=!b.location.ca(),c.doLayout(b),b.v(Ii),c.Ye=h,vi(a,b))}}v.a(A,"isTreePathToChildren",A.prototype.Df);
v.defineProperty(A,{Df:"isTreePathToChildren"},s("nt"),function(a){var b=this.nt;if(b!==a&&(v.e(a,"boolean",A,"isTreePathToChildren"),this.nt=a,this.d("isTreePathToChildren",b,a),!this.ia.hb))for(a=this.Ck;a.next();)Ji(a.value)});v.a(A,"isCollapsingExpanding",A.prototype.Cf);v.defineProperty(A,{Cf:n},s("hA"),ba("hA"));function Ki(a,b){var c=a.ww.ga(b);if(c!==n)return c;c=a.ww.ga(b.toLowerCase());if(c!==n)return c;v.g("Unknown DiagramEvent name: "+b);return n}
A.prototype.addDiagramListener=A.prototype.fB=function(a,b){v.e(a,"string",A,"addDiagramListener:name");v.e(b,"function",A,"addDiagramListener:listener");var c=Ki(this,a);c!==n&&c.add(b)};A.prototype.removeDiagramListener=A.prototype.lD=function(a,b){v.e(a,"string",A,"removeDiagramListener:name");v.e(b,"function",A,"addDiagramListener:listener");var c=Ki(this,a);c!==n&&c.remove(b)};
A.prototype.raiseDiagramEvent=A.prototype.la=function(a,b,c){t&&v.e(a,"string",A,"raiseDiagramEvent:name");var d=Ki(this,a),e=new we;e.b=this;var g=this.vw.ga(a),a=g!==n?g:this.vw.ga(a.toLowerCase());e.name=a;b!==f&&(e.vv=b);c!==f&&(e.iv=c);for(b=d.f;b.next();)c=b.value,c(e);return e.cancel};function fg(a,b){for(var c=a.Kl(b,function(a){return a.ba},function(a){return a instanceof V},h).f;c.next();){var d=c.value;d.cf===Xf&&d.Xb()}}
function la(a,b,c){a.Uc===n&&(a.Uc=new Li);var d=n;a.Uc.Pl||(d=c!==n?c.$a:n);if(a.Uc.Pl||a.Uc.group!==d){if(d===n){var e;if(a.Tj){if(a.Lr.ca())e=a.Lr.copy();else{for(var b=h,c=a.Cb,g=c.length,i=0;i<g;i++){var j=c.i[i];if(j.visible&&!j.Zc)for(var j=j.nb,k=j.length,l=0;l<k;l++){var m=j.i[l];m.$u&&m.ib()&&(m=m.pa,m.ca()&&(b?(b=p,e=m.copy()):e.rj(m)))}}b&&(e=new E(0,0,0,0))}e.rr(a.padding)}else e=a.oc.copy();e.zf(100,100);Mi(a.Uc,e);for(e=a.Ck;e.next();)b=e.value,c=b.za,c===n||(!c.visible||c.Zc)||Ni(a,
b)}else{e=d.pa.copy();e.zf(20,20);Mi(a.Uc,e);for(e=d.sc;e.next();)b=e.value,b instanceof S&&Ni(a,b)}a.Uc.group=d;a.Uc.Pl=p}else b&&Oi(a.Uc);return a.Uc}function Ni(a,b){if(b!==n&&b.canAvoid()){for(var c=b.getAvoidableRectangle(),d=a.Uc.Al,e=a.Uc.zl,g=c.x+c.width,i=c.y+c.height,j=c.x;j<g;j+=d){for(var k=c.y;k<i;k+=e)Pi(a.Uc,j,k);Pi(a.Uc,j,i)}for(k=c.y;k<i;k+=e)Pi(a.Uc,g,k);Pi(a.Uc,g,i)}}function Qi(a,b){if(a.Uc!==n&&!a.Uc.Pl&&(b===n||b.canAvoid()))a.Uc.Pl=h}
function Xh(a,b,c){if(Ff!==n){c instanceof A||(c=n);var d=Vf;c!==d&&(d!==n&&d.Zb.me!==n&&d.Zb.me.UB(),c!==n&&c.Zb.me!==n&&c.Zb.me.TB());Vf=c;if(c===n)return h;d=c.Zb.me;d!==n&&(a!==n&&(b=c.Ng(a)),c.lc.D=b,d.GF());return h}return p}
function Zh(a,b,c,d){if(Ff!==n){d===n&&(d=n);var e=Vf;d!==e&&(e!==n&&e.Zb.me!==n&&e.Zb.me.UB(),d!==n&&d.Zb.me!==n&&d.Zb.me.TB());Vf=d;if(d===n)return Ff.doCancel(),h;if(d!==a)return a=c,b!==n&&(a=d.Ng(b)),d.lc.D=a,b=d.Zb.me,b!==n&&b.HF(),Ff!==n&&Ff.doCancel(),h}return p}v.a(A,"autoScrollRegion",A.prototype.qB);
v.defineProperty(A,{qB:"autoScrollRegion"},s("Gs"),function(a){"number"===typeof a?a=new Ib(a):v.c(a,Ib,A,"autoScrollRegion");var b=this.Gs;b.z(a)||(this.Gs=a=a.F(),qi(this),this.d("autoScrollRegion",b,a))});
function eg(a){if(a.Bg===n){a.Bg={};var b;b=a.ya!==a.Zb.me?a.kE:a.lE;a.Bg.isEnabled=h;var c=setInterval(function(){var b=c;a.Bg!==n&&a.Bg.isEnabled&&(a.Bg=n,clearInterval(b),b=dg(a,a.hw),b.ji(a.position)||(a.position=b,a.H.D=a.XD(a.hw),a.ya.doMouseMove(),a.Tj=h,pi(a,a.Qe()),a.Bi=h,a.update(),eg(a)))},b);a.Bg.id=c}}function Hf(a){a.Bg!==n&&(a.Bg.isEnabled&&clearInterval(a.Bg.id),a.Bg=n)}
function dg(a,b){var c=a.position,d=a.qB;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.ub,g=new E(0,0,e.width,e.height),e=new D(0,0);if(b.x>=g.x&&b.x<g.x+d.left){var i=Math.max(a.ls,1),i=i|0;e.x-=i;b.x<g.x+d.left/2&&(e.x-=i);b.x<g.x+d.left/4&&(e.x-=4*i)}else b.x<=g.x+g.width&&b.x>g.x+g.width-d.right&&(i=Math.max(a.ls,1),i|=0,e.x+=i,b.x>g.x+g.width-d.right/2&&(e.x+=i),b.x>g.x+g.width-d.right/4&&(e.x+=4*i));b.y>=g.y&&b.y<g.y+d.top?(i=Math.max(a.ms,1),i|=0,e.y-=i,b.y<g.y+d.top/2&&
(e.y-=i),b.y<g.y+d.top/4&&(e.y-=4*i)):b.y<=g.y+g.height&&b.y>g.y+g.height-d.bottom&&(i=Math.max(a.ms,1),i|=0,e.y+=i,b.y>g.y+g.height-d.bottom/2&&(e.y+=i),b.y>g.y+g.height-d.bottom/4&&(e.y+=4*i));e.ji(new D(0,0))||(d=a.scale,c=new D(c.x+e.x/d,c.y+e.y/d));return c}
A.prototype.makeImage=A.prototype.RJ=function(a){if(this.ma===n)return n;"object"!==typeof a&&v.g("properties argument must be an Object.");this.gp=p;$h(this);var b=document.createElement("canvas");b.width=this.ma.width;b.height=this.ma.height;var c=b.getContext("2d");Ch(this);this.sg(c);$h(this);this.gp=h;c=new Image;c.src=b.toDataURL(a.type,a.details);return c};
A.prototype.makeImageData=A.prototype.SJ=function(a){if(this.ma===n)return"";"object"!==typeof a&&v.g("properties argument must be an Object.");this.gp=p;$h(this);var b=document.createElement("canvas");b.width=this.ma.width;b.height=this.ma.height;var c=b.getContext("2d");Ch(this);this.sg(c);$h(this);this.gp=h;return b.toDataURL(a.type,a.details)};
A.prototype.renderJson=A.prototype.zg=function(a){this.Fh=new ra;this.Fg=new Ea;v.Ua(a)&&a._tabString!==f&&(this.Fg.VA=a._tabString);Ri(this,this);this.Fh.clear();a=this.Fg.toString();this.Fg=n;return a};
function Ri(a,b){if(v.Ua(b)&&(!(b instanceof R)||b.ib()))if(!(b instanceof Q)||b.visible)if(!(b instanceof cf)||b.visible){var c=a.Fg;if(b instanceof D)c.add('"'+fb(b)+'"');else if(b instanceof J)c.add('"'+xb(b)+'"');else if(b instanceof E)c.add('"'+Fb(b)+'"');else if(b instanceof Ib)c.add('"'+Mb(b)+'"');else if(b instanceof G)c.add('"'+Sb(b)+'"');else{var d;b instanceof Ed?d=a.Fh.ga(b):b instanceof Ge&&(d=a.Fh.ga(b));d="number"===typeof d?d:-1;-1<d?c.add('{ "class":"ref", "id":'+d+" }"):(c.Qj++,
c.add('{ "class": "'+v.dj(b)+'"'),d=-1,b instanceof Ed?(d=a.Fh.count,a.Fh.add(b,d)):b instanceof Ge&&(d=a.Fh.count,a.Fh.add(b,d)),-1<d&&c.add(', "id":'+d),b instanceof Q?b.zg():Si(a,b,Object.getPrototypeOf(b)),c.add(" }"),La(c))}}}function Si(a,b,c){if(c&&c.constructor!==Object&&(Si(a,b,Object.getPrototypeOf(c)),c.constructor&&(c=c.constructor.wH,Array.isArray(c))))for(var d=0;d<c.length;d++){var e=c[d];if("string"===typeof e){var g=v.cb(b,e);Ti(a,e,g)}}}
function Ti(a,b,c){if(c!==f){var d=a.Fg;d.add(",");Ma(d);d.add('"'+b+'": ');Ui(a,c)}}
function Ui(a,b){var c=a.Fg;if(b===f)c.add("undefined");else if(b===n)c.add("null");else if(b===h)c.add("true");else if(b===p)c.add("false");else if("string"===typeof b)c.add(a.S.quote(b));else if("number"===typeof b)Infinity===b&&c.add("9e9999"),-Infinity===b&&c.add("-9e9999"),isNaN(b)?c.add('{"class":"NaN"}'):c.add(b.toString());else if("function"===typeof b)c.add("null");else if(v.isArray(b)){c=a.Fg;c.Qj++;for(var d=v.Kb(b),e=p,g=0;g<d;g++){var i=v.wb(b,g);if("object"===typeof i){e=h;break}}c.add("[");
e&&Ma(c);for(g=0;g<d;g++)i=v.wb(b,g),i!==f&&(0<g&&(c.add(","),e&&Ma(c)),Ui(a,i));e&&c.add(" ");c.add("]");La(c)}else if(b instanceof pa)c.add(a.S.quote(b.toString()));else if(b instanceof ra){c=a.Fg;c.Qj++;c.add("{");Ma(c);d=b.f;for(e=h;d.next();)g=d.key,i=d.value,e?e=p:(c.add(","),Ma(c)),c.add('"'+g+'": '),Ui(a,i);c.add(" }");La(c)}else if(b instanceof z||b instanceof va||b.f!==f){c=a.Fg;c.Qj++;c.add("[");Ma(c);d=b.f;for(e=0;d.next();)g=d.value,g!==f&&(0<e&&(c.add(","),Ma(c)),Ui(a,g),e++);c.add(" ]");
La(c)}else v.Ua(b)?Ri(a,b):c.add(b.toString())}A.inherit=function(a,b){v.va(a,b)};function Vi(a){A.call(this,a);this.yu=h;this.qk=p;this.Va=h;this.Gu=hc;this.Eb=new Wi}v.J("Palette",Vi);v.va(Vi,A);
function Xi(a){A.call(this,a);this.kc=h;this.Mi=n;var a=new R,b=new W;b.stroke="magenta";b.Ya=2;b.fill=n;b.name="BOXSHAPE";a.qo="BOXSHAPE";a.Zr="BOXSHAPE";a.add(b);this.mm=a;a=new Yi;a.Jf(this);this.Zb.se.rc(0,a);var c=this;this.bD=function(){Zi(c)};this.aD=function(){c.Mi!==n&&(qi(c),Ch(c))};this.Va=h;this.Yh=this.Td=p;this.Tx=ni;this.Zb.Tl=zf;this.kc=p}v.J("Overview",Xi);v.va(Xi,A);
Xi.prototype.sg=function(){this.Mb===n&&v.g("No div specified");this.ma===n&&v.g("No canvas specified");if(this.Bi){var a=this.Mi;if(a!==n){var b=this.Dg;b.bw="";b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,this.ma.width,this.ma.height);var c=this.ud;c.reset();1!==this.Jb&&c.scale(this.scale);(0!==this.position.x||0!==this.position.y)&&c.translate(-this.ob.x,-this.ob.y);b.setTransform(c.m11,c.m12,c.m21,c.m22,c.Na,c.Oa);for(var d=this.ub,e=a.Cb.length,c=0;c<e;c++)for(var g=b,i=d,j=a.Cb.i[c].nb,k=j.length,
l=0;l<k;l++){var m=j.i[l];m.pa.Xe(i)&&m.sg(g,this)}a=this.Cb.length;for(c=0;c<a;c++)this.Cb.i[c].sg(b,this);t&&(t.aC||t.vr)&&t.ZB(b,this);this.Bi=this.Im=p}}};v.a(Xi,"observed",Xi.prototype.HG);
v.defineProperty(Xi,{HG:"observed"},s("Mi"),function(a){var b=this.Mi;a!==n&&v.c(a,A,Xi,"observed");b!==a&&!(a instanceof Xi)&&(b!==n&&(this.remove(this.pg),b.lD("ViewportBoundsChanged",this.bD),b.lD("DocumentBoundsChanged",this.aD),b.Pt.remove(this)),this.Mi=a,a!==n&&(a.fB("ViewportBoundsChanged",this.bD),a.fB("DocumentBoundsChanged",this.aD),a.Pt.add(this),this.add(this.pg),Zi(this)),qi(this),this.d("observed",b,a))});v.a(Xi,"box",Xi.prototype.pg);
v.defineProperty(Xi,{pg:"box"},s("mm"),function(a){var b=this.mm;b!==a&&(this.mm=a,this.d("box",b,a))});function Zi(a){var b=a.pg;if(b!==n){var c=a.Mi;if(c!==n){a.Bi=h;var c=c.ub,d=b.po;d.ta=new J(c.width,c.height);a=2/a.scale;d instanceof W&&(d.Ya=a);b.location=new D(c.x-a/2,c.y-a/2)}}}Xi.prototype.Qe=function(){var a=this.Mi;return a===n?new E(0,0,0,0):a.oc};Xi.prototype.is=function(a){this.kc||(ii(this),Ch(this),ji(this),qi(this),Zi(this),this.la("ViewportBoundsChanged",a))};
function Yi(){xf.call(this);this.name="MoveBox"}v.va(Yi,xf);Yi.prototype.doStart=Yi.prototype.ny=function(){this.W=this.b.Pc=h};Yi.prototype.doMouseMove=Yi.prototype.mh=function(){if(this.W){var a=this.b;if(!(a===n||a.Mi===n)){var b=a.Mi,c=b.ub,d=a.H.D;b.position=new D(d.x-c.width/2,d.y-c.height/2);wf(a)}}};Yi.prototype.doMouseUp=Yi.prototype.Te=function(){this.W&&this.doMouseMove();this.stopTool()};Yi.prototype.doStop=Yi.prototype.$i=function(){this.W=p;var a=this.b;a.Pc=p;Zi(a)};
function Ge(a){v.Tb(this);this.Sa=p;a===f?(this.M=Re,this.pm="black"):"string"===typeof a?(this.M=Re,this.pm=a):(t&&v.Za(a,Ge,Ge,"constructor:type"),this.M=a,this.pm="black");a=this.M;a===Se?(this.an=hc,this.ym=lc):this.ym=a===Te?this.an=jc:this.an=bc;this.gu=0;this.Zs=NaN;this.Lz=this.Mz=this.Wf=this.Rt=this.Uf=n}v.J("Brush",Ge);var Re;Ge.Solid=Re=v.l(Ge,"Solid",0);var Se;Ge.Linear=Se=v.l(Ge,"Linear",1);var Te;Ge.Radial=Te=v.l(Ge,"Radial",2);var $i;Ge.Pattern=$i=v.l(Ge,"Pattern",2);
Ge.prototype.copy=Ge.prototype.copy=function(){var a=new Ge;a.M=this.M;a.pm=this.pm;a.an=this.an;a.ym=this.ym;a.gu=this.gu;a.Zs=this.Zs;this.Uf!==n&&(a.Uf=this.Uf.copy());a.Rt=this.Rt;return a};Ge.prototype.Ra=function(){this.freeze();Object.freeze(this);return this};Ge.prototype.freeze=function(){this.Sa=h;this.Uf!==n&&this.Uf.freeze();return this};Ge.prototype.wa=function(){Object.isFrozen(this)&&v.g("cannot thaw constant: "+this);this.Sa=p;this.Uf!==n&&this.Uf.wa();return this};
Ge.prototype.toString=function(){var a="Brush(";if(this.type===Re)a+=this.color;else if(a=this.type===Se?a+"Linear ":this.type===Te?a+"Radial ":this.type===$i?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,this.Cn!==n)for(var b=this.Cn.f;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
Ge.prototype.addColorStop=Ge.prototype.addColorStop=function(a,b){v.u(this);(a===n||1<a||0>a)&&v.ha(a,"0 <= loc <= 1",Ge,"addColorStop:loc");v.e(b,"string",Ge,"addColorStop:color");this.Uf===n&&(this.Uf=new ra("number","string"));this.Uf.add(a,b);this.M===Re&&(this.type=Se);this.Wf=n};v.a(Ge,"type",Ge.prototype.type);
v.defineProperty(Ge,{type:"type"},s("M"),function(a){v.u(this,a);v.Za(a,Ge,Ge,"type");this.M=a;Yb(this.start)&&(a===Se?this.start=hc:a===Te&&(this.start=jc));Yb(this.end)&&(a===Se?this.end=lc:a===Te&&(this.end=jc));this.Wf=n});v.a(Ge,"color",Ge.prototype.color);v.defineProperty(Ge,{color:"color"},s("pm"),function(a){v.u(this,a);v.e(a,"string",Ge,"color");this.pm=a;this.Wf=n});v.a(Ge,"start",Ge.prototype.start);
v.defineProperty(Ge,{start:"start"},s("an"),function(a){v.u(this,a);a instanceof G||v.Fc(a,"Spot",Ge,"start");this.an=a.F();this.Wf=n});v.a(Ge,"end",Ge.prototype.end);v.defineProperty(Ge,{end:"end"},s("ym"),function(a){v.u(this,a);a instanceof G||v.Fc(a,"Spot",Ge,"end");this.ym=a.F();this.Wf=n});v.a(Ge,"startRadius",Ge.prototype.vo);v.defineProperty(Ge,{vo:"startRadius"},s("gu"),function(a){v.u(this,a);v.j(a,Ge,"startRadius");0>a&&v.ha(a,">= zero",Ge,"startRadius");this.gu=a;this.Wf=n});
v.a(Ge,"endRadius",Ge.prototype.Hn);v.defineProperty(Ge,{Hn:"endRadius"},s("Zs"),function(a){v.u(this,a);v.j(a,Ge,"endRadius");0>a&&v.ha(a,">= zero",Ge,"endRadius");this.Zs=a;this.Wf=n});v.a(Ge,"colorStops",Ge.prototype.Cn);v.defineProperty(Ge,{Cn:"colorStops"},s("Uf"),function(a){v.u(this,a);t&&v.c(a,ra,Ge,"colorStops");this.Uf=a;this.Wf=n});v.a(Ge,"pattern",Ge.prototype.pattern);v.defineProperty(Ge,{pattern:"pattern"},s("Rt"),function(a){v.u(this,a);this.Rt=a;this.Wf=n});
Ge.randomColor=function(a,b){a===f&&(a=128);t&&(v.j(a,Ge,"randomColor:min"),(0>a||255<a)&&v.ha(a,"0 <= min <= 255",Ge,"randomColor:min"));b===f&&(b=Math.max(a,255));t&&(v.j(b,Ge,"randomColor:max"),(b<a||255<b)&&v.ha(b,"min <= max <= 255",Ge,"randomColor:max"));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+d+e+c};
function Q(){v.Tb(this);this.ek=n;this.Db="";this.qf=this.hh=h;this.Qf=this.Rf=n;this.ob=(new D(NaN,NaN)).freeze();this.ee=(new J(NaN,NaN)).freeze();this.Cd=Sc;this.Hi=Pc;this.ud=new ob;this.sj=new ob;this.Pm=new ob;this.Jb=1;this.$b=0;this.Yg=Vg;this.$p=(new Ib(0)).freeze();this.Nc=(new E(NaN,NaN,NaN,NaN)).freeze();this.lb=(new E(NaN,NaN,NaN,NaN)).freeze();this.vc=(new E(0,0,NaN,NaN)).freeze();this.Kc=this.ec=this.al=this.Hm=h;this.tq=n;this.Mg=bc;this.Ig=10;this.Hg=aj;this.Lg=0;this.pp=n;this.rp=
this.qp=p;this.sp=Infinity;this.fh=bc;this.ah=10;this.$g=aj;this.eh=0;this.dr=n;this.fr=this.er=p;this.gr=Infinity;this.sd=n;this.ra=cc;this.Hp=p;this.Ho=cc;this.Iq=0;this.jk=1;this.K=0;this.Hj=1;this.Lq=-Infinity;this.Kq=0;this.Mq=Oc;this.Nq=bj;this.Uo="";this.Dh=this.Wh=this.Nh=this.hq=this.gq=this.Oh=this.Ph=this.Qh=this.jq=this.iq=this.Ch=this.Eh=this.Bh=n;this.Bp=p;this.ac=this.Co=this.Fo=this.Eo=this.Do=n;this.lm=p;this.Wk=n;this.XA=new E(NaN,NaN,NaN,NaN);this.No=p;this.Oo=n;this.km=p;this.ml=
n}v.J("GraphObject",Q);
Q.prototype.qb=function(a){a.Db=this.Db;a.hh=this.hh;a.qf=this.qf;a.Rf=this.Rf;a.Qf=this.Qf;a.ob.Xa(this.ob);a.ee.Xa(this.ee);a.Cd=this.Cd.F();a.Hi=this.Hi.F();a.Jb=this.Jb;a.$b=this.$b;a.Yg=this.Yg;a.$p.Xa(this.$p);a.Nc.Xa(this.Nc);a.lb.Xa(this.lb);a.vc.Xa(this.vc);a.tq=this.tq;a.Mg=this.Mg.F();a.Ig=this.Ig;a.Hg=this.Hg;a.Lg=this.Lg;a.pp=this.pp;a.qp=this.qp;a.rp=this.rp;a.sp=this.sp;a.fh=this.fh.F();a.ah=this.ah;a.$g=this.$g;a.eh=this.eh;a.dr=this.dr;a.er=this.er;a.fr=this.fr;a.gr=this.gr;a.ra=
this.ra.F();a.Hp=this.Hp;a.Ho=this.Ho.F();a.Iq=this.Iq;a.jk=this.jk;a.K=this.K;a.Hj=this.Hj;a.Lq=this.Lq;a.Kq=this.Kq;a.Mq=this.Mq.F();a.Nq=this.Nq;a.Uo=this.Uo;a.Bh=this.Bh;a.Eh=this.Eh;a.Ch=this.Ch;a.iq=this.iq;a.jq=this.jq;a.Qh=this.Qh;a.Ph=this.Ph;a.Oh=this.Oh;a.gq=this.gq;a.hq=this.hq;a.Nh=this.Nh;a.Wh=this.Wh;a.Dh=this.Dh;a.Bp=this.Bp;a.Do=this.Do;a.Eo=this.Eo;a.Fo=this.Fo;a.Co=this.Co;a.ac=this.ac;a.lm=this.lm;if(Array.isArray(this.Wk)){a.Wk=this.Wk.slice(0);for(var b=0;b<this.Wk.length;b++){var c=
this.Wk[b];a[c]=this[c]}}a.km=this.km};Q.prototype.lh=function(a){a.sd=n;a.ml=n;a.L()};Q.prototype.copy=Q.prototype.copy=function(){var a=new this.constructor;this.qb(a);return a};Q.prototype.toString=function(){return v.dj(Object.getPrototypeOf(this))+"#"+v.qc(this)};var cj;Q.None=cj=v.l(Q,"None",0);var Vg;Q.Default=Vg=v.l(Q,"Default",0);var Jd;Q.Fill=Jd=v.l(Q,"Fill",3);var Wg;Q.Uniform=Wg=v.l(Q,"Uniform",1);var Xg;Q.UniformToFill=Xg=v.l(Q,"UniformToFill",2);var dj;
Q.Vertical=dj=v.l(Q,"Vertical",4);var ej;Q.Horizontal=ej=v.l(Q,"Horizontal",5);Q.prototype.be=function(a,b,c,d,e,g,i){var j=this.ba;if(j!==n&&(j.Xl(a,b,c,d,e,g,i),this.lm&&(c===this&&a===ze)&&(a=this.Kr(),a!==n)))for(c=this.ac.f;c.next();)d=c.value,e=a.data,g=d.uo,g!==n&&(e=a.Ve(g)),e!==n&&(d.aE(this,e,b),g=d.uo,g!==n&&(e=a,""!==g&&(e=a.Ve(g)),e!==n&&(g=d.bm,i=a,""!==g&&(i=a.Ve(g)),i!==n&&d.bE(i,e,b))))};Q.prototype.d=function(a,b,c){this.be(ze,a,this,b,c)};
function fj(a,b,c,d,e){var g=a.Nc,i=a.Pm;i.reset();gj(a,i,b,c,d,e);a.Pm=i;g.x=b;g.y=c;g.width=d;g.height=e;i.Cy()||i.WD(g)}Q.prototype.fC=function(a,b){if(this.qf===p)return p;var c=this.qa,d=a.Yi(b);return sb(a.x,a.y,0,0,0,c.height)<d||sb(a.x,a.y,0,c.height,c.width,c.height)<d||sb(a.x,a.y,c.width,c.height,c.width,0)<d||sb(a.x,a.y,c.width,0,0,0)<d?h:p};
function hj(a,b,c,d){if(a instanceof w)for(var e=a.oa.length;e--;){var g=a.oa.i[e];if(g.visible){var i=g.pa,j=a.pa;i.x>j.width||(i.y>j.height||0>i.x+i.width||0>i.y+i.height)||(hj(g,b,c,d),i=g,b!==n&&(i=b(i)),i&&(c===n||c(i))&&d.add(g))}}}Q.prototype.si=ca(h);
Q.prototype.containsPoint=Q.prototype.ka=function(a){t&&v.c(a,D,Q,"containsPoint:p");var b=Nb(this.transform,a),c=this.pa;if(!c.ca())return p;if(v.tx){var d=this.qa,e=this.Ll()*(this.b!==n?this.b.scale:1),g=1/e;if(10>d.width*e&&10>d.height*e)return Kb(c.x-5*g,c.y-5*g,c.width+10*g,c.height+10*g,b.x,b.y)}return(this.Sd!==f||this instanceof W?Kb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.ka(b))?this.Oo&&!this.Oo.ka(b)?p:this.Qf!==n&&c.ka(b)||this.Rf!==n&&this.vc.ka(a)?h:this.Ui(a):p};
Q.prototype.Ui=function(a){var b=this.qa;return Kb(0,0,b.width,b.height,a.x,a.y)};Q.prototype.containsRect=Q.prototype.Cl=function(a){t&&v.c(a,E,Q,"containsRect:r");if(0===this.Wa)return this.pa.Cl(a);var b=this.qa,b=new E(0,0,b.width,b.height),c=this.transform;return b.ka(c.mi(new D(a.x,a.y)))&&b.ka(c.mi(new D(a.x,a.bottom)))&&b.ka(c.mi(new D(a.right,a.bottom)))&&b.ka(c.mi(new D(a.right,a.y)))};
Q.prototype.containedInRect=Q.prototype.gy=function(a,b){t&&v.c(a,E,Q,"containedInRect:r");if(b===f)return a.Cl(this.pa);var c=this.qa;return!a.ka(b.Hb(new D(0,0)))||!a.ka(b.Hb(new D(0,c.height)))||!a.ka(b.Hb(new D(c.width,c.height)))||!a.ka(b.Hb(new D(c.width,0)))?p:h};
Q.prototype.intersectsRect=Q.prototype.Xe=function(a,b){t&&v.c(a,E,Q,"intersectsRect:r");if(b===f&&(b=this.transform,0===this.Wa))return a.Xe(this.pa);var c=this.qa,d=b,e=new D(0,0),g=new D(0,c.height),i=new D(c.width,c.height),j=new D(c.width,0);if(a.ka(d.Hb(e))||a.ka(d.Hb(g))||a.ka(d.Hb(i))||a.ka(d.Hb(j)))return h;c=new E(0,0,c.width,c.height);return c.ka(d.mi(new D(a.x,a.y)))||c.ka(d.mi(new D(a.x,a.bottom)))||c.ka(d.mi(new D(a.right,a.bottom)))||c.ka(d.mi(new D(a.right,a.y)))||ld(a,e,g)||ld(a,
g,i)||ld(a,i,j)||ld(a,j,e)?h:p};Q.prototype.getDocumentPoint=Q.prototype.Fb=function(a){Yb(a)&&v.g("Spot must be real");var b=this.qa,a=new D(a.x*b.width+a.offsetX,a.y*b.height+a.offsetY);this.ke.Hb(a);return a};Q.prototype.getDocumentAngle=Q.prototype.On=function(){var a=this.ke;return Math.atan2(a.m12,a.m11)*(180/Math.PI)};Q.prototype.getDocumentScale=Q.prototype.Ll=function(){var a=this.Jb;return this.Y!==n?a*this.Y.Ll():a};Q.prototype.getLocalPoint=Q.prototype.lC=function(a){return this.ke.mi(a.copy())};
Q.prototype.getNearestIntersectionPoint=Q.prototype.Vu=function(a,b,c){var d=this.transform.copy();d.Xu();if(this.Zh!==n)return kd(this.pa,a,b,c);if(!(this instanceof w)||this instanceof w&&this.background!==n){var e=Nb(d,a),b=Nb(d,b),a=new D,b=kd(new E(0,0,this.qa.width,this.qa.height),e,b,a),a=Nb(this.transform,a);c.x=a.x;c.y=a.y;return b}if(this instanceof w&&(this.Zh===n||this.Zh===f)){e=this.oa.i;a=Nb(d,a);d=Nb(d,b);c.set(d);for(var g=(d.x-a.x)*(d.x-a.x)+(d.y-a.y)*(d.y-a.y),b=p,i=e.length,j=
new D,k=0;k<i;k++){var l=e[k];l.visible&&l.Vu(a,d,j)&&(b=h,l=(a.x-j.x)*(a.x-j.x)+(a.y-j.y)*(a.y-j.y),l<g&&(g=l,c.set(j)))}c.transform(this.transform);return b}v.g("Unknown GraphObject case");return p};
function xh(a,b,c,d,e){if(a.ec!==p){var g=a.margin,i=g.top+g.bottom,b=Math.max(b-(g.right+g.left),0),c=Math.max(c-i,0),g=a.ta,i=0;a.Ya&&(i=a.Ya);var b=isFinite(g.width)?g.width+i:b,c=isFinite(g.height)?g.height+i:c,g=d,i=e,j=a instanceof w;switch(ij(a)){case cj:i=g=0;j&&(c=b=Infinity);break;case Jd:isFinite(b)&&b>d&&(g=b);isFinite(c)&&c>e&&(i=c);break;case ej:isFinite(b)&&b>d&&(g=b);i=0;j&&(c=Infinity);break;case dj:isFinite(c)&&c>e&&(i=c),g=0,j&&(b=Infinity)}var j=a.Ld,k=a.ae;g>j.width&&k.width<
j.width&&(g=j.width);i>j.height&&k.height<j.height&&(i=j.height);d=Math.max(g/a.scale,k.width);e=Math.max(i/a.scale,k.height);j.width<d&&(d=Math.min(k.width,d));j.height<e&&(e=Math.min(k.height,e));b=Math.min(j.width,b);c=Math.min(j.height,c);b=Math.max(d,b);c=Math.max(e,c);g=a.Wa;if(90===g||270===g)g=b,b=c,c=g,g=d,d=e,e=g;a.Nc.wa();a.$r(b,c,d,e);a.Nc.freeze();a.Nc.ca()||v.g("Non-real measuredBounds has been set");a.ec=p}}ea=Q.prototype;
ea.Bc=function(a,b,c,d,e){jj(this);var g=this.XA;g.set(this.lb);this.lb.wa();if(this.Kc===p){var i=this.lb;i.x=a;i.y=b;i.width=c;i.height=d}else this.Si(a,b,c,d);this.lb.freeze();this.Oo=e===f?n:e;e!==f?this.No=h:this.Y&&(c=this.Y.vc,d=this.ua,this.Zh!==n&&(d=this.lb),e=b+d.height,i=a+d.width,this.No=!(0<=a&&i<=c.width&&0<=b&&e<=c.height),this instanceof xa&&(this.vt>d.height&&(this.No=h),this.Om.pi>d.width&&(this.No=h)));this.lb.ca()||v.g("Non-real actualBounds has been set");kj(this,g,this.lb)};
ea.Si=aa();function lj(a,b,c,d,e){var g=a.pa;g.x=b;g.y=c;g.width=d;g.height=e;if(!a.ta.ca()){var g=a.Nc,c=a.margin,b=c.right+c.left,i=c.top+c.bottom,c=g.width+b,g=g.height+i,d=d+b,e=e+i,b=ij(a);c===d&&g===e&&(b=cj);switch(b){case cj:if(c>d||g>e)a.ec=h,xh(a,c>d?d:c,g>e?e:g);break;case Jd:a.ec=h;xh(a,d,e,0,0);break;case ej:a.ec=h;xh(a,d,g,0,0);break;case dj:a.ec=h,xh(a,c,e,0,0)}}}
function kj(a,b,c){a.Kc=p;var d=a.ba;if(d!==n){var e=d.b;if(e!==n)if(mj(d),a instanceof R){d=p;if(e.Tj===p){var g=e.oc,i=e.padding,e=g.x+i.left,j=g.y+i.top,k=g.width-2*i.right,g=g.height-2*i.bottom;b.ca()&&(b.x>e&&b.y>j&&b.right<k&&b.bottom<g&&c.x>e&&c.y>j&&c.right<k&&c.bottom<g)&&(d=h)}(a.Lt===h||!b.z(c))&&Bi(a,d)}else if(nj(a,d),oj(a),b=a.ba,b!==n&&(b.mk===a||b.rl===a||b.sl===a))b.Lt=h}}function nj(a,b){a.te!==n&&(b.Lt=h);if(a instanceof w)for(var c=a.oa,d=c.length,e=0;e<d;e++)nj(c.i[e],b)}
ea.sg=function(a,b){if(this.hh)if(this instanceof w&&(this.type===pj||this.type===qj)){var c=this.lb;0===c.width||(0===c.height||isNaN(c.x)||isNaN(c.y))||(this.Qf!==n&&(rj(this,a,this.Qf,h,h),a.fillRect(c.x,c.y,c.width,c.height)),this.Rf!==n&&(rj(this,a,this.Rf,h),a.fillRect(c.x,c.y,c.width,c.height)),this.Gn(a,b))}else{var d=p;if(this instanceof R){d=h;if(!this.ib())return;if(this.ag){var e=this.$m;a.shadowOffsetX=e.x*b.scale;a.shadowOffsetY=e.y*b.scale;a.shadowColor=this.Zm;a.shadowBlur=this.Ym}}var g=
p;this.ba&&(g=this.ba.Rl);c=this.lb;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){t&&(t.vr&&!(this instanceof sf))&&t.KF(a,this);var e=this.transform,i=this.Y,j=this.sj;j.reset();i!==n&&(i.si()?j.multiply(i.ke):i.Y!==n&&j.multiply(i.Y.ke));j.multiply(this.ud);if(j=this.No){t&&t.$B&&t.trace("clip"+this.toString());var k=i.si()?i.qa:i.pa;if(this.Oo)var l=this.Oo,m=Math.max(l.x,Math.max(c.x,k.x)),q=Math.max(l.y,Math.max(c.y,k.y)),r=Math.abs(m-Math.min(l.right,Math.min(c.right,k.right))),l=
Math.abs(q-Math.min(l.bottom,Math.min(c.bottom,k.bottom)));else m=Math.max(c.x,k.x),q=Math.max(c.y,k.y),r=Math.min(c.right,k.right)-m,l=Math.min(c.bottom,k.bottom)-q;if(m>c.width+c.x||c.x>k.width+k.x||q>c.height+c.y||c.y>k.height+k.y)return;t&&t.$B&&t.MF(a,m,q,r,l);a.save();a.beginPath();a.rect(m,q,r,l);a.clip()}this.Qf!==n&&(rj(this,a,this.Qf,h,h),a.fillRect(c.x,c.y,c.width,c.height));e.Cy()||a.transform(e.m11,e.m12,e.m21,e.m22,e.Na,e.Oa);this.Rf!==n&&(q=this.qa,k=c=0,m=q.width,q=q.height,r=0,this instanceof
W&&(q=this.Ba.rb,c=q.x,k=q.y,m=q.width,q=q.height,r=this.Qd),rj(this,a,this.Rf,h),a.fillRect(c-r/2,k-r/2,m+r,q+r));t&&t.vr&&t.LF(a,this);if(g&&(this.Rf!==n||this.Qf!==n||i!==n&&i.km||i!==n&&i.type===Vh&&i.ar!==this)){this.km=h;var u=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}else this.km=p;this.Gn(a,b);g&&this.km===h&&(a.shadowOffsetX=u[0],a.shadowOffsetY=u[1],a.shadowBlur=u[2]);d&&g&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);j?(a.restore(),
$h(b,a)):e.Cy()||(d=1/(e.m11*e.m22-e.m12*e.m21),a.transform(e.m22*d,-e.m12*d,-e.m21*d,e.m11*d,d*(e.m21*e.Oa-e.m22*e.Na),d*(e.m12*e.Na-e.m11*e.Oa)))}}};ea.Gn=aa();ea.zg=function(){var a=this.b;if(a!==n){Ti(a,"naturalBounds",this.qa);Ti(a,"actualBounds",this.pa);0!==this.Wa&&Ti(a,"angle",this.Wa);1!==this.scale&&Ti(a,"scale",this.scale);var b=this.ke;Ti(a,"allTransforms",[b.m11,b.m12,b.m21,b.m22,b.Na,b.Oa]);this.background!==n&&Ti(a,"background",this.background);this.Zh!==n&&Ti(a,"areaBackground",this.Zh)}};
function rj(a,b,c,d,e){if(c!==n)if("string"===typeof c)d?b.Pk!==c&&(b.fillStyle=c,b.Pk=c):b.hm!==c&&(b.strokeStyle=c,b.hm=c);else if(c.type===Re)c=c.color,d?b.Pk!==c&&(b.fillStyle=c,b.Pk=c):b.hm!==c&&(b.strokeStyle=c,b.hm=c);else{var g,i=a.qa,j=i.width,i=i.height;if(c.Wf&&c.type===$i||c.Mz==j&&c.Lz==i)g=c.Wf;else{var k,l,m,q=m=0;e&&(a=a.pa,j=a.width,i=a.height,m=a.x,q=a.y);c.start instanceof D?(a=c.start.x,e=c.start.y):c.start instanceof G?(a=c.start.x*j,e=c.start.y*i):(a=jc.x*j,e=jc.y*i);c.end instanceof
D?(k=c.end.x,l=c.end.y):c.end instanceof G?(k=c.end.x*j,l=c.end.y*i):c.type===Se?(k=lc.x*j,l=lc.y*i):(k=jc.x*j,l=jc.y*i);a+=m;k+=m;e+=q;l+=q;c.type===Se?g=b.createLinearGradient(a,e,k,l):c.type===Te?(m=isNaN(c.Hn)?Math.max(j,i)/2:c.Hn,isNaN(c.vo)?(g=0,m=Math.max(j,i)/2):g=c.vo,g=b.createRadialGradient(a,e,g,k,l,m)):c.type===$i?g=b.createPattern(c.pattern,"repeat"):v.Fc(c.type,"Brush type");if(c.type!==$i&&(m=c.Cn))for(m=m.f;m.next();)g.addColorStop(m.key,m.value);c.Wf=g;c.Mz=j;c.Lz=i}d?b.Pk!==g&&
(b.fillStyle=g,b.Pk=g):b.hm!==g&&(b.strokeStyle=g,b.hm=g)}}Q.prototype.isContainedBy=Q.prototype.ni=function(a){if(a instanceof w)a:{if(!(this===a||a===n))for(var b=this.Y;b!==n;){if(b===a){a=h;break a}b=b.Y}a=p}else a=p;return a};Q.prototype.isVisibleObject=Q.prototype.Ak=function(){if(!this.visible)return p;var a=this.Y;return a!==n?a.Ak():h};
function sj(a){if(a.Hm===h){var b=a.ud;b.reset();if(!a.lb.ca()||!a.Nc.ca()){a.Hm=p;return}b.translate(a.lb.x,a.lb.y);b.translate(-a.ua.x,-a.ua.y);var c=a.qa;gj(a,b,c.x,c.y,c.width,c.height);a.Hm=p;a.al=h}a.al===h&&(a.Y===n?(a.sj.set(a.ud),a.al=p):a.Y.ke!==n&&(b=a.sj,b.reset(),b.multiply(a.Y.sj),b.multiply(a.ud),a.al=p))}
function gj(a,b,c,d,e,g){1!==a.scale&&b.scale(a.scale);if(0!==a.Wa){var i=jc;a.Ef&&Wb(a.Ef)&&(i=a.Ef);var j=new D;if(a instanceof R&&a.Gb!==a){c=a.Gb;d=c.qa;j.$l(d.x,d.y,d.width,d.height,i);c.Pm.Hb(j);j.offset(-c.ua.x,-c.ua.y);for(i=c.Y;i!==n&&i!==a;)i.Pm.Hb(j),j.offset(-i.ua.x,-i.ua.y),i=i.Y}else j.$l(c,d,e,g,i);b.rotate(a.Wa,j.x,j.y)}}
Q.prototype.L=function(){if(this.ec!==h){this.Kc=this.ec=h;if(this.Y!==n)this.Y.ec=p,this.Y.L();else{var a=this.b;a!==n&&(a.Og.add(this),this instanceof S&&!a.ia.hb&&this.Af(),wf(a))}if(this instanceof w)for(var a=this.M===Vh,b=this.oa.i,c=b.length,d=0;d<c;d++){var e=b[d];(a||!e.ta.ca()||ij(e)!==cj)&&e.L()}oj(this)}};function tj(a){if(a.ec===p&&(a.ec=h,a.Kc=h,a instanceof w))for(var a=a.oa.i,b=a.length,c=0;c<b;c++)tj(a[c])}
function uj(a){if(a.Kc===p){if(a.Y!==n)uj(a.Y);else{var b=a.b;b!==n&&(b.Og.add(a),a instanceof S&&a.Af(),wf(b))}a.Kc=h}}function jj(a){if(a.Hm===p&&(a.Hm=h,a.al=h,a instanceof w))for(a=a.elements;a.next();)vj(a.value)}function vj(a){a.al=h;if(a instanceof w)for(a=a.elements;a.next();)vj(a.value)}function oj(a){if(a.Y!==n)oj(a.Y);else{var b=a.b;b!==n&&a.lb.ca()&&Ch(b,a.lb)}}
function ij(a){var b=a.wh,c=a.Y;if(c&&c.M===ja)return wj(a,c.wd(a.Yb),c.wd(a.nc));if(c&&c.M===Vh&&c.ar===a)return Jd;if(b===Vg){if(c){if(c.ar===a)return Jd;a=c.ky;return a===Vg?cj:a}return cj}return b}function wj(a,b,c){var d=a.wh;if(d!==Vg)return d;var e=d=f;switch(b.wh){case dj:e=h;break;case Jd:e=h}switch(c.wh){case ej:d=h;break;case Jd:d=h}a=a.Y.ky;d=d===f&&(a===ej||a===Jd)?h:p;e=e===f&&(a===dj||a===Jd)?h:p;return d===h&&e===h?Jd:d===h?ej:e===h?dj:cj}v.a(Q,"segmentOrientation",Q.prototype.ns);
v.defineProperty(Q,{ns:"segmentOrientation"},s("Nq"),function(a){var b=this.Nq;b!==a&&(t&&v.Za(a,V,Q,"segmentOrientation"),this.Nq=a,this.L(),this.d("segmentOrientation",b,a))});v.a(Q,"segmentIndex",Q.prototype.vh);v.defineProperty(Q,{vh:"segmentIndex"},s("Lq"),function(a){t&&v.e(a,"number",Q,"segmentIndex");var a=Math.round(a),b=this.Lq;b!==a&&(this.Lq=a,this.L(),this.d("segmentIndex",b,a))});v.a(Q,"segmentFraction",Q.prototype.dz);
v.defineProperty(Q,{dz:"segmentFraction"},s("Kq"),function(a){t&&v.e(a,"number",Q,"segmentFraction");isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.Kq;b!==a&&(this.Kq=a,this.L(),this.d("segmentFraction",b,a))});v.a(Q,"segmentOffset",Q.prototype.ez);v.defineProperty(Q,{ez:"segmentOffset"},s("Mq"),function(a){var b=this.Mq;b.z(a)||(t&&v.c(a,D,Q,"segmentOffset"),this.Mq=a=a.F(),this.L(),this.d("segmentOffset",b,a))});v.a(Q,"stretch",Q.prototype.wh);
v.defineProperty(Q,{wh:"stretch"},s("Yg"),function(a){var b=this.Yg;b!==a&&(t&&v.Za(a,Q,Q,"stretch"),this.Yg=a,this.L(),this.d("stretch",b,a))});v.a(Q,"name",Q.prototype.name);v.defineProperty(Q,{name:"name"},s("Db"),function(a){var b=this.Db;b!==a&&(t&&v.e(a,"string",Q,"name"),this.Db=a,this.d("name",b,a))});v.a(Q,"visible",Q.prototype.visible);
v.defineProperty(Q,{visible:"visible"},s("hh"),function(a){var b=this.hh;b!==a&&(t&&v.e(a,"boolean",Q,"visible"),this.hh=a,this.d("visible",b,a),b=this.Y,b!==n?b.L():this instanceof R&&(this.L(),mj(this),a?(this.v(yj),this.ti()):(this.v(Gj),this.jh())),oj(this),Jj(this))});v.a(Q,"areaBackground",Q.prototype.Zh);
v.defineProperty(Q,{Zh:"areaBackground"},s("Qf"),function(a){var b=this.Qf;if(b!==a&&(a===n||"string"===typeof a||a instanceof Ge))a instanceof Ge&&a.freeze(),this.Qf=a,oj(this),this.d("areaBackground",b,a)});v.a(Q,"background",Q.prototype.background);v.defineProperty(Q,{background:"background"},s("Rf"),function(a){var b=this.Rf;if(b!==a&&(a===n||"string"===typeof a||a instanceof Ge))a instanceof Ge&&a.freeze(),this.Rf=a,oj(this),this.d("background",b,a)});
v.m(Q,{ba:"part"},function(){if(this instanceof R)return this;if(this.ml)return this.ml;var a;for(a=this.Y;a;){if(a instanceof R)return this.ml=a;a=a.Y}return n});Q.prototype.Gk=ba("ek");v.m(Q,{Y:"panel"},s("ek"));v.m(Q,{za:"layer"},function(){var a=this.ba;return a!==n?a.za:n});v.m(Q,{b:"diagram"},function(){var a=this.ba;return a!==n?a.b:n},{configurable:h});v.a(Q,"position",Q.prototype.position);
v.defineProperty(Q,{position:"position"},s("ob"),function(a){var b=this.ob;if(!b.z(a)){t&&v.c(a,D,Q,"position");if(this instanceof R){if(!a.ca())return;var c=this.Fi,d=this.rt,e=c.copy();c.Ed(a.x+d.x,a.y+d.y);c.z(e)||this.d("location",e,c);if(this.Kc===p){this.ob=a=a.F();Kj(this);jj(this);this.d("position",b,a);return}}this.ob=a=a.F();uj(this);jj(this);this.d("position",b,a)}});v.m(Q,{pa:"actualBounds"},s("lb"));v.a(Q,"scale",Q.prototype.scale);
v.defineProperty(Q,{scale:"scale"},s("Jb"),function(a){var b=this.Jb;b!==a&&(t&&v.j(a,Q,"scale"),0>=a&&v.g("GraphObject.scale must be greater than zero"),this.Jb=a,jj(this),this.L(),this.d("scale",b,a))});v.a(Q,"angle",Q.prototype.Wa);v.defineProperty(Q,{Wa:"angle"},s("$b"),function(a){var b=this.$b;b!==a&&(t&&v.j(a,Q,"angle"),this.$b=a,this.L(),jj(this),this.d("angle",b,a))});v.a(Q,"desiredSize",Q.prototype.ta);
v.defineProperty(Q,{ta:"desiredSize"},s("ee"),function(a){var b=this.ee;b.z(a)||(t&&v.c(a,J,Q,"desiredSize"),this.ee=a=a.F(),this.L(),this instanceof W&&this.Bf(),this.d("desiredSize",b,a))});v.a(Q,"width",Q.prototype.width);v.defineProperty(Q,{width:"width"},function(){return this.ee.width},function(a){if(this.ee.width!==a){t&&v.e(a,"number",Q,"width");var b=this.ee;this.ee=a=(new J(a,this.ee.height)).freeze();this.L();this instanceof W&&this.Bf();this.d("desiredSize",b,a)}});v.a(Q,"height",Q.prototype.height);
v.defineProperty(Q,{height:"height"},function(){return this.ee.height},function(a){if(this.ee.height!==a){t&&v.e(a,"number",Q,"height");var b=this.ee;this.ee=a=(new J(this.ee.width,a)).freeze();this.L();this instanceof W&&this.Bf();this.d("desiredSize",b,a)}});v.a(Q,"minSize",Q.prototype.ae);
v.defineProperty(Q,{ae:"minSize"},s("Cd"),function(a){var b=this.Cd;b.z(a)||(t&&v.c(a,J,Q,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Cd=a,this.L(),this.d("minSize",b,a))});v.a(Q,"maxSize",Q.prototype.Ld);v.defineProperty(Q,{Ld:"maxSize"},s("Hi"),function(a){var b=this.Hi;b.z(a)||(t&&v.c(a,J,Q,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.Hi=a,this.L(),this.d("maxSize",b,a))});
v.m(Q,{ua:"measuredBounds"},s("Nc"));v.m(Q,{qa:"naturalBounds"},s("vc"),{configurable:h});v.a(Q,"margin",Q.prototype.margin);v.defineProperty(Q,{margin:"margin"},s("$p"),function(a){"number"===typeof a?a=new Ib(a):t&&v.c(a,Ib,Q,"margin");var b=this.$p;b.z(a)||(this.$p=a=a.F(),this.L(),this.d("margin",b,a))});v.m(Q,{transform:n},function(){this.Hm===h&&sj(this);return this.ud});v.m(Q,{ke:n},function(){this.al===h&&sj(this);return this.sj});v.a(Q,"alignment",Q.prototype.vb);
v.defineProperty(Q,{vb:"alignment"},s("ra"),function(a){var b=this.ra;b.z(a)||(t?v.c(a,G,Q,"alignment"):Yb(a)&&!Zb(a)&&v.g("alignment must be a real Spot or Spot.Default"),this.ra=a=a.F(),uj(this),this.d("alignment",b,a))});v.a(Q,"column",Q.prototype.nc);v.defineProperty(Q,{nc:"column"},s("K"),function(a){t&&v.j(a,Q,"column");var a=Math.round(a),b=this.K;b!==a&&(0>a&&v.ha(a,">= 0",Q,"column"),this.K=a,this.L(),this.d("column",b,a))});v.a(Q,"columnSpan",Q.prototype.yB);
v.defineProperty(Q,{yB:"columnSpan"},s("Hj"),function(a){t&&v.j(a,Q,"columnSpan");var a=Math.round(a),b=this.Hj;b!==a&&(1>a&&v.ha(a,">= 1",Q,"columnSpan"),this.Hj=a,this.L(),this.d("columnSpan",b,a))});v.a(Q,"row",Q.prototype.Yb);v.defineProperty(Q,{Yb:"row"},s("Iq"),function(a){t&&v.j(a,Q,"row");var a=Math.round(a),b=this.Iq;b!==a&&(0>a&&v.ha(a,">= 0",Q,"row"),this.Iq=a,this.L(),this.d("row",b,a))});v.a(Q,"rowSpan",Q.prototype.rowSpan);
v.defineProperty(Q,{rowSpan:"rowSpan"},s("jk"),function(a){t&&v.j(a,Q,"rowSpan");var a=Math.round(a),b=this.jk;b!==a&&(1>a&&v.ha(a,">= 1",Q,"rowSpan"),this.jk=a,this.L(),this.d("rowSpan",b,a))});v.a(Q,"isPanelMain",Q.prototype.gj);v.defineProperty(Q,{gj:"isPanelMain"},s("Hp"),function(a){var b=this.Hp;b!==a&&(t&&v.e(a,"boolean",Q,"isPanelMain"),this.Hp=a,this.L(),this.d("isPanelMain",b,a))});v.a(Q,"alignmentFocus",Q.prototype.Qi);
v.defineProperty(Q,{Qi:"alignmentFocus"},s("Ho"),function(a){var b=this.Ho;b.z(a)||(t?v.c(a,G,Q,"alignmentFocus"):Yb(a)&&!Zb(a)&&v.g("alignmentFocus must be a real Spot or Spot.Default"),this.Ho=a=a.F(),this.L(),this.d("alignmentFocus",b,a))});v.a(Q,"portId",Q.prototype.te);
v.defineProperty(Q,{te:"portId"},s("tq"),function(a){var b=this.tq;if(b!==a){t&&a!==n&&v.e(a,"string",Q,"portId");var c=this.ba;c!==n&&!(c instanceof S)&&(v.g("portID being set on a Link: "+a),c=n);b!==n&&c&&Lj(c,this);this.tq=a;a!==n&&c&&(c.xc===n&&Mj(c),Nj(c,this));this.d("portId",b,a)}});function Oj(a){var b={value:n};Pj(a,b);return b.value}function Pj(a,b){var c=a.Y;return c===n||!Pj(c,b)&&a.visible?(b.value=a,p):h}function Jj(a){var b=a.ba;b instanceof S&&(a=a.b)&&!a.ia.hb&&b.Af()}
v.a(Q,"toSpot",Q.prototype.eb);v.defineProperty(Q,{eb:"toSpot"},s("fh"),function(a){var b=this.fh;b.z(a)||(t&&v.c(a,G,Q,"toSpot"),this.fh=a=a.F(),this.d("toSpot",b,a),Jj(this))});v.a(Q,"toEndSegmentLength",Q.prototype.Ik);v.defineProperty(Q,{Ik:"toEndSegmentLength"},s("ah"),function(a){var b=this.ah;b!==a&&(t&&v.e(a,"number",Q,"toEndSegmentLength"),0>a&&v.ha(a,">= 0",Q,"toEndSegmentLength"),this.ah=a,this.d("toEndSegmentLength",b,a),Jj(this))});v.a(Q,"toEndSegmentDirection",Q.prototype.us);
v.defineProperty(Q,{us:"toEndSegmentDirection"},s("$g"),function(a){var b=this.$g;b!==a&&(t&&v.Za(a,S,Q,"toEndSegmentDirection"),this.$g=a,this.d("toEndSegmentDirection",b,a),Jj(this))});v.a(Q,"toShortLength",Q.prototype.vs);v.defineProperty(Q,{vs:"toShortLength"},s("eh"),function(a){var b=this.eh;b!==a&&(t&&v.e(a,"number",Q,"toShortLength"),this.eh=a,this.d("toShortLength",b,a),Jj(this))});v.a(Q,"toLinkable",Q.prototype.rz);
v.defineProperty(Q,{rz:"toLinkable"},s("dr"),function(a){var b=this.dr;b!==a&&(t&&a!==n&&v.e(a,"boolean",Q,"toLinkable"),this.dr=a,this.d("toLinkable",b,a))});v.a(Q,"toLinkableDuplicates",Q.prototype.OD);v.defineProperty(Q,{OD:"toLinkableDuplicates"},s("er"),function(a){var b=this.er;b!==a&&(t&&v.e(a,"boolean",Q,"toLinkableDuplicates"),this.er=a,this.d("toLinkableDuplicates",b,a))});v.a(Q,"toLinkableSelfNode",Q.prototype.PD);
v.defineProperty(Q,{PD:"toLinkableSelfNode"},s("fr"),function(a){var b=this.fr;b!==a&&(t&&v.e(a,"boolean",Q,"toLinkableSelfNode"),this.fr=a,this.d("toLinkableSelfNode",b,a))});v.a(Q,"toMaxLinks",Q.prototype.QD);v.defineProperty(Q,{QD:"toMaxLinks"},s("gr"),function(a){var b=this.gr;b!==a&&(t&&v.j(a,Q,"toMaxLinks"),0>a&&v.ha(a,">= 0",Q,"toMaxLinks"),this.gr=a,this.d("toMaxLinks",b,a))});v.a(Q,"fromSpot",Q.prototype.bb);
v.defineProperty(Q,{bb:"fromSpot"},s("Mg"),function(a){var b=this.Mg;b.z(a)||(t&&v.c(a,G,Q,"fromSpot"),this.Mg=a=a.F(),this.d("fromSpot",b,a),Jj(this))});v.a(Q,"fromEndSegmentLength",Q.prototype.xk);v.defineProperty(Q,{xk:"fromEndSegmentLength"},s("Ig"),function(a){var b=this.Ig;b!==a&&(t&&v.e(a,"number",Q,"fromEndSegmentLength"),0>a&&v.ha(a,">= 0",Q,"fromEndSegmentLength"),this.Ig=a,this.d("fromEndSegmentLength",b,a),Jj(this))});v.a(Q,"fromEndSegmentDirection",Q.prototype.Mr);
v.defineProperty(Q,{Mr:"fromEndSegmentDirection"},s("Hg"),function(a){var b=this.Hg;b!==a&&(t&&v.Za(a,S,Q,"fromEndSegmentDirection"),this.Hg=a,this.d("fromEndSegmentDirection",b,a),Jj(this))});v.a(Q,"fromShortLength",Q.prototype.Nr);v.defineProperty(Q,{Nr:"fromShortLength"},s("Lg"),function(a){var b=this.Lg;b!==a&&(t&&v.e(a,"number",Q,"fromShortLength"),this.Lg=a,this.d("fromShortLength",b,a),Jj(this))});v.a(Q,"fromLinkable",Q.prototype.ty);
v.defineProperty(Q,{ty:"fromLinkable"},s("pp"),function(a){var b=this.pp;b!==a&&(t&&a!==n&&v.e(a,"boolean",Q,"fromLinkable"),this.pp=a,this.d("fromLinkable",b,a))});v.a(Q,"fromLinkableDuplicates",Q.prototype.gC);v.defineProperty(Q,{gC:"fromLinkableDuplicates"},s("qp"),function(a){var b=this.qp;b!==a&&(t&&v.e(a,"boolean",Q,"fromLinkableDuplicates"),this.qp=a,this.d("fromLinkableDuplicates",b,a))});v.a(Q,"fromLinkableSelfNode",Q.prototype.hC);
v.defineProperty(Q,{hC:"fromLinkableSelfNode"},s("rp"),function(a){var b=this.rp;b!==a&&(t&&v.e(a,"boolean",Q,"fromLinkableSelfNode"),this.rp=a,this.d("fromLinkableSelfNode",b,a))});v.a(Q,"fromMaxLinks",Q.prototype.iC);v.defineProperty(Q,{iC:"fromMaxLinks"},s("sp"),function(a){var b=this.sp;b!==a&&(t&&v.j(a,Q,"fromMaxLinks"),0>a&&v.ha(a,">= 0",Q,"fromMaxLinks"),this.sp=a,this.d("fromMaxLinks",b,a))});v.a(Q,"cursor",Q.prototype.cursor);
v.defineProperty(Q,{cursor:"cursor"},s("Uo"),function(a){var b=this.Uo;b!==a&&(v.e(a,"string",Q,"cursor"),this.Uo=a,this.d("cursor",b,a))});v.a(Q,"click",Q.prototype.click);v.defineProperty(Q,{click:"click"},s("Bh"),function(a){var b=this.Bh;b!==a&&(a!==n&&v.e(a,"function",Q,"click"),this.Bh=a,this.d("click",b,a))});v.a(Q,"doubleClick",Q.prototype.Hl);
v.defineProperty(Q,{Hl:"doubleClick"},s("Eh"),function(a){var b=this.Eh;b!==a&&(a!==n&&v.e(a,"function",Q,"doubleClick"),this.Eh=a,this.d("doubleClick",b,a))});v.a(Q,"contextClick",Q.prototype.Ar);v.defineProperty(Q,{Ar:"contextClick"},s("Ch"),function(a){var b=this.Ch;b!==a&&(a!==n&&v.e(a,"function",Q,"contextClick"),this.Ch=a,this.d("contextClick",b,a))});v.a(Q,"mouseEnter",Q.prototype.Ry);
v.defineProperty(Q,{Ry:"mouseEnter"},s("iq"),function(a){var b=this.iq;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseEnter"),this.iq=a,this.d("mouseEnter",b,a))});v.a(Q,"mouseLeave",Q.prototype.Sy);v.defineProperty(Q,{Sy:"mouseLeave"},s("jq"),function(a){var b=this.jq;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseLeave"),this.jq=a,this.d("mouseLeave",b,a))});v.a(Q,"mouseOver",Q.prototype.es);
v.defineProperty(Q,{es:"mouseOver"},s("Qh"),function(a){var b=this.Qh;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseOver"),this.Qh=a,this.d("mouseOver",b,a))});v.a(Q,"mouseHover",Q.prototype.ds);v.defineProperty(Q,{ds:"mouseHover"},s("Ph"),function(a){var b=this.Ph;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseHover"),this.Ph=a,this.d("mouseHover",b,a))});v.a(Q,"mouseHold",Q.prototype.cs);
v.defineProperty(Q,{cs:"mouseHold"},s("Oh"),function(a){var b=this.Oh;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseHold"),this.Oh=a,this.d("mouseHold",b,a))});v.a(Q,"mouseDragEnter",Q.prototype.WC);v.defineProperty(Q,{WC:"mouseDragEnter"},s("gq"),function(a){var b=this.gq;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseDragEnter"),this.gq=a,this.d("mouseDragEnter",b,a))});v.a(Q,"mouseDragLeave",Q.prototype.Qy);
v.defineProperty(Q,{Qy:"mouseDragLeave"},s("hq"),function(a){var b=this.hq;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseDragLeave"),this.hq=a,this.d("mouseDragLeave",b,a))});v.a(Q,"mouseDrop",Q.prototype.bs);v.defineProperty(Q,{bs:"mouseDrop"},s("Nh"),function(a){var b=this.Nh;b!==a&&(a!==n&&v.e(a,"function",Q,"mouseDrop"),this.Nh=a,this.d("mouseDrop",b,a))});v.a(Q,"actionDown",Q.prototype.Kx);
v.defineProperty(Q,{Kx:"actionDown"},s("Do"),function(a){var b=this.Do;b!==a&&(a!==n&&v.e(a,"function",Q,"actionDown"),this.Do=a,this.d("actionDown",b,a))});v.a(Q,"actionUp",Q.prototype.Mx);v.defineProperty(Q,{Mx:"actionUp"},s("Fo"),function(a){var b=this.Fo;b!==a&&(a!==n&&v.e(a,"function",Q,"actionUp"),this.Fo=a,this.d("actionUp",b,a))});v.a(Q,"actionMove",Q.prototype.Lx);
v.defineProperty(Q,{Lx:"actionMove"},s("Eo"),function(a){var b=this.Eo;b!==a&&(a!==n&&v.e(a,"function",Q,"actionMove"),this.Eo=a,this.d("actionMove",b,a))});v.a(Q,"actionCancel",Q.prototype.Jx);v.defineProperty(Q,{Jx:"actionCancel"},s("Co"),function(a){var b=this.Co;b!==a&&(a!==n&&v.e(a,"function",Q,"actionCancel"),this.Co=a,this.d("actionCancel",b,a))});v.a(Q,"toolTip",Q.prototype.ws);
v.defineProperty(Q,{ws:"toolTip"},s("Wh"),function(a){var b=this.Wh;b!==a&&(a!==n&&v.c(a,sf,Q,"toolTip"),this.Wh=a,this.d("toolTip",b,a))});v.a(Q,"contextMenu",Q.prototype.contextMenu);v.defineProperty(Q,{contextMenu:"contextMenu"},s("Dh"),function(a){var b=this.Dh;b!==a&&(a!==n&&v.c(a,sf,Q,"contextMenu"),this.Dh=a,this.d("contextMenu",b,a))});v.a(Q,"isActionable",Q.prototype.Yu);
v.defineProperty(Q,{Yu:"isActionable"},s("Bp"),function(a){var b=this.Bp;b!==a&&(v.e(a,"boolean",Q,"isActionable"),this.Bp=a,this.d("isActionable",b,a))});v.a(Q,"pickable",Q.prototype.dD);v.defineProperty(Q,{dD:"pickable"},s("qf"),function(a){var b=this.qf;b!==a&&(v.e(a,"boolean",Q,"pickable"),this.qf=a,this.d("pickable",b,a))});
Q.prototype.bind=Q.prototype.bind=function(a){a.tf=this;var b=this.Kr();b!==n&&Qj(b)&&v.g("Cannot add a Binding to a template that has already been copied: "+a);this.ac===n&&(this.ac=new z(Ye));this.ac.add(a)};Q.prototype.findTemplateBinder=Q.prototype.Kr=function(){for(var a=this instanceof w?this:this.Y;a!==n;){if(a.Sk!==n&&a instanceof w)return a;a=a.Y}return n};var Rj;
Q.make=Rj=function(a,b){var c=n,d=n;if("function"===typeof a)d=a;else if("string"===typeof a){var e=Sj.ga(a);"function"===typeof e?c=e():d=fa[a]}c===n&&(d===f&&(c=window.$,c!==f&&c.noop!==f&&v.g("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),v.g("GraphObject.make failed to complete, it may be conflicting with another var.")),(d===n||!d.constructor)&&v.g("GraphObject.make requires a class function or class name, not: "+a),c=new d);e=1;c instanceof A&&
1<arguments.length&&(d=arguments[1],"string"===typeof d||d instanceof HTMLDivElement?(c.gi=n,Th(c,d),e++):v.g("Unknown argument to Diagram constructor: "+d));for(;e<arguments.length;e++)if(d=arguments[e],"string"===typeof d)if(c instanceof xa)c.text=d;else if(c instanceof W)c.ab=d;else if(c instanceof Tj)c.source=d;else if(c instanceof w){var g=v.Jl(w,d);g!==n?c.type=g:v.g("Unknown Panel type as an argument to GraphObject.make: "+d)}else c instanceof Ge?(g=v.Jl(Ge,d),g!==n?c.type=g:v.g("Unknown Brush type as an argument to GraphObject.make: "+
d)):c instanceof Ed?(g=v.Jl(Ed,d),g!==n?c.type=g:v.g("Unknown Geometry type as an argument to GraphObject.make: "+d)):c instanceof ue?(g=v.Jl(ue,d),g!==n?c.type=g:v.g("Unknown PathSegment type as an argument to GraphObject.make: "+d)):v.g("Unable to use a string as an argument to GraphObject.make: "+d);else if(d instanceof Q)c instanceof w||v.g("A GraphObject can only be added to a Panel, not to: "+c),c.add(d);else if(d instanceof Uj)c instanceof w||v.g("A RowColumnDefinition can only be added to a Panel, not to: "+
c),g=d.bv?c.Xd(d.index):c.wd(d.index),v.c(d,Uj,Uj,"copyFrom:pd"),d.bv?g.height=d.height:g.width=d.width,g.Ff=d.Ff,g.Md=d.Md,g.vb=d.vb,g.qs=d.qs,g.ac=d.ac;else if(d instanceof pa)c instanceof V&&d.Vd===V?d===Xf||d===Bh?c.cf=d:d===Vj||d===Wj||d===Xj?c.Re=d:d===Yj||d===Zj||d===$j?c.wu=d:d===ak||d===bj||v.g("Unknown Link enum value for a Link property: "+d):c instanceof w&&d.Vd===w?c.type=d:c instanceof xa&&d.Vd===xa?c.xz=d:c instanceof Q&&d.Vd===V?0===d.name.indexOf("Orient")?c.ns=d:v.g("Unknown Link enum value for GraphObject.segmentOrientation property: "+
d):c instanceof Q&&d.Vd===Q?c.wh=d:c instanceof A&&d.Vd===A?c.Tx=d:c instanceof Ge&&d.Vd===Ge?c.type=d:c instanceof Ed&&d.Vd===Ed?c.type=d:c instanceof ue&&d.Vd===ue?c.type=d:c instanceof Ye&&d.Vd===Ye?c.mode=d:c instanceof xe&&d.Vd===xe?c.Xc=d:c instanceof X&&d.Vd===X?0===d.name.indexOf("Alignment")?c.vb=d:0===d.name.indexOf("Arrangement")?c.Ud=d:0===d.name.indexOf("Compaction")?c.Fu=d:0===d.name.indexOf("Path")?c.path=d:0===d.name.indexOf("Sorting")?c.Kf=d:0===d.name.indexOf("Style")?c.ZD=d:v.g("Unknown enum value: "+
d):c instanceof Y&&d.Vd===Y?0===d.name.indexOf("Aggressive")?c.jB=d:0===d.name.indexOf("Cycle")?c.GB=d:0===d.name.indexOf("Init")?c.zC=d:0===d.name.indexOf("Layer")?c.HC=d:v.g("Unknown enum value: "+d):c instanceof Wi&&d.Vd===Wi?d===bk||d===ck||d===dk||d===ek?c.Kf=d:d===fk||d===gk?c.Ud=d:d===hk||d===ik?c.vb=d:v.g("Unknown enum value: "+d):c instanceof jk&&d.Vd===jk?d===kk||d===lk||d===mk||d===nk||d===ok?c.Kf=d:d===pk||d===qk||d===rk||d===sk?c.direction=d:d===tk||d===uk||d===vk||d===wk?c.Ud=d:d===
xk||d===yk?c.hs=d:v.g("Unknown enum value: "+d):v.g("No property to set for this enum value: "+d);else if(d instanceof Ye)c instanceof Q||c instanceof Uj?c.bind(d):v.g("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+c);else if(d instanceof Id)c instanceof Ed?c.Pb.add(d):v.g("A PathFigure can only be added to a Geometry, not to: "+c);else if(d instanceof ue)c instanceof Id?c.kb.add(d):v.g("A PathSegment can only be added to a PathFigure, not to: "+c);else if(v.Ua(d))if(d instanceof
Object&&d.constructor!==Object&&v.g("Can only get property values from a plain Object, not a: "+d),c instanceof Ge){var g={},i;for(i in d){var j=parseFloat(i);isNaN(j)?g[i]=d[i]:c.addColorStop(j,d[i])}v.hz(c,g)}else c instanceof Uj?(d.row!==f?(g=d.row,(g===f||g===n||Infinity===g||isNaN(g)||0>g)&&v.g("Must specify non-negative integer row for RowColumnDefinition "+d),c.dl=h,c.U=g):d.column!==f?(g=d.column,(g===f||g===n||Infinity===g||isNaN(g)||0>g)&&v.g("Must specify non-negative integer column for RowColumnDefinition "+
d),c.dl=p,c.U=g):v.g("Must specify row or column value in a RowColumnDefinition "+d),g=v.tF(d,"row","column"),v.hz(c,g)):v.hz(c,d);else v.g('Unknown initializer "'+d+'" for object being constructed by GraphObject.make: '+c);return c};var Sj;Q.Builders=Sj=new ra("string","function");
Sj.add("Button",function(){var a=new Ge(Se);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new Ge(Se);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");var c=Rj(w,Vh,{Yu:h},Rj(W,{name:"ButtonBorder",ab:"RoundedRectangle",fill:a,stroke:"gray"}));c.Ry=function(a,c){var g=c.R(0),i=c._buttonFillOver;i===f&&(i=b);c._buttonFillNormal=g.fill;g.fill=i;i=c._buttonStrokeOver;i===f&&(i="blue");c._buttonStrokeNormal=g.stroke;g.stroke=i};c.Sy=function(b,c){var g=c.R(0),i=c._buttonFillNormal;
i===f&&(i=a);g.fill=i;i=c._buttonStrokeNormal;i===f&&(i="gray");g.stroke=i};return c});
Sj.add("TreeExpanderButton",function(){var a=Rj("Button",Rj(W,{name:"ButtonIcon",ab:"MinusLine",ta:new J(6,6)},(new Ye("figure","isTreeExpanded",function(a,c){var d=n,e=c.Y;e&&(d=a?e._treeExpandedFigure:e._treeCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Yy("")),{visible:p},(new Ye("visible","isTreeLeaf",function(a){return!a})).Yy(""));a.click=function(a,c){var d=c.ba;if(d instanceof S){var e=d.b;e===n||e.Va||(a.Hd=h,d.$d?e.Gd.zr(d):e.Gd.Gr(d))}};return a});
Sj.add("SubGraphExpanderButton",function(){var a=Rj("Button",Rj(W,{name:"ButtonIcon",ab:"MinusLine",ta:new J(6,6)},(new Ye("figure","isSubGraphExpanded",function(a,c){var d=n,e=c.Y;e&&(d=a?e._subGraphExpandedFigure:e._subGraphCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Yy("")));a.click=function(a,c){var d=c.ba;if(d instanceof T){var e=d.b;e===n||e.Va||(a.Hd=h,d.oe?e.Gd.yr(d):e.Gd.Fr(d))}};return a});
Sj.add("ContextMenuButton",function(){var a=Rj("Button");a.wh=ej;var b=a.Ve("ButtonBorder");b instanceof W&&(b.ab="Rectangle",b.n=new G(0,0,2,2),b.o=new G(1,1,-2,-2));return a});
function w(a){Q.call(this);a===f?0===arguments.length?this.M=$g:v.g("invalid argument to Panel constructor: undefined"):(v.Za(a,w,w,"type"),this.M=a);this.oa=new z(Q);this.Pd=(new Ib).freeze();this.Xo=cc;this.Ub=Vg;this.Pg=p;this.M===hi&&(this.Pg=h);this.Ke=[];this.Ae=[];this.Po=this.Jq=zk;this.Nm=this.jn=0;this.mn=Wg;this.wp=(new J(10,10)).freeze();this.xp=(new D(0,0)).freeze();this.Sk=this.sm=n;this.Qw="";this.bg=this.Wj=n;this.Jm="category";this.jf=n;this.Ok=new E(NaN,NaN,NaN,NaN);this.CE=new E(0,
0,0,0);this.xH=new J(0,0);this.ar=n}v.J("Panel",w);v.va(w,Q);
w.prototype.qb=function(a){Q.prototype.qb.call(this,a);a.M=this.M;a.Pd.Xa(this.Pd);a.Xo=this.Xo.F();a.Ub=this.Ub;if(0<this.Ke.length){for(var b=[],c=this.Ke,d=c.length,e=0;e<d;e++)if(c[e]!==f){var g=c[e].copy();g.Gk(a);b[e]=g}a.Ke=b}if(0<this.Ae.length){b=[];c=this.Ae;d=c.length;for(e=0;e<d;e++)c[e]!==f&&(g=c[e].copy(),g.Gk(a),b[e]=g);a.Ae=b}a.Jq=this.Jq;a.Po=this.Po;a.jn=this.jn;a.Nm=this.Nm;a.mn=this.mn;a.wp.Xa(this.wp);a.xp.Xa(this.xp);a.Pg=this.Pg;a.sm=this.sm;a.Sk=this.Sk;a.Qw=this.Qw;a.Wj=this.Wj;
a.bg=this.bg;a.Jm=this.Jm;this._buttonFillNormal&&(a._buttonFillNormal=this._buttonFillNormal);this._buttonFillOver&&(a._buttonFillOver=this._buttonFillOver);this._buttonStrokeNormal&&(a._buttonStrokeNormal=this._buttonStrokeNormal);this._buttonStrokeOver&&(a._buttonStrokeOver=this._buttonStrokeOver);this._treeExpandedFigure&&(a._treeExpandedFigure=this._treeExpandedFigure);this._treeCollapsedFigure&&(a._treeCollapsedFigure=this._treeCollapsedFigure);this._subGraphExpandedFigure&&(a._subGraphExpandedFigure=
this._subGraphExpandedFigure);this._subGraphCollapsedFigure&&(a._subGraphCollapsedFigure=this._subGraphCollapsedFigure)};w.prototype.lh=function(a){Q.prototype.lh.call(this,a);a.oa=this.oa;for(var b=a.oa.f;b.next();)b.value.ek=a};
w.prototype.copy=w.prototype.copy=function(){var a=Q.prototype.copy.call(this);if(a instanceof w){var b=this.oa;if(0<b.length)for(var c=b.length,d=0;d<c;d++){var e=b.i[d].copy(),g=a;e.Gk(g);e.ml=n;var i=g.oa,j=i.count;i.rc(j,e);i=g.ba;if(i!==n){var k=g.b;k!==n&&k.ia.hb||i.be(Ae,"elements",g,n,e,n,j)}}return a}return n};w.prototype.toString=function(){return"Panel("+this.type+")#"+v.qc(this)};var $g;w.Position=$g=v.l(w,"Position",0);w.Horizontal=v.l(w,"Horizontal",1);var Uh;
w.Vertical=Uh=v.l(w,"Vertical",2);var Tg;w.Spot=Tg=v.l(w,"Spot",3);var Vh;w.Auto=Vh=v.l(w,"Auto",4);var ja;w.Table=ja=v.l(w,"Table",5);w.Viewbox=v.l(w,"Viewbox",6);var pj;w.TableRow=pj=v.l(w,"TableRow",7);var qj;w.TableColumn=qj=v.l(w,"TableColumn",8);var Dg;w.Link=Dg=v.l(w,"Link",9);var hi;w.Grid=hi=v.l(w,"Grid",10);v.m(w,{elements:"elements"},function(){return this.oa.f});v.m(w,{qa:"naturalBounds"},s("vc"));v.a(w,"padding",w.prototype.padding);
v.defineProperty(w,{padding:"padding"},s("Pd"),function(a){"number"===typeof a?a=new Ib(a):v.c(a,Ib,w,"padding");var b=this.Pd;b.z(a)||(this.Pd=a=a.F(),this.L(),this.d("padding",b,a))});v.a(w,"type",w.prototype.type);v.defineProperty(w,{type:"type"},s("M"),function(a){var b=this.M;b!==a&&(t&&v.Za(a,w,w,"type"),(b===pj||b===qj)&&v.g("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.M=a,this.M===hi&&(this.Pg=h),this.L(),this.d("type",b,a))});
v.a(w,"defaultAlignment",w.prototype.Wi);v.defineProperty(w,{Wi:"defaultAlignment"},s("Xo"),function(a){var b=this.Xo;b.z(a)||(t&&v.c(a,G,w,"defaultAlignment"),this.Xo=a=a.F(),this.L(),this.d("defaultAlignment",b,a))});v.a(w,"defaultStretch",w.prototype.ky);v.defineProperty(w,{ky:"defaultStretch"},s("Ub"),function(a){var b=this.Ub;b!==a&&(v.Za(a,Q,w,"defaultStretch"),this.Ub=a,this.L(),this.d("defaultStretch",b,a))});v.a(w,"viewboxStretch",w.prototype.wz);
v.defineProperty(w,{wz:"viewboxStretch"},s("mn"),function(a){var b=this.mn;b!==a&&(v.Za(a,Q,w,"viewboxStretch"),this.mn=a,this.d("viewboxStretch",b,a))});v.a(w,"gridCellSize",w.prototype.Rr);v.defineProperty(w,{Rr:"gridCellSize"},s("wp"),function(a){var b=this.wp;b.z(a)||(v.c(a,J,w,"gridCellSize"),(!a.ca()||0===a.width||0===a.height)&&v.g("Invalid Panel.gridCellSize: "+a),this.wp=a.F(),this.b!==n&&this===this.b.Wu&&ui(this.b),oj(this),this.d("gridCellSize",b,a))});v.a(w,"gridOrigin",w.prototype.vy);
v.defineProperty(w,{vy:"gridOrigin"},s("xp"),function(a){var b=this.xp;b.z(a)||(v.c(a,D,w,"gridOrigin"),a.ca()||v.g("Invalid Panel.gridOrigin: "+a),this.xp=a.F(),oj(this),this.d("gridOrigin",b,a))});ea=w.prototype;
ea.Gn=function(a,b){if(this.M===hi){var c=this.Ll()*b.scale;0>=c&&(c=1);var d=this.Rr,e=d.width,d=d.height,g=this.qa,i=g.width,g=g.height,j=Math.ceil(i/e),k=Math.ceil(g/d),l=this.vy;a.save();a.beginPath();a.rect(0,0,i,g);a.clip();for(var m=[],q=this.oa.i,r=this.oa.length,u=0;u<r;u++){var x=[];m.push(x);var y=q[u];if(y.visible)for(var y="LineV"===y.ab,C=u+1;C<r;C++){var F=q[C];F.visible&&"LineV"===F.ab===y&&(F=F.ki,2<=F&&x.push(F))}}q=this.oa.length;for(r=0;r<q;r++)if(y=this.oa.i[r],y.visible){u=m[r];
x=y.ki;if("LineV"===y.ab){a.lineWidth=y.Ya;rj(this,a,y.stroke,p);a.beginPath();for(C=y=Math.floor(-l.x/e);C<=y+j&&!(F=C*e+l.x,0<=F&&(F<i&&Ak(C,x,u))&&(a.moveTo(F,0),a.lineTo(F,g),2>e*x*c));C++);}else{a.lineWidth=y.Ya;rj(this,a,y.stroke,p);a.beginPath();for(C=y=Math.floor(-l.y/d);C<=y+k&&!(F=C*d+l.y,0<=F&&(F<=g&&Ak(C,x,u))&&(a.moveTo(0,F),a.lineTo(i,F),2>d*x*c));C++);}a.stroke()}a.restore();$h(b,a)}else{c=this.oa.length;for(e=0;e<c;e++)this.oa.i[e].sg(a,b);t&&t.OF&&this instanceof V&&t.NF(a,b,this)}};
ea.zg=function(){Q.prototype.zg.call(this);var a=this.b;a!==n&&(Ti(a,"type",this.type),this.wz!==Wg&&Ti(a,"viewboxStretch",this.wz),Ti(a,"elements",this.elements))};function Ak(a,b,c){if(0!==a%b)return p;for(var b=c.length,d=0;d<b;d++)if(0===a%c[d])return p;return h}
ea.$r=function(a,b,c,d){var e=this.Ok;e.width=0;e.height=0;var g=this.ta,i=this.ae;c===f&&(c=i.width,d=i.height);var c=Math.max(c/this.scale,i.width),d=Math.max(d/this.scale,i.height),j=this.Ld;isNaN(g.width)||(a=Math.min(g.width,j.width));isNaN(g.height)||(b=Math.min(g.height,j.height));var a=Math.max(c,a),b=Math.max(d,b),k=this.padding,a=Math.max(a-k.left-k.right,0),b=Math.max(b-k.top-k.bottom,0),l=this.oa,m=l.length;if(0===m){var q=this.vc;zb(q,!isNaN(g.width)?a:0,!isNaN(g.height)?b:0);fj(this,
0,0,q.width,q.height)}else{var r=this.M.Db;switch(r){case "Position":var u=a,x=b,y=c,C=d;e.x=0;e.y=0;e.width=0;for(var F=e.height=0;F<m;F++){var H=l.i[F];if(H.visible||H===this.Gb){var I=H.margin,M=I.right+I.left,U=I.top+I.bottom;xh(H,u,x,y,C);var ma=H.ua,da=Math.max(ma.width+M,0),Ba=Math.max(ma.height+U,0),qa=H.position.x,sa=H.position.y;isFinite(qa)||(qa=0);isFinite(sa)||(sa=0);Eb(e,qa,sa,da,Ba)}}break;case "Vertical":for(var Ga=a,mb=c,db=d,vb=[],gb=0;gb<m;gb++){var Ra=l.i[gb];if(Ra.visible||Ra===
this.Gb){var Db=ij(Ra);if(Db!==cj&&Db!==dj)vb.push(Ra);else{var Ta=Ra.margin,bd=Ta.right+Ta.left,Ld=Ta.top+Ta.bottom;xh(Ra,Ga,Infinity,mb,db);var Xa=Ra.ua,Lf=Math.max(Xa.width+bd,0),md=Math.max(Xa.height+Ld,0);e.width=Math.max(e.width,Lf);e.height+=md}}}var Od=vb.length;if(0!==Od){this.ta.width?Ga=Math.min(this.ta.width,this.Ld.width):0!==e.width&&(Ga=Math.min(e.width,this.Ld.width));for(gb=0;gb<Od;gb++)if(Ra=vb[gb],Ra.visible||Ra===this.Gb)Ta=Ra.margin,bd=Ta.right+Ta.left,Ld=Ta.top+Ta.bottom,xh(Ra,
Ga,Infinity,mb,db),Xa=Ra.ua,Lf=Math.max(Xa.width+bd,0),md=Math.max(Xa.height+Ld,0),e.width=Math.max(e.width,Lf),e.height+=md}break;case "Horizontal":for(var Vc=b,he=c,He=d,ec=[],Ic=0;Ic<m;Ic++){var fc=l.i[Ic];if(fc.visible||fc===this.Gb){var yd=ij(fc);if(yd!==cj&&yd!==ej)ec.push(fc);else{var dd=fc.margin,ie=dd.right+dd.left,je=dd.top+dd.bottom;xh(fc,Infinity,Vc,he,He);var ke=fc.ua,gf=Math.max(ke.width+ie,0),lg=Math.max(ke.height+je,0);e.width+=gf;e.height=Math.max(e.height,lg)}}}var Fg=ec.length;
if(0!==Fg){this.ta.height?Vc=Math.min(this.ta.height,this.Ld.height):0!==e.height&&(Vc=Math.min(e.height,this.Ld.height));for(Ic=0;Ic<Fg;Ic++)if(fc=ec[Ic],fc.visible||fc===this.Gb)dd=fc.margin,ie=dd.right+dd.left,je=dd.top+dd.bottom,xh(fc,Infinity,Vc,he,He),ke=fc.ua,gf=Math.max(ke.width+ie,0),lg=Math.max(ke.height+je,0),e.width+=gf,e.height=Math.max(e.height,lg)}break;case "Spot":a:{var le=a,nd=b,Mf=c,Pd=d,ed=Bk(this,l,m),nb=ed.margin,nc,od,Wc=nb.right+nb.left,mg=nb.top+nb.bottom;xh(ed,le,nd,Mf,Pd);
var ab=ed.ua,$b=ab.width,Jc=ab.height,Kc=Math.max($b+Wc,0),Qd=Math.max(Jc+mg,0);e.x=-nb.left;e.y=-nb.top;e.width=Kc;e.height=Qd;for(var Rd=0;Rd<m;Rd++){var Tb=l.i[Rd];if(Tb!==ed&&(Tb.visible||Tb===this.Gb)){nb=Tb.margin;nc=nb.right+nb.left;od=nb.top+nb.bottom;xh(Tb,le,nd,0,0);var ab=Tb.ua,Kc=Math.max(ab.width+nc,0),Qd=Math.max(ab.height+od,0),Ub=Tb.vb;Zb(Ub)&&(Ub=this.Wi);Wb(Ub)||(Ub=jc);var $a=Tb.Qi;Zb($a)&&($a=jc);Eb(e,Ub.x*$b+Ub.offsetX-($a.x*ab.width-$a.offsetX)-nb.left,Ub.y*Jc+Ub.offsetY-($a.y*
ab.height-$a.offsetY)-nb.top,Kc,Qd)}}var yb=ed.wh;yb===Vg&&(yb=ij(ed));switch(yb){case cj:break a;case Jd:if(!isFinite(le)&&!isFinite(nd))break a;break;case ej:if(!isFinite(le))break a;break;case dj:if(!isFinite(nd))break a}ab=ed.ua;$b=ab.width;Jc=ab.height;Kc=Math.max($b+Wc,0);Qd=Math.max(Jc+mg,0);nb=ed.margin;e.x=-nb.left;e.y=-nb.top;e.width=Kc;e.height=Qd;for(Rd=0;Rd<m;Rd++)if(Tb=l.i[Rd],Tb!==ed&&(Tb.visible||Tb===this.Gb))nb=Tb.margin,nc=nb.right+nb.left,od=nb.top+nb.bottom,ab=Tb.ua,Kc=Math.max(ab.width+
nc,0),Qd=Math.max(ab.height+od,0),Ub=Tb.vb,Zb(Ub)&&(Ub=this.Wi),Wb(Ub)||(Ub=jc),$a=Tb.Qi,Zb($a)&&($a=jc),Eb(e,Ub.x*$b+Ub.offsetX-($a.x*ab.width-$a.offsetX)-nb.left,Ub.y*Jc+Ub.offsetY-($a.y*ab.height-$a.offsetY)-nb.top,Kc,Qd)}break;case "Auto":var Sd=a,vc=b,Bb=c,oc=d,Gb=Bk(this,l,m),zd=Gb.margin,fd=zd.right+zd.left,hf=zd.top+zd.bottom;xh(Gb,Sd,vc,Bb,oc);var Ad=Gb.ua,Td=Math.max(Ad.width+fd,0),wc=Math.max(Ad.height+hf,0),Nf=(new D).$l(0,0,Td,wc,Ck(Gb)),Ie=(new D).$l(0,0,Td,wc,Dk(Gb)),Bd=new E(Nf,Ie),
Ud=Sd,Cb=vc;isFinite(Sd)&&(Ud=Bd.width);isFinite(vc)&&(Cb=Bd.height);for(var pd=new J(0,0),Of=0;Of<m;Of++){var Lc=l.i[Of];if(Lc!==Gb&&(Lc.visible||Lc===this.Gb)){var zd=Lc.margin,hb=zd.right+zd.left,ib=zd.top+zd.bottom;xh(Lc,Ud,Cb,Bb,oc);Ad=Lc.ua;Td=Math.max(Ad.width+hb,0);wc=Math.max(Ad.height+ib,0);pd=new J(Math.max(Td,pd.width),Math.max(wc,pd.height))}}if(1===m)e.width=Td,e.height=wc;else{var gc=Ck(Gb),ua=Dk(Gb),Ua,Da;ua.x!==gc.x&&ua.y!==gc.y&&(Ua=pd.width/Math.abs(ua.x-gc.x),Da=pd.height/Math.abs(ua.y-
gc.y));var Lb=0;Gb instanceof W&&(Lb=Gb.Ya*Gb.scale);Ua+=Math.abs(gc.offsetX)+Math.abs(ua.offsetX)+Lb;Da+=Math.abs(gc.offsetY)+Math.abs(ua.offsetY)+Lb;var Sa=Gb.wh;Sa===Vg&&(Sa=ij(Gb));switch(Sa){case cj:oc=Bb=0;break;case Jd:isFinite(Sd)&&(Ua=Sd);isFinite(vc)&&(Da=vc);break;case ej:isFinite(Sd)&&(Ua=Sd);oc=0;break;case dj:Bb=0,isFinite(vc)&&(Da=vc)}Gb instanceof W&&(Gb.Ug?Gb.Ij=n:Gb.Ba=n);tj(Gb);xh(Gb,Ua,Da,Bb,oc);e.width=Gb.ua.width+fd;e.height=Gb.ua.height+hf}break;case "Table":for(var Mc=a,xc=
b,Oa=m,tb=c,Pf=d,ng=[],me=[],wa=0;wa<Oa;wa++){var ta=l.i[wa];if(ta instanceof w&&(ta.type===pj||ta.type===qj)){me.push(ta);for(var Cd=ta.oa,Qf=Cd.length,yc=0;yc<Qf;yc++){var pc=Cd.i[yc];ta.type===pj?pc.Yb=ta.Yb:ta.type===qj&&(pc.nc=ta.nc);ng.push(pc)}}else ng.push(ta)}for(var Oa=ng.length,qc=[],wa=0;wa<Oa;wa++)ta=ng[wa],ta.ec=h,ta.Kc=h,qc[ta.Yb]||(qc[ta.Yb]=[]),qc[ta.Yb][ta.nc]||(qc[ta.Yb][ta.nc]=[]),qc[ta.Yb][ta.nc].push(ta);for(var ph=[],Vd=[],Dd=[],jf={count:0},kf={count:0},qd=Mc,Je=xc,za,rd,ml=
qc.length,wa=0;wa<ml;wa++)if(qc[wa]){var qh=qc[wa].length,qb=this.Xd(wa);Ek(qb,0);for(yc=0;yc<qh;yc++)if(qc[wa][yc]){var rb=this.wd(yc);ph[yc]===f&&(Ek(rb,0),ph[yc]=h);for(var xj=qc[wa][yc],nl=xj.length,ai=0;ai<nl;ai++)if(ta=xj[ai],ta.visible||ta===this.Gb)if(1<ta.jk||1<ta.Hj)Vd.push(ta);else{var zc=wj(ta,qb,rb);if(zc!==cj&&!ta.ta.ca())jf[yc]===f&&(jf[yc]=-1,jf.count++),kf[wa]===f&&(kf[wa]=-1,kf.count++),Dd.push(ta),xh(ta,Infinity,Infinity,tb,Pf);else{var lf=isFinite(rb.width)?rb.width:Mc,Wd=isFinite(qb.height)?
qb.height:xc,ub=new J(Math.max(rb.Ff,Math.min(lf,rb.Md)),Math.max(qb.Ff,Math.min(Wd,qb.Md))),Vb=ta.margin,mf=Vb.right+Vb.left,nf=Vb.top+Vb.bottom;xh(ta,Infinity,Infinity,tb,Pf);var Ke=ta.ua,Rf=Math.max(Ke.width+mf,0),Ac=Math.max(Ke.height+nf,0);za=this.Xd(wa);rd=Math.max(Ac-za.Pa,0);rd>Je&&(rd=Je);Ek(za,za.Pa+rd);Je=Math.max(Je-rd,0);za=this.wd(yc);rd=Math.max(Rf-za.Pa,0);rd>qd&&(rd=qd);Ek(za,za.Pa+rd);qd=Math.max(qd-rd,0)}}}}for(var Xd=0,Yd=0,Oa=this.Du,wa=0;wa<Oa;wa++)this.Ae[wa]!==f&&(Xd+=this.wd(wa).Pa);
Oa=this.nv;for(wa=0;wa<Oa;wa++)this.Ke[wa]!==f&&(Yd+=this.Xd(wa).Pa);qd=Math.max(Mc-Xd,0);Je=Math.max(xc-Yd,0);Oa=Dd.length;for(wa=0;wa<Oa;wa++){var ta=Dd[wa],qb=this.Xd(ta.Yb),rb=this.wd(ta.nc),ne=ta.ua,Vb=ta.margin,mf=Vb.right+Vb.left,nf=Vb.top+Vb.bottom;jf[ta.nc]=Math.max(ne.width+mf-rb.Rd,0);kf[ta.Yb]=Math.max(ne.height+nf-qb.Rd,0)}var rh=0,Gg=0;for(wa in kf)"count"!==wa&&(rh+=kf[wa]);for(wa in jf)"count"!==wa&&(Gg+=jf[wa]);for(wa=0;wa<Oa;wa++)if(ta=Dd[wa],ta.visible||ta===this.Gb){qb=this.Xd(ta.Yb);
rb=this.wd(ta.nc);lf=isFinite(rb.width)?rb.width:isFinite(qd)?rb.Rd+jf[ta.nc]/Gg*qd:rb.Rd||qd;Wd=isFinite(qb.height)?qb.height:isFinite(Je)?qb.Rd+kf[ta.Yb]/rh*Je:qb.Rd||Je;ub=new J(Math.max(rb.Ff,Math.min(lf,rb.Md)),Math.max(qb.Ff,Math.min(Wd,qb.Md)));zc=wj(ta,qb,rb);switch(zc){case ej:ub.height=Infinity;break;case dj:ub.width=Infinity}Vb=ta.margin;mf=Vb.right+Vb.left;nf=Vb.top+Vb.bottom;tj(ta);xh(ta,ub.width,ub.height,rb.Ff,qb.Ff);Ke=ta.ua;Rf=Math.max(Ke.width+mf,0);Ac=Math.max(Ke.height+nf,0);Ek(qb,
Math.max(qb.Pa,Ac));Ek(rb,Math.max(rb.Pa,Rf))}Oa=Vd.length;for(wa=0;wa<Oa;wa++)if(ta=Vd[wa],ta.visible||ta===this.Gb){qb=this.Xd(ta.Yb);rb=this.wd(ta.nc);ub=new J(Math.max(rb.Ff,Math.min(Mc,rb.Md)),Math.max(qb.Ff,Math.min(xc,qb.Md)));zc=wj(ta,qb,rb);switch(zc){case Jd:0!==rb.Rd&&(ub.width=Math.min(ub.width,rb.Rd));0!==qb.Rd&&(ub.height=Math.min(ub.height,qb.Rd));break;case ej:0!==rb.Rd&&(ub.width=Math.min(ub.width,rb.Rd));break;case dj:0!==qb.Rd&&(ub.height=Math.min(ub.height,qb.Rd))}isFinite(rb.width)&&
(ub.width=rb.width);isFinite(qb.height)&&(ub.height=qb.height);for(var Le=new J(0,0),Bc=1;Bc<ta.jk&&!(ta.Yb+Bc>=this.nv);Bc++)za=this.Xd(ta.Yb+Bc),Le.height+=Math.max(za.Ff,isNaN(za.Le)?za.Md:Math.min(za.Le,za.Md));for(Bc=1;Bc<ta.Hj&&!(ta.nc+Bc>=this.Du);Bc++)za=this.wd(ta.nc+Bc),Le.width+=Math.max(za.Ff,isNaN(za.Le)?za.Md:Math.min(za.Le,za.Md));ub.width+=Le.width;ub.height+=Le.height;Vb=ta.margin;mf=Vb.right+Vb.left;nf=Vb.top+Vb.bottom;xh(ta,ub.width,ub.height,tb,Pf);for(var Ke=ta.ua,Rf=Math.max(Ke.width+
mf,0),Ac=Math.max(Ke.height+nf,0),of=0,Bc=0;Bc<ta.jk;Bc++)za=this.Xd(ta.Yb+Bc),of+=za.Pa||0;if(of<Ac)for(var sd=Ac-of;0<sd;){var Fd=za.Pa||0;isNaN(za.height)&&za.Md>Fd&&(Ek(za,Math.min(za.Md,Fd+sd)),za.Pa!==Fd&&(sd-=za.Pa-Fd));if(-1===za.index-1)break;za=this.Xd(za.index-1)}for(var Hg=0,Bc=0;Bc<ta.Hj;Bc++)za=this.wd(ta.nc+Bc),Hg+=za.Pa||0;if(Hg<Rf)for(sd=Rf-Hg;0<sd;){Fd=za.Pa||0;isNaN(za.width)&&za.Md>Fd&&(Ek(za,Math.min(za.Md,Fd+sd)),za.Pa!==Fd&&(sd-=za.Pa-Fd));if(-1===za.index-1)break;za=this.wd(za.index-
1)}}for(var Me=0,Xc=0,zc=ij(this),Ne=this.ta,sh=this.Ld,pf=Yd=Xd=0,og=0,Oa=this.Du,wa=0;wa<Oa;wa++)this.Ae[wa]!==f&&(za=this.wd(wa),isFinite(za.width)?pf+=za.width:Fk(za)===Gk?pf+=za.Pa:Xd+=za.Pa);var Me=isFinite(Ne.width)?Math.min(Ne.width,sh.width):zc!==cj&&isFinite(Mc)?Mc:Xd,Me=Math.max(Me,this.ae.width),Me=Math.max(Me-pf,0),pg=Math.max(Me/Xd,1);isFinite(pg)||(pg=1);for(wa=0;wa<Oa;wa++)this.Ae[wa]!==f&&(za=this.wd(wa),!isFinite(za.width)&&Fk(za)!==Gk&&Ek(za,za.Pa*pg),za.ob=e.width,e.width+=za.Pa);
Oa=this.nv;for(wa=0;wa<Oa;wa++)this.Ke[wa]!==f&&(za=this.Xd(wa),isFinite(za.height)?og+=za.height:Fk(za)===Gk?og+=za.Pa:Yd+=za.Pa);var Xc=isFinite(Ne.height)?Math.min(Ne.height,sh.height):zc!==cj&&isFinite(xc)?xc:Yd,Xc=Math.max(Xc,this.ae.height),Xc=Math.max(Xc-og,0),Oe=Math.max(Xc/Yd,1);isFinite(Oe)||(Oe=1);for(wa=0;wa<Oa;wa++)this.Ke[wa]!==f&&(za=this.Xd(wa),!isFinite(za.height)&&Fk(za)!==Gk&&Ek(za,za.Pa*Oe),za.ob=e.height,e.height+=za.Pa);Oa=me.length;for(wa=0;wa<Oa;wa++){var Nc=me[wa];Nc.type===
pj?(lf=e.width,za=this.Xd(Nc.Yb),Wd=za.Rd):(za=this.wd(Nc.nc),lf=za.Rd,Wd=e.height);Nc.Nc.Ed(0,0,lf,Wd);Nc.ec=p;qc[Nc.Yb]||(qc[Nc.Yb]=[]);qc[Nc.Yb][Nc.nc]||(qc[Nc.Yb][Nc.nc]=[]);qc[Nc.Yb][Nc.nc].push(Nc)}this.BE=qc;break;case "Viewbox":var qg=a,oe=b,Tn=c,Un=d;1<m&&v.g("Viewbox Panel cannot contain more than one GraphObject.");var Zd=l.i[0];Zd.Jb=1;tj(Zd);xh(Zd,Infinity,Infinity,Tn,Un);var bi=Zd.ua,zj=Zd.margin,Vn=zj.right+zj.left,Wn=zj.top+zj.bottom;if(isFinite(qg)||isFinite(oe)){var Jp=Zd.scale,
Xn=bi.width,Yn=bi.height,Zn=Math.max(qg-Vn,0),$n=Math.max(oe-Wn,0);Zd.Jb=this.mn===Wg?Zd.Jb*Math.min(Zn/Xn,$n/Yn):Zd.Jb*Math.max(Zn/Xn,$n/Yn);Jp!==Zd.scale&&(Zd.ec=h,xh(Zd,Infinity,Infinity,Tn,Un))}bi=Zd.ua;e.width=isFinite(qg)?qg:Math.max(bi.width+Vn,0);e.height=isFinite(oe)?oe:Math.max(bi.height+Wn,0);break;case "Link":var ao=this instanceof sf?this.sn:this;if(0===m){var Aj=this.vc;zb(Aj,0,0);var Gd=this.ua;Gd.Ed(0,0,0,0)}else{var Bj=this.vp(),Pe=this.Nj(),Qe=Pe.copy();Qe.x=0;Qe.y=0;var Jg,th=this.Fw();
Jg=this.da!==f?this.da:th.count;for(var Cj=new D(Infinity,Infinity),Kg=0;Kg<Jg;Kg++){var bo=th.i[Kg];Cj.x=Math.min(bo.x,Cj.x);Cj.y=Math.min(bo.y,Cj.y)}this.Fi=new D(Pe.x,Pe.y);this.Ah.clear();Bj!==n&&(Hk(Bj,Pe.width,Pe.height),Gd=Bj.ua,Qe.rj(Gd),this.Ah.add(Gd));for(var Lg=n,rg=n,Sf=n,Kg=0;Kg<m;Kg++){var ac=l.i[Kg];if(ac!==Bj)if(ac.gj&&ac instanceof W)Hk(ac,Pe.width,Pe.height),Gd=ac.ua,Qe.rj(Gd),this.Ah.add(Gd);else if(2>Jg)xh(ac,Infinity,Infinity),Gd=ac.ua,Qe.rj(Gd),this.Ah.add(Gd);else{Lg===n&&
(Lg=new ob,rg=new D,Sf=new D);var Tf=ac.vh,eo=ac.dz,ol=ac.Qi;Yb(ol)&&(ol=jc);var Dj=ac.ns,Kp=ac.ez,ci,di,Ej=0;if(Tf<-Jg||Tf>=Jg){var fo=ao.UC,Fj=ao.TC;Dj!==bj&&(Ej=Ik(Dj,Fj),ac.Wa=Ej);ci=fo.x-Pe.x;di=fo.y-Pe.y}else{var qf,uh;if(0<=Tf)qf=th.i[Tf],uh=Tf<Jg-1?th.i[Tf+1]:qf;else{var pl=Jg+Tf;qf=th.i[pl];uh=0<pl?th.i[pl-1]:qf}Fj=0<=Tf?qf.fi(uh):uh.fi(qf);Dj!==bj&&(Ej=Ik(Dj,Fj),ac.$b=Ej);ci=qf.x+(uh.x-qf.x)*eo-Pe.x;di=qf.y+(uh.y-qf.y)*eo-Pe.y}xh(ac,Infinity,Infinity);var Gd=ac.ua,Aj=ac.qa,ei=0;ac instanceof
W&&(ei=ac.Ya);var ho=Aj.width+ei,io=Aj.height+ei;Lg.reset();Lg.translate(-Gd.x,-Gd.y);Lg.scale(ac.scale,ac.scale);Lg.rotate(ac.Wa,ho/2,io/2);var jo=new E(0,0,ho,io);rg.ro(jo,ol);Lg.Hb(rg);var Lp=-rg.x+ei/2,Mp=-rg.y+ei/2;Sf.set(Kp);isNaN(Sf.x)&&(Sf.x=0<=Tf?rg.x+3:-(rg.x+3));isNaN(Sf.y)&&(Sf.y=-(rg.y+3));Sf.rotate(Fj);ci+=Sf.x;di+=Sf.y;var fi=jo;fi.set(Gd);fi.x=ci+Lp;fi.y=di+Mp;this.Ah.add(fi);Qe.rj(fi)}}if(this.kf)for(var ko=this.oi;ko.next();)xh(ko.value,Infinity,Infinity);this.Ok=Qe;var Hj=this.Fi;
Hj&&Hj.Ed(Hj.x+Qe.x,Hj.y+Qe.y);zb(e,Qe.width||0,Qe.height||0)}break;case "Grid":break;case "TableRow":case "TableColumn":v.g(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");break;default:v.g("Unknown panel type: "+r)}var pe=e.width,qe=e.height,Ij=this.padding,Np=Ij.top+Ij.bottom,pe=pe+(Ij.left+Ij.right),qe=qe+Np;isFinite(g.width)&&(pe=g.width);isFinite(g.height)&&(qe=g.height);pe=Math.min(j.width,pe);qe=Math.min(j.height,
qe);pe=Math.max(i.width,pe);qe=Math.max(i.height,qe);pe=Math.max(c,pe);qe=Math.max(d,qe);e.width=pe;e.height=qe;q=this.vc;zb(q,pe,qe);fj(this,0,0,pe,qe)}};function Bk(a,b,c){for(var d=0;d<c;d++){var e=b.i[d];if(e.gj===h)return a.ar=e}b=b.i[0];return a.ar=b}
ea.Si=function(a,b,c,d){var e=this.Ok,g=this.oa,i=g.length,j=this.CE;j.reset();if(0===i){var k=this.pa;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.ta.ca()){var l=ij(this),m=this.Nc,q=m.width,r=m.height;q===c&&r===d&&(l=cj);switch(l){case cj:if(q>c||r>d)this.L(),xh(this,q>c?c:q,r>d?d:r);break;case Jd:this.ec=h;xh(this,c,d,0,0);break;case ej:this.ec=h;xh(this,c,r,0,0);break;case dj:this.ec=h,xh(this,q,d,0,0)}}k=this.pa;k.x=a;k.y=b;k.width=c;k.height=d;var u=this.M.Db;switch(u){case "Position":for(var x=
e.x-this.padding.left,y=e.y-this.padding.top,C=0;C<i;C++){var F=g.i[C],H=F.ua,I=F.margin,M=F.position.x,U=F.position.y;j.x=isNaN(M)?-x:M-x;j.y=isNaN(U)?-y:U-y;j.x+=I.left;j.y+=I.top;j.width=H.width;j.height=H.height;F.visible&&F.Bc(j.x,j.y,j.width,j.height)}break;case "Vertical":for(var ma=this.padding.left,da=this.padding.top,Ba=0;Ba<i;Ba++){var qa=ma,sa=g.i[Ba],Ga=sa.ua,mb=sa.margin,db=mb.left+mb.right,vb=ma+this.padding.right,gb=Ga.width,Ra=ij(sa);if(isNaN(sa.ta.width)&&Ra===Jd||Ra===ej)gb=Math.max(e.width-
db-vb,0);var Db=gb+db+vb,Ta=sa.vb;Zb(Ta)&&(Ta=this.Wi);Wb(Ta)||(Ta=jc);j.x=qa+Ta.offsetX+mb.left+(e.width*Ta.x-Db*Ta.x);j.y=da+Ta.offsetY+mb.top;j.width=gb;j.height=Ga.height;sa.visible&&(sa.Bc(j.x,j.y,j.width,j.height),da+=Ga.height+mb.bottom+mb.top)}break;case "Horizontal":for(var bd=this.padding.top,Ld=this.padding.left,Xa=0;Xa<i;Xa++){var Lf=bd,md=g.i[Xa],Od=md.ua,Vc=md.margin,he=Vc.top+Vc.bottom,He=bd+this.padding.bottom,ec=Od.height,Ic=ij(md);if(isNaN(md.ta.height)&&Ic===Jd||Ic===dj)ec=Math.max(e.height-
he-He,0);var fc=ec+he+He,yd=md.vb;Zb(yd)&&(yd=this.Wi);Wb(yd)||(yd=jc);j.x=Ld+yd.offsetX+Vc.left;j.y=Lf+yd.offsetY+Vc.top+(e.height*yd.y-fc*yd.y);j.width=Od.width;j.height=ec;md.visible&&(md.Bc(j.x,j.y,j.width,j.height),Ld+=Od.width+Vc.left+Vc.right)}break;case "Spot":var dd=Bk(this,g,i),ie=dd.ua,je=ie.width,ke=ie.height,gf=this.padding,lg=gf.left,Fg=gf.top;j.x=lg-e.x;j.y=Fg-e.y;dd.Bc(j.x,j.y,je,ke);for(var le=0;le<i;le++){var nd=g.i[le];if(nd!==dd){var Mf=nd.ua,Pd=Mf.width,ed=Mf.height,nb=nd.vb;
Zb(nb)&&(nb=this.Wi);Wb(nb)||(nb=jc);var nc=nd.Qi;Zb(nc)&&(nc=jc);j.x=nb.x*je+nb.offsetX-(nc.x*Pd-nc.offsetX);j.y=nb.y*ke+nb.offsetY-(nc.y*ed-nc.offsetY);j.x-=e.x;j.y-=e.y;nd.visible&&nd.Bc(lg+j.x,Fg+j.y,Pd,ed)}}break;case "Auto":var od=Bk(this,g,i),Wc=od.ua,mg=new E(0,0,Wc.width,Wc.height),ab=new E(0,0,1,1),$b=od.margin,Jc=$b.left,Kc=$b.top,Qd=this.padding,Rd=Qd.left,Tb=Qd.top;j.x=Jc;j.y=Kc;j.width=Wc.width;j.height=Wc.height;od.Bc(Rd+j.x,Tb+j.y,j.width,j.height);var Ub=Ck(od),$a=Dk(od),yb=(new D).ro(mg,
Ub),Sd=(new D).ro(mg,$a);ab.x=yb.x;ab.y=yb.y;ab.xv(Sd);ab.x+=Jc+Rd;ab.y+=Kc+Tb;for(var vc=0;vc<i;vc++){var Bb=g.i[vc];if(Bb!==od){var oc=Bb.ua,$b=Bb.margin,Gb=Math.max(oc.width+$b.right+$b.left,0),zd=Math.max(oc.height+$b.top+$b.bottom,0),fd=Bb.vb;Zb(fd)&&(fd=this.Wi);Wb(fd)||(fd=jc);j.x=ab.width*fd.x+fd.offsetX-Gb*fd.x+$b.left+ab.x;j.y=ab.height*fd.y+fd.offsetY-zd*fd.y+$b.top+ab.y;j.width=ab.width;j.height=ab.height;Bb.visible&&(Kb(ab.x,ab.y,ab.width,ab.height,j.x,j.y,oc.width,oc.height)?Bb.Bc(j.x,
j.y,oc.width,oc.height):Bb.Bc(j.x,j.y,oc.width,oc.height,new E(ab.x,ab.y,ab.width,ab.height)))}}break;case "Table":for(var hf=this.padding,Ad=hf.left,Td=hf.top,wc=this.BE,Nf,Ie,Bd=wc.length,Ud=0,Cb=0;Cb<Bd;Cb++)wc[Cb]&&(Ud=Math.max(Ud,wc[Cb].length));for(var pd=Math.min(this.jn,Bd-1);pd!==Bd&&(this.Ke[pd]===f||0===this.Ke[pd].Pa);)pd++;for(var pd=Math.min(pd,Bd-1),Of=-this.Ke[pd].ob,Lc=Math.min(this.Nm,Ud-1);Lc!==Ud&&(this.Ae[Lc]===f||0===this.Ae[Lc].Pa);)Lc++;for(var Lc=Math.min(Lc,Ud-1),hb=-this.Ae[Lc].ob,
Cb=0;Cb<Bd;Cb++)if(wc[Cb]){var Ud=wc[Cb].length,ib=this.Xd(Cb);Ie=ib.ob+Of+Td;for(var gc=0;gc<Ud;gc++)if(wc[Cb][gc]){var ua=this.wd(gc);Nf=ua.ob+hb+Ad;for(var Ua=wc[Cb][gc],Da=Ua.length,Lb=0;Lb<Da;Lb++){var Sa=Ua[Lb],Mc=Sa.ua;if(Sa instanceof w&&(Sa.type===pj||Sa.type===qj)){Sa.lb.wa();var xc=Sa.lb;xc.x=Sa.type===pj?Ad:Nf;xc.y=Sa.type===qj?Td:Ie;xc.width=Mc.width;xc.height=Mc.height;Sa.lb.freeze();Sa.Kc=p}else{for(var Oa=new J(0,0),tb=1;tb<Sa.rowSpan&&!(Cb+tb>=this.nv);tb++){var Pf=this.Xd(Cb+tb);
Oa.height+=Pf.Pa}for(tb=1;tb<Sa.yB&&!(gc+tb>=this.Du);tb++){var ng=this.wd(gc+tb);Oa.width+=ng.Pa}var me=ua.Pa+Oa.width,wa=ib.Pa+Oa.height;j.x=Nf;j.y=Ie;j.width=me;j.height=wa;var ta=Nf,Cd=Ie,Qf=me,yc=wa,pc=Sa.vb.copy();if(Zb(pc)){pc.Xa(this.Wi);Wb(pc)||pc.Xa(jc);var qc=ua.vb;Wb(qc)&&(pc.x=qc.x,pc.offsetX=qc.offsetX);var ph=ib.vb;Wb(ph)&&(pc.y=ph.y,pc.offsetY=ph.offsetY)}Wb(pc)||(pc=jc);var Vd=Mc.width,Dd=Mc.height,jf=Sa.Ld,kf=Sa.ae,Vd=Math.min(jf.width,Vd),Dd=Math.min(jf.height,Dd),Vd=Math.max(kf.width,
Vd),Dd=Math.max(kf.height,Dd),qd=Sa.margin,Je=qd.left+qd.right,za=qd.top+qd.bottom,rd=wj(Sa,ib,ua);if(isNaN(Sa.ta.width)&&rd===Jd||rd===ej)Vd=Math.max(me-Je,0);if(isNaN(Sa.ta.height)&&rd===Jd||rd===dj)Dd=Math.max(wa-za,0);var ml=Dd+za;j.x+=j.width*pc.x-(Vd+Je)*pc.x+pc.offsetX+qd.left;j.y+=j.height*pc.y-ml*pc.y+pc.offsetY+qd.top;Sa.visible&&(Kb(ta,Cd,Qf,yc,j.x,j.y,Vd,Dd)?Sa.Bc(j.x,j.y,Vd,Dd):Sa.Bc(j.x,j.y,Vd,Dd,new E(ta,Cd,Qf,yc)))}}}}for(Cb=0;Cb<i;Cb++)if(Sa=g.i[Cb],Sa instanceof w&&(Sa.type===pj||
Sa.type===qj))xc=Sa.lb,Sa.vc.wa(),Sa.vc.so(0,0,xc.width,xc.height),Sa.vc.freeze();break;case "Viewbox":var qh=g.i[0],qb=qh.ua,rb=qh.margin,xj=rb.top+rb.bottom,nl=Math.max(qb.width+(rb.right+rb.left),0),ai=Math.max(qb.height+xj,0),zc=qh.vb;Zb(zc)&&(zc=this.Wi);Wb(zc)||(zc=jc);j.x=e.width*zc.x-nl*zc.x+zc.offsetX;j.y=e.height*zc.y-ai*zc.y+zc.offsetY;j.width=qb.width;j.height=qb.height;qh.Bc(j.x,j.y,j.width,j.height);break;case "Link":var lf=this.vp(),Wd=0;if(lf!==n&&Wd<this.Ah.count){var ub=this.Ah.i[Wd];
Wd++;lf.Bc(ub.x-this.Ok.x,ub.y-this.Ok.y,ub.width,ub.height)}for(var Vb=0;Vb<i;Vb++){var mf=g.i[Vb];mf!==lf&&Wd<this.Ah.count&&(ub=this.Ah.i[Wd],Wd++,mf.Bc(ub.x-this.Ok.x,ub.y-this.Ok.y,ub.width,ub.height))}var nf=this.Fw(),Ke=nf.count;if(2<=Ke&&this.kf)for(var Rf=this.oi;Rf.next();){var Ac=Rf.value,Xd=Ke,Yd=nf,ne=Ac.vh,rh=Ac.dz,Gg=Ac.Qi;Yb(Gg)&&(Gg=jc);var Le=Ac.ns,Bc=Ac.ez,of=f,sd=f,Fd=0;if(ne<-Xd||ne>=Xd){var Hg=this.UC,Me=this.TC;Le!==bj&&(Fd=Ik(Le,Me),Ac.Wa=Fd);of=Hg.x;sd=Hg.y}else{var Xc=f,
Ne=f;if(0<=ne)Xc=Yd.i[ne],Ne=ne<Xd-1?Yd.i[ne+1]:Xc;else var sh=Xd+ne,Xc=Yd.i[sh],Ne=0<sh?Yd.i[sh-1]:Xc;Me=0<=ne?Xc.fi(Ne):Ne.fi(Xc);Le!==bj&&(Fd=Ik(Le,Me),Ac.Wa=Fd);of=Xc.x+(Ne.x-Xc.x)*rh;sd=Xc.y+(Ne.y-Xc.y)*rh}var pf=new ob;pf.scale(Ac.scale,Ac.scale);pf.rotate(Ac.Wa,0,0);var og=Ac.qa,pg=new E(0,0,og.width,og.height),Oe=new D;Oe.ro(pg,Gg);pf.Hb(Oe);var Nc=-Oe.x,qg=-Oe.y,oe=Bc.copy();isNaN(oe.x)&&(oe.x=0<=ne?Oe.x+3:-(Oe.x+3));isNaN(oe.y)&&(oe.y=-(Oe.y+3));oe.rotate(Me);of+=oe.x;sd+=oe.y;pf.WD(pg);
Nc+=pg.x;qg+=pg.y;Ac.position=new D(of+Nc,sd+qg)}this instanceof V&&wi(this);break;case "Grid":break;case "TableRow":case "TableColumn":v.g(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:v.g("Unknown panel type: "+u)}}};
ea.Ui=function(a){var b=this.qa;if(Kb(0,0,b.width,b.height,a.x,a.y)){for(var c=this.oa.length,b=new D;c--;){var d=this.oa.i[0];if(d.visible||d===this.Gb)if(pb(b.set(a),d.transform),d.ka(b))return h}return this.Rf===n&&this.Qf===n?p:h}return p};function Jk(a,b,c){c(a,b);if(b instanceof w)for(b=b.elements;b.next();)Jk(a,b.value,c)}function zi(a,b,c){c(b);for(b=b.elements;b.next();){var d=b.value;d instanceof w&&zi(a,d,c)}}
function Kk(a,b,c){if(c(b))return b;if(b instanceof w)for(b=b.elements;b.next();){var d=Kk(a,b.value,c);if(d!==n)return b.Yf(),d}return n}w.prototype.findObject=w.prototype.Ve=function(a){if(this.name===a)return this;for(var b=this.elements;b.next();){var c=b.value;if(c.name===a)return c;if(c instanceof w&&!c.lG()&&(c=c.Ve(a),c!==n))return c}return n};Q.prototype.findObjectByPred=w.prototype.eC=function(a){return a(this)?this:Lk(this,a)};
function Lk(a,b){for(var c=a.elements;c.next();){var d=c.value;if(b(d))return d;if(d instanceof w&&(d=Lk(d,b),d!==n))return d}return n}ea=w.prototype;ea.si=function(){return!(this.type===pj||this.type===qj)};
ea.Yc=function(a,b,c){if(this.qf===p)return n;b===f&&(b=n);c===f&&(c=n);if(this.Kc)return n;var d=this.qa,e=1/this.Ll(),g=this.si()?a:pb((new D).set(a),this.transform);if(Kb(-(5*e),-(5*e),d.width+10*e,d.height+10*e,g.x,g.y)){if(!this.Pg)for(var i=this.oa.length,e=new D;i--;){var j=this.oa.i[i];if(j.visible||j===this.Gb){j.si()?pb(e.set(a),j.transform):e.set(a);var k=n;j instanceof w?k=j.Yc(e,b,c):j.qf===h&&j.ka(e)&&(k=j);if(k!==n&&(b!==n&&(k=b(k)),k&&(c===n||c(k))))return k}}return this.background===
n&&this.Zh===n?n:Kb(0,0,d.width,d.height,g.x,g.y)?this:n}return n};
ea.Ln=function(a,b,c,d){if(this.qf===p)return p;b===f&&(b=n);c===f&&(c=n);!(d instanceof z)&&!(d instanceof va)&&(d=new z(Q));var e=this.qa,g=this.si()?a:pb((new D).set(a),this.transform);if(Kb(0,0,e.width,e.height,g.x,g.y)){if(!this.Pg){g=this.oa.length;for(e=new D;g--;){var i=this.oa.i[g];if(i.visible||i===this.Gb)if(i.si()?pb(e.set(a),i.transform):e.set(a),(i instanceof w?i.Ln(e,b,c,d):i.ka(e))&&i.qf!==p)b!==n&&(i=b(i)),i&&(c===n||c(i))&&d.add(i)}}return this.background!==n||this.Zh!==n}return p};
ea.Kl=function(a,b,c,d,e,g){if(this.qf===p)return p;g===f&&(g=new ob);b===f&&(b=n);c===f&&(c=n);g.multiply(this.transform);if(this.gy(a,g))return hj(this,b,c,e),h;if(this.Xe(a,g)){if(!this.Pg)for(var i=this.oa.length;i--;){var j=this.oa.i[i];if(j.visible||j===this.Gb){var k=j.pa,l=this.pa;if(!(k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height)){if(j instanceof w)k=j.Kl(a,b,c,d,e,g.copy());else{var k=j,l=a,m=d,q=g.copy();k.qf===p?k=p:(q===f&&(q=new ob),q.multiply(k.transform),k=m?k.Xe(l,q):
k.gy(l,q))}k&&(b!==n&&(j=b(j)),j&&(c===n||c(j))&&e.add(j))}}}return d}return p};
ea.Mn=function(a,b,c,d,e){if(this.qf===p)return p;c===f&&(c=n);d===f&&(d=n);var g=this.qa,i=this.si()?a:pb((new D).set(a),this.transform),j=this.si()?b:pb((new D).set(b),this.transform),j=i.Yi(j);if(0<i.x&&i.x<g.width&&0<i.y&&i.y<g.height||sb(i.x,i.y,0,0,0,g.height)<j||sb(i.x,i.y,0,g.height,g.width,g.height)<j||sb(i.x,i.y,g.width,g.height,g.width,0)<j||sb(i.x,i.y,g.width,0,0,0)<j){if(!this.Pg){g=new D;i=new D;for(j=this.oa.length;j--;){var k=this.oa.i[j];if(k.visible||k===this.Gb){var l=k.pa,m=this.pa;
if(!(l.x>m.width||l.y>m.height||0>l.x+l.width||0>l.y+l.height))if(l=k.transform,k.si()?(pb(g.set(a),l),pb(i.set(b),l)):(g.set(a),i.set(b)),k instanceof w?k.Mn(g,i,c,d,e):k.fC(g,i))c!==n&&(k=c(k)),k&&(d===n||d(k))&&e.add(k)}}}return h}return p};function Ck(a){var b=a.n;if(b===f||b===cc)b=n;b===n&&a instanceof W&&(a=a.Ba,a!==n&&(b=a.n));b===n&&(b=dc);return b}function Dk(a){var b=a.o;if(b===f||b===cc)b=n;b===n&&a instanceof W&&(a=a.Ba,a!==n&&(b=a.o));b===n&&(b=mc);return b}
w.prototype.add=w.prototype.add=function(a){v.c(a,Q,w,"add:element");this.rc(this.oa.count,a)};w.prototype.elt=w.prototype.R=function(a){return this.oa.R(a)};
w.prototype.insertAt=w.prototype.rc=function(a,b){b instanceof R&&v.g("Cannot add a Part to a Panel: "+b);if(this===b||this.ni(b))this===b&&v.g("Cannot make a Panel contain itself: "+this.toString()),v.g("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.Y;c!==n&&c!==this&&v.g("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
this.toString());this.M===hi&&!(b instanceof W)&&v.g("Can only add Shapes to a Grid Panel, not: "+b);b.Gk(this);b.ml=n;if(this.Iy!==n){var d=b.data;d!==n&&"object"===typeof d&&(this.jf===n&&(this.jf=new ra(Object,w)),this.jf.add(d,b))}var e=this.oa,d=-1;if(c===this){for(var g=-1,i=e.count,j=0;j<i;j++)if(e.i[j]===b){g=j;break}if(-1!==g){if(g===a||g+1>=e.count&&a>=e.count)return;e.ue(g);d=g}else v.g("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}a>e.count&&(a=e.count);
e.rc(a,b);this.L();b.L();c=this.ba;c!==n&&(e=this.b,e!==n&&e.ia.hb||(-1!==d&&c.be(Be,"elements",this,b,n,d,n),c.be(Ae,"elements",this,n,b,n,a)))};w.prototype.remove=w.prototype.remove=function(a){v.c(a,Q,w,"remove:element");for(var b=this.oa,c=b.count,d=-1,e=0;e<c;e++)if(b.i[e]===a){d=e;break}-1!==d&&this.Id(d)};w.prototype.removeAt=w.prototype.ue=function(a){t&&v.j(a,w,"removeAt:idx");0<=a&&this.Id(a)};
w.prototype.Id=function(a){var b=this.oa,c=b.R(a);c.ml=n;c.Gk(n);if(this.jf!==n){var d=c.data;"object"===typeof d&&this.jf.remove(d)}b.ue(a);this.ec=p;this.L();b=this.ba;b!==n&&(d=this.b,d!==n&&d.ia.hb||b.be(Be,"elements",this,c,n,a,n))};v.m(w,{nv:"rowCount"},function(){return this.Ke.length});
w.prototype.getRowDefinition=w.prototype.Xd=function(a){t&&v.j(a,w,"getRowDefinition:idx");0>a&&v.ha(a,">= 0",w,"getRowDefinition:idx");var a=Math.round(a),b=this.Ke;if(b[a]===f){var c=new Uj;c.Gk(this);c.dl=h;c.U=a;b[a]=c}return b[a]};w.prototype.removeRowDefinition=w.prototype.vK=function(a){t&&v.j(a,w,"removeRowDefinition:idx");0>a&&v.ha(a,">= 0",w,"removeRowDefinition:idx");var a=Math.round(a),b=this.Ke;b[a]&&(b[a]=f)};v.m(w,{Du:"columnCount"},function(){return this.Ae.length});
w.prototype.getColumnDefinition=w.prototype.wd=function(a){t&&v.j(a,w,"getColumnDefinition:idx");0>a&&v.ha(a,">= 0",w,"getColumnDefinition:idx");var a=Math.round(a),b=this.Ae;if(b[a]===f){var c=new Uj;c.Gk(this);c.dl=h;c.U=a;b[a]=c}return b[a]};w.prototype.removeColumnDefinition=w.prototype.tK=function(a){t&&v.j(a,w,"removeColumnDefinition:idx");0>a&&v.ha(a,">= 0",w,"removeColumnDefinition:idx");var a=Math.round(a),b=this.Ae;b[a]&&(b[a]=f)};v.a(w,"rowSizing",w.prototype.yD);
v.defineProperty(w,{yD:"rowSizing"},s("Jq"),function(a){var b=this.Jq;b!==a&&(a!==zk&&a!==Gk&&v.g("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Jq=a,this.L(),this.d("rowSizing",b,a))});v.a(w,"columnSizing",w.prototype.xB);
v.defineProperty(w,{xB:"columnSizing"},s("Po"),function(a){var b=this.Po;b!==a&&(a!==zk&&a!==Gk&&v.g("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Po=a,this.L(),this.d("columnSizing",b,a))});v.a(w,"topIndex",w.prototype.oH);v.defineProperty(w,{oH:"topIndex"},s("jn"),function(a){var b=this.jn;b!==a&&((!isFinite(a)||0>a)&&v.g("topIndex must be greater than zero and a real number. Was "+a),this.jn=a,uj(this),this.d("topIndex",b,a))});
v.a(w,"leftIndex",w.prototype.tG);v.defineProperty(w,{tG:"leftIndex"},s("Nm"),function(a){var b=this.Nm;b!==a&&((!isFinite(a)||0>a)&&v.g("leftIndex must be greater than zero and a real number. Was "+a),this.Nm=a,uj(this),this.d("leftIndex",b,a))});v.a(w,"data",w.prototype.data);
v.defineProperty(w,{data:"data"},s("sm"),function(a){var b=this.sm;if(b!==a){var c=this instanceof R&&!(this instanceof sf);c&&v.e(a,"object",w,"data");uf(this);this.sm=a;var d=this.b;d!==n&&(c?(b!==n&&d.Xf.remove(b),a!==n&&d.Xf.add(a,this)):(c=this.Y,c!==n&&c.jf!==n&&(b!==n&&c.jf.remove(b),a!==n&&c.jf.add(a,this))));this.d("data",b,a);d!==n&&d.ia.hb||a!==n&&this.tc()}});function Qj(a){a=a.Sk;return a!==n&&a.Sa}
function uf(a){var b=a.Sk;if(b===n)a.data!==n&&v.g("Template cannot have .data be non-null: "+a),a.Sk=b=new z(Ye);else if(b.Sa)return;var c=new z(Q);Jk(a,a,function(a,d){var e=d.ac;if(e!==n){d.lm=p;for(var g=e.f;g.next();){e=g.value;e.mode===$e&&(d.lm=h);var i=e.uo;if(i!==n){var r=a;""!==i&&(r=a.Ve(i));r!==n&&(c.add(r),r.Xq===f&&(r.Xq=new z(Ye)),r.Xq.add(e))}b.add(e)}}if(d instanceof w){if(0<d.Ke.length){g=d.Ke;i=g.length;for(r=0;r<i;r++){var u=g[r];if(u!==f&&u.ac!==n)for(var x=u.ac.f;x.next();)e=
x.value,e.tf=u,e.vx=2,e.ku=u.index,b.add(e)}}if(0<d.Ae.length){g=d.Ae;i=g.length;for(r=0;r<i;r++)if(u=g[r],u!==f&&u.ac!==n)for(x=u.ac.f;x.next();)e=x.value,e.tf=u,e.vx=1,e.ku=u.index,b.add(e)}}});for(var d=c.f;d.next();){var e=d.value;if(e.Xq!==f){e.lm=h;for(var g=e.Xq.f;g.next();){var i=g.value;e.ac===n&&(e.ac=new z(Ye));e.ac.add(i)}}delete e.Xq}for(d=b.f;d.next();)e=d.value,g=e.tf,g!==n&&(e.tf=n,g===a?e.bm="":(g instanceof Uj&&(g=g.Y),e.bm=""!==g.name?g.name:g.name="_"+v.qc(g)));b.freeze()}
w.prototype.updateTargetBindings=w.prototype.tc=function(a){var b=this.Sk;if(b!==n){a===f&&(a="");for(b=b.f;b.next();){var c=b.value,d=c.kz;if(!(""!==a&&d!==a)&&(d=c.pz,!(c.AB===n&&""===d))){var d=this.data,e=c.uo;e!==n&&(d=this.Ve(e));if(d===n)t&&v.trace("Binding error: missing GraphObject named "+e+" in "+this.toString());else{var e=this,g=c.bm;if(""!==g){if(e=this.Ve(g),e===n)continue}else c.tf!==n&&(e=c.tf);g=c.vx;if(0!==g){if(!(e instanceof w))continue;1===g?e=e.wd(c.ku):2===g&&(e=e.Xd(c.ku))}e!==
f&&c.bE(e,d)}}}}};v.a(w,"itemArray",w.prototype.Iy);v.defineProperty(w,{Iy:"itemArray"},s("Wj"),function(a){var b=this.Wj;if(b!==a){t&&(a!==n&&!v.isArray(a))&&v.g("Panel.itemArray must be an Array-like object or null, not: "+a);var c=this.b;c!==n&&b!==n&&Ci(c,this);this.Wj=a;c!==n&&a!==n&&Ai(c,this);this.d("itemArray",b,a);c!==n&&c.ia.hb||this.az()}});
w.prototype.rebuildItemElements=w.prototype.az=function(){for(;0<this.oa.length;)this.Id(0);var a=this.Iy;if(a!==n)for(var b=v.Kb(a),c=0;c<b;c++)Mh(this,v.wb(a,c))};
function Mh(a,b,c){if(!(b===f||b===n)){var d=a.getCategoryForItemData(b),e=a.FC,g=n;e!==n&&(g=e.ga(d));g===n&&(v.IE===f&&(v.IE=h,v.trace('No item template Panel found for category "'+d+'" on '+a),v.trace("  Using default item template.")),g=a.b.pE);g instanceof w&&(uf(g),e=g.copy(),"object"===typeof b&&(a.jf===n&&(a.jf=new ra(Object,w)),a.jf.add(b,e)),"number"===typeof c?(a.rc(c,e),Mk(e,c),Nh(a,c)):(a.add(e),Mk(e,a.oa.count-1)),e.Qw=d,e.data=b)}}
function Nh(a,b){for(var c=a.oa,d=b+1;d<c.length;){var e=c.R(d);e instanceof w&&Mk(e,d);d++}}function Mk(a,b){a.type===pj?a.Yb=b:a.type===qj&&(a.nc=b)}w.prototype.isItemPanel=w.prototype.lG=function(){return this.Wj!==n||this.bg!==n};v.a(w,"itemTemplate",w.prototype.pG);
v.defineProperty(w,{pG:"itemTemplate"},function(){return this.bg===n?n:this.bg.ga("")},function(a){this.bg===n&&(this.bg=new ra("string",w));var b=this.bg.ga("");b!==a&&(v.c(a,w,w,"itemTemplate"),a instanceof R&&v.g("itemTemplate must not be a Part: "+a),this.bg.add("",a),this.d("itemTemplate",b,a),a=this.b,a!==n&&a.ia.hb||this.az())});v.a(w,"itemTemplateMap",w.prototype.FC);
v.defineProperty(w,{FC:"itemTemplateMap"},s("bg"),function(a){var b=this.bg;if(b!==a){v.c(a,ra,w,"itemTemplateMap");for(var c=a.f;c.next();){var d=c.value;d instanceof R&&v.g("Template in itemTemplateMap must not be a Part: "+d)}this.bg=a;this.d("itemTemplateMap",b,a);a=this.b;a!==n&&a.ia.hb||this.az()}});v.a(w,"itemCategoryProperty",w.prototype.oG);
v.defineProperty(w,{oG:"itemCategoryProperty"},s("Jm"),function(a){var b=this.Jm;b!==a&&("string"!==typeof a&&"function"!==typeof a&&v.Fc(a,"string or function",w,"itemCategoryProperty"),this.Jm=a,this.d("itemCategoryProperty",b,a))});
w.prototype.getCategoryForItemData=w.prototype.gJ=function(a){if(a===n)return"";var b=this.Jm;if("function"===typeof b)b=b(a);else if("string"===typeof b&&"object"===typeof a){if(""===b)return"";b=v.cb(a,b)}else return"";if(b===f)return"";if("string"===typeof b)return b;t&&v.trace("Panel.getCategoryForItemData found a non-string category for "+a+": "+b);return""};v.a(w,"isAtomic",w.prototype.iG);
v.defineProperty(w,{iG:"isAtomic"},s("Pg"),function(a){var b=this.Pg;b!==a&&(v.e(a,"boolean",w,"isAtomic"),this.Pg=a,this.d("isAtomic",b,a))});function Uj(){v.Tb(this);this.ek=n;this.dl=h;this.U=0;this.Le=NaN;this.jl=0;this.il=Infinity;this.ra=cc;this.ob=this.Pa=0;this.ac=n;this.Uq=Nk;this.Yg=Vg}v.J("RowColumnDefinition",Uj);
Uj.prototype.copy=function(){var a=new Uj;a.dl=this.dl;a.U=this.U;a.Le=this.Le;a.jl=this.jl;a.il=this.il;a.ra=this.ra;a.Pa=this.Pa;a.ob=this.ob;a.Yg=this.Yg;a.Uq=this.Uq;a.ac=this.ac;return a};var Nk;Uj.Default=Nk=v.l(Uj,"Default",0);var Gk;Uj.None=Gk=v.l(Uj,"None",1);var zk;Uj.ProportionalExtra=zk=v.l(Uj,"ProportionalExtra",2);Uj.prototype.Gk=ba("ek");function Ek(a,b){a.Pa=isNaN(a.Le)?Math.max(Math.min(a.il,b),a.jl):Math.max(Math.min(a.il,a.Le),a.jl)}
Uj.prototype.Dd=function(a,b,c,d,e){var g=this.ek;if(g!==n){g.L();for(var i=this.bv,j=g.oa,k=j.length,l=0;l<k;l++){var m=j.i[l];(i?m.Yb:m.nc)===this.index&&m.L()}g.be(ze,a,this,b,c,d,e);if(this.ac!==n&&(b=g.Kr(),b!==n&&(b=b.data,b!==n)))for(c=this.ac.f;c.next();)c.value.aE(this,b,a)}};v.m(Uj,{Y:"panel"},s("ek"));v.m(Uj,{bv:"isRow"},s("dl"));v.m(Uj,{index:"index"},s("U"));v.a(Uj,"height",Uj.prototype.height);
v.defineProperty(Uj,{height:"height"},s("Le"),function(a){var b=this.Le;b!==a&&(t&&v.e(a,"number",Uj,"height"),0>a&&v.ha(a,">= 0",Uj,"height"),this.Le=a,Ek(this,this.Pa),this.Dd("size",b,a))});v.a(Uj,"width",Uj.prototype.width);v.defineProperty(Uj,{width:"width"},s("Le"),function(a){var b=this.Le;b!==a&&(t&&v.e(a,"number",Uj,"width"),0>a&&v.ha(a,">= 0",Uj,"width"),this.Le=a,Ek(this,this.Pa),this.Dd("size",b,a))});v.a(Uj,"minimum",Uj.prototype.Ff);
v.defineProperty(Uj,{Ff:"minimum"},s("jl"),function(a){var b=this.jl;b!==a&&(t&&v.e(a,"number",Uj,"minimum"),(0>a||!isFinite(a))&&v.ha(a,">= 0",Uj,"minimum"),this.jl=a,Ek(this,this.Pa),this.Dd("minimum",b,a))});v.a(Uj,"maximum",Uj.prototype.Md);v.defineProperty(Uj,{Md:"maximum"},s("il"),function(a){var b=this.il;b!==a&&(t&&v.e(a,"number",Uj,"maximum"),0>a&&v.ha(a,">= 0",Uj,"maximum"),this.il=a,Ek(this,this.Pa),this.Dd("maximum",b,a))});v.a(Uj,"alignment",Uj.prototype.vb);
v.defineProperty(Uj,{vb:"alignment"},s("ra"),function(a){var b=this.ra;b.z(a)||(t&&v.c(a,G,Uj,"alignment"),this.ra=a.F(),this.Dd("alignment",b,a))});v.a(Uj,"stretch",Uj.prototype.wh);v.defineProperty(Uj,{wh:"stretch"},s("Yg"),function(a){var b=this.Yg;b!==a&&(t&&v.Za(a,Q,Uj,"stretch"),this.Yg=a,this.Dd("stretch",b,a))});v.a(Uj,"sizing",Uj.prototype.qs);v.defineProperty(Uj,{qs:"sizing"},s("Uq"),function(a){var b=this.Uq;b!==a&&(t&&v.Za(a,Uj,Uj,"sizing"),this.Uq=a,this.Dd("sizing",b,a))});
function Fk(a){if(a.qs===Nk){var b=a.ek;return a.bv?b.yD:b.xB}return a.qs}v.m(Uj,{Rd:"actual"},s("Pa"));v.m(Uj,{position:"position"},s("ob"));Uj.prototype.bind=Uj.prototype.bind=function(a){a.tf=this;var b=this.Y;b!==n&&(b=b.Kr(),b!==n&&Qj(b)&&v.g("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a));this.ac===n&&(this.ac=new z(Ye));this.ac.add(a)};
function W(){Q.call(this);this.Ba=n;this.mp="None";this.Ug=p;this.up=Vg;this.Ij=n;this.Ac=this.ff="black";this.Qd=1;this.cn="butt";this.dn="miter";this.en=10;this.Uh=this.Th=cc;this.sq=this.rq=0;this.Ip=h;this.DE=new E;this.Am=this.hn="None";this.Ap=1}v.J("Shape",W);v.va(W,Q);
W.prototype.qb=function(a){Q.prototype.qb.call(this,a);a.Ba=this.Ba;a.mp=this.mp;a.Ug=this.Ug;a.up=this.up;a.Ij=this.Ij;a.ff=this.ff;a.Ac=this.Ac;a.Qd=this.Qd;a.cn=this.cn;a.dn=this.dn;a.en=this.en;a.Th=this.Th.F();a.Uh=this.Uh.F();a.rq=this.rq;a.sq=this.sq;a.Ip=this.Ip;a.hn=this.hn;a.Am=this.Am;a.Ap=this.Ap};W.prototype.toString=function(){return"Shape("+("None"!==this.ab?this.ab:"None"!==this.em?this.em:this.Uu)+")#"+v.qc(this)};
W.prototype.Gn=function(a){if(!(this.Ac===n&&this.ff===n)){this.ff!==n&&rj(this,a,this.ff,h);this.Ac!==n&&rj(this,a,this.Ac,p);a.lineWidth=this.Qd;a.lineJoin=this.dn;a.lineCap=this.cn;a.miterLimit=this.en;var b=p;this.ba&&(b=this.ba.Rl);var c=h;this.Ac!==n&&this.ff===n&&(c=p);var d=this.Ba;if(d!==n)if(d.M===Kd)a.beginPath(),a.moveTo(d.Vb,d.gc),a.lineTo(d.Jc,d.Tc),this.ff!==n&&a.fill(),this.Ac!==n&&a.stroke();else if(d.M===Md){var e=d.Vb,g=d.gc,i=d.Jc,d=d.Tc,j=Math.min(e,i),k=Math.min(g,d),e=Math.abs(i-
e),g=Math.abs(d-g);this.ff!==n&&a.fillRect(j,k,e,g);if(this.Ac!==n){if(c&&b){var l=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}a.strokeRect(j,k,e,g);c&&b&&(a.shadowOffsetX=l[0],a.shadowOffsetY=l[1],a.shadowBlur=l[2])}}else if(d.M===Nd)e=d.Vb,g=d.gc,i=d.Jc,d=d.Tc,j=Math.abs(i-e)/2,k=Math.abs(d-g)/2,e=Math.min(e,i)+j,g=Math.min(g,d)+k,a.beginPath(),a.moveTo(e,g-k),a.bezierCurveTo(e+Hc*j,g-k,e+j,g-Hc*k,e+j,g),a.bezierCurveTo(e+j,g+Hc*k,e+Hc*j,g+k,
e,g+k),a.bezierCurveTo(e-Hc*j,g+k,e-j,g+Hc*k,e-j,g),a.bezierCurveTo(e-j,g-Hc*k,e-Hc*j,g-k,e,g-k),a.closePath(),this.ff!==n&&a.fill(),this.Ac!==n&&(c&&b&&(l=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),c&&b&&(a.shadowOffsetX=l[0],a.shadowOffsetY=l[1],a.shadowBlur=l[2]));else if(d.M===Hd){g=d.Yk;d=g.length;for(e=0;e<d;e++){c=g.i[e];a.beginPath();a.moveTo(c.Ga,c.Ha);i=c.kb.i;j=i.length;for(k=0;k<j;k++){var m=i[k];switch(m.M){case de:a.moveTo(m.P,
m.Q);break;case ae:a.lineTo(m.P,m.Q);break;case ee:a.bezierCurveTo(m.fk,m.gk,m.nl,m.ol,m.pl,m.ql);break;case fe:a.quadraticCurveTo(m.fk,m.gk,m.pl,m.ql);break;case ge:var q=Math.PI/180;a.arc(m.nm,m.om,m.Wl,m.qi*q,(m.qi+m.pj)*q,0>m.pj?h:p);break;default:v.g("Segment not of valid type")}m.Di&&a.closePath()}c.Cp===h&&this.ff!==n?(a.fill(),c=h):c=c.ag?p:h;this.Ac!==n&&(c&&b&&(l=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),c&&b&&(a.shadowOffsetX=
l[0],a.shadowOffsetY=l[1],a.shadowBlur=l[2]))}}}};W.prototype.zg=function(){Q.prototype.zg.call(this);var a=this.b;a!==n&&(Ti(a,"fill",this.fill),Ti(a,"geometry",this.Pr),this.Nn!==Vg&&Ti(a,"geometryStretch",this.Nn),Ti(a,"stroke",this.stroke),"butt"!==this.mz&&Ti(a,"strokeCap",this.mz),"miter"!==this.nz&&Ti(a,"strokeJoin",this.nz),10!==this.oz&&Ti(a,"strokeMiterLimit",this.oz),Ti(a,"strokeWidth",this.Ya))};
W.prototype.getDocumentPoint=W.prototype.Fb=function(a){Yb(a)&&v.g("Spot must be real");var b=this.qa,c=this.Ya,a=new D(a.x*(b.width+c)-c/2+b.x+a.offsetX,a.y*(b.height+c)-c/2+b.y+a.offsetY);this.ke.Hb(a);return a};
W.prototype.Ui=function(a,b){var c=this.Ba;if(c===n||this.fill===n&&this.stroke===n)return p;var d=c.rb,e=this.Ya/2;c.type===Kd&&!b&&(e+=2);var g=this.DE;g.set(d);g.zf(e+2,e+2);if(!g.ka(a))return p;d=e+1E-4;if(c.type===Kd){if(this.stroke===n)return p;d=(c.P-c.Ga)*(a.x-c.Ga)+(c.Q-c.Ha)*(a.y-c.Ha);return 0>(c.Ga-c.P)*(a.x-c.P)+(c.Ha-c.Q)*(a.y-c.Q)||0>d?p:Uc(c.Ga,c.Ha,c.P,c.Q,e,a.x,a.y)}if(c.type===Md){var i=c.Ga,j=c.Ha,k=c.P,l=c.Q,c=Math.min(i,k),m=Math.min(j,l),i=Math.abs(k-i),j=Math.abs(l-j);g.x=
c;g.y=m;g.width=i;g.height=j;if(this.fill===n){g.zf(-d,-d);if(g.ka(a))return p;g.zf(d,d)}this.stroke!==n&&g.zf(e,e);return g.ka(a)}if(c.type===Nd){i=c.Ga;j=c.Ha;k=c.P;l=c.Q;c=Math.min(i,k);m=Math.min(j,l);i=Math.abs(k-i);j=Math.abs(l-j);g=i/2;j/=2;c=a.x-(c+g);m=a.y-(m+j);if(this.fill===n){g-=d;j-=d;if(0>=g||0>=j||1>=c*c/(g*g)+m*m/(j*j))return p;g+=d;j+=d}this.stroke!==n&&(g+=e,j+=e);return 0>=g||0>=j?p:1>=c*c/(g*g)+m*m/(j*j)}if(c.type===Hd)return this.fill===n?te(c,a.x,a.y,e):c.ka(a,e,1<this.Ya,b);
v.g("Unknown Geometry type");return p};
W.prototype.$r=function(a,b,c,d){var e=this.ta,g=this.Qd,a=Math.max(a,0),b=Math.max(b,0),i;this.Ug?i=this.Ba.rb:(Ok[this.ab]===f&&v.g("Unsupported Figure:"+this.ab),i=Ok[this.ab].rb);var j=i.width,k=i.height,l=i.width;i=i.height;switch(ij(this)){case cj:d=c=0;break;case Jd:l=Math.max(a-g,0);i=Math.max(b-g,0);break;case ej:l=Math.max(a-g,0);d=0;break;case dj:c=0,i=Math.max(b-g,0)}isFinite(e.width)&&(l=e.width);isFinite(e.height)&&(i=e.height);var e=this.Ld,m=this.ae,c=Math.max(c/this.scale,m.width)-
g,d=Math.max(d/this.scale,m.height)-g,l=Math.min(e.width,l);i=Math.min(e.height,i);l=isFinite(l)?Math.max(c,l):Math.max(j,c);i=isFinite(i)?Math.max(d,i):Math.max(k,d);c=this.Nn;c=this.Ug?c===Vg?Jd:c:c===Vg?Ok[this.ab].Ub:c;switch(c){case cj:break;case Jd:j=l;k=i;break;case Wg:l=Math.min(l/j,i/k);isFinite(l)||(l=1);j*=l;k*=l;break;default:v.g(c+"is not a valid geometryStretch.")}if(this.Ug){d=this.Pr;i=j;c=k;l=d.copy();d=d.rb;i/=d.width;c/=d.height;isFinite(i)||(i=1);isFinite(c)||(c=1);if(!(1===i&&
1===c)){switch(l.type){case Kd:case Md:case Nd:l.Vb*=i;l.gc*=c;l.Jc*=i;l.Tc*=c;break;case Hd:d=l.Pb;e=d.length;for(m=0;m<e;m++){var q=d.i[m];q.Ga*=i;q.Ha*=c;for(var q=q.kb,r=q.length,u=0;u<r;u++){var x=q.i[u];switch(x.type){case ae:case de:x.P*=i;x.Q*=c;break;case ee:x.fk*=i;x.gk*=c;x.nl*=i;x.ol*=c;x.Jc*=i;x.Tc*=c;break;case fe:x.Ec*=i;x.xd*=c;x.P*=i;x.Q*=c;break;case ge:x.Da*=i;x.Ea*=c;x.Wl*=i;x.mo!==f&&(x.mo*=c);break;default:v.g("Unknown Segment type: "+x.type)}}}}l.Ma=h}this.Ba=l}else if(this.Ba===
n||this.Ba.ht!==a||this.Ba.gt!==b)l=j,i=k,d=this.ta,c=d.width,d=d.height,l!==f&&(!isNaN(l)&&isFinite(l))&&(c=l),i!==f&&(!isNaN(i)&&isFinite(i))&&(d=i),isFinite(c)||(c=100),isFinite(d)||(d=100),e=f,"None"!==this.em?e=Pk(this.em):"None"!==this.Uu?e=Pk(this.Uu):(m=Qk[this.ab],"string"===typeof m&&(m=Qk[m]),m===f&&v.g("Unknown Shape.figure: "+this.ab),e=m(this,c,d),e.Cd=new J(c,d)),e===f&&(m=Qk.Rectangle)&&(e=m(this,c,d)),e.ht=l,e.gt=i,this.Ba=e;i=this.Ba.rb;fj(this,i.x-g/2,i.y-g/2,0===a&&0===j?0:i.width+
g,0===b&&0===k?0:i.height+g)};function Hk(a,b,c){if(a.ec!==p){a.Nc.wa();var d=a.Qd*a.Jb;fj(a,-(d/2),-(d/2),b+d,c+d);b=a.Nc;c=a.Ld;d=a.ae;b.width=Math.min(c.width,b.width);b.height=Math.min(c.height,b.height);b.width=Math.max(d.width,b.width);b.height=Math.max(d.height,b.height);a.Nc.freeze();a.Nc.ca()||v.g("Non-real measuredBounds has been set");a.ec=p}}W.prototype.Si=function(a,b,c,d){lj(this,a,b,c,d)};
W.prototype.Vu=function(a,b,c){var d=this.transform.copy();d.Xu();var e=Nb(d,a),g=Nb(d,b),i=this.Ya/2,d=this.Ba;d===n&&(xh(this,Infinity,Infinity),d=this.Ba);var j=d.rb,k=p;if(d.type===Kd)if(1.5>=this.Ya)k=id(d.Vb,d.gc,d.Jc,d.Tc,e.x,e.y,g.x,g.y,c);else{d.Vb===d.Jc?(a=i,k=0):(a=(d.Tc-d.gc)/(d.Jc-d.Vb),k=i/Math.sqrt(1+a*a),a*=k);i=[];b=new D;id(d.Vb+a,d.gc+k,d.Jc+a,d.Tc+k,e.x,e.y,g.x,g.y,b)&&i.push(b);b=new D;id(d.Vb-a,d.gc-k,d.Jc-a,d.Tc-k,e.x,e.y,g.x,g.y,b)&&i.push(b);b=new D;id(d.Vb+a,d.gc+k,d.Vb-
a,d.gc-k,e.x,e.y,g.x,g.y,b)&&i.push(b);b=new D;id(d.Jc+a,d.Tc+k,d.Jc-a,d.Tc-k,e.x,e.y,g.x,g.y,b)&&i.push(b);if(0===i.length)return p;k=h;g=Infinity;for(j=0;j<i.length;j++){var d=i[j],l=(d.x-e.x)*(d.x-e.x)+(d.y-e.y)*(d.y-e.y);l<g&&(g=l,c.x=d.x,c.y=d.y)}}else if(d.type===Md)k=kd(j.copy().zf(i,i),e,g,c);else if(d.type===Nd)a:if(d=j.copy().zf(i,i),0===d.width)k=id(d.x,d.y,d.x,d.y+d.height,e.x,e.y,g.x,g.y,c);else if(0===d.height)k=id(d.x,d.y,d.x+d.width,d.y,e.x,e.y,g.x,g.y,c);else{var a=d.width/2,m=d.height/
2,k=d.x+a,d=d.y+m,b=9999;e.x!==g.x&&(b=(e.y-g.y)/(e.x-g.x));if(9999>Math.abs(b)){g=e.y-d-b*(e.x-k);if(0>a*a*b*b+m*m-g*g){c.x=NaN;c.y=NaN;k=p;break a}j=Math.sqrt(a*a*b*b+m*m-g*g);i=(-(a*a*b*g)+a*m*j)/(m*m+a*a*b*b)+k;m=(-(a*a*b*g)-a*m*j)/(m*m+a*a*b*b)+k;a=b*(i-k)+g+d;d=b*(m-k)+g+d;k=Math.abs((e.x-i)*(e.x-i))+Math.abs((e.y-a)*(e.y-a));b=Math.abs((e.x-m)*(e.x-m))+Math.abs((e.y-d)*(e.y-d));k<b?(c.x=i,c.y=a):(c.x=m,c.y=d)}else{i=m*m;k=e.x-k;k=i-i/(a*a)*k*k;if(0>k){c.x=NaN;c.y=NaN;k=p;break a}j=Math.sqrt(k);
a=d+j;d-=j;k=Math.abs(a-e.y);b=Math.abs(d-e.y);k<b?(c.x=e.x,c.y=a):(c.x=e.x,c.y=d)}k=h}else if(d.type===Hd){var q,r,u,x=e.x,y=e.y,C=g.x,F=g.y,H=new D,g=e.Yi(g);c.x=C;c.y=F;for(j=0;j<d.Pb.count;j++){r=d.Pb.i[j];var I=r.kb;q=r.Ga;r=r.Ha;for(var M=q,U=r,ma,da,Ba=0;Ba<I.count;Ba++){ma=I.i[Ba];da=ma.type;l=ma.P;u=ma.Q;var qa=p;switch(da){case de:M=l;U=u;break;case ae:qa=Rk(q,r,l,u,x,y,C,F,H);break;case ee:qa=ma.Ec;da=ma.xd;var sa=ma.Dk,Ga=ma.Ek,qa=cd(q,r,qa,da,sa,Ga,l,u,x,y,C,F,0.5,H);break;case fe:qa=
(q+2*ma.Ec)/3;da=(r+2*ma.xd)/3;sa=(2*ma.Ec+l)/3;Ga=(2*ma.Ec+l)/3;qa=cd(q,r,qa,da,sa,Ga,l,u,x,y,C,F,0.5,H);break;case ge:u=re(ma);da=u.length;for(j=0;j<da;j++)m=u[j],0===j&&Rk(q,r,m.fm,m.gm,x,y,C,F,H)&&(l=Sk(e,H,g,c),l<g&&(g=l,k=h)),cd(m.fm,m.gm,m.Dv,m.Fv,m.Ev,m.Gv,m.Lk,m.Mk,x,y,C,F,0.5,H)&&(l=Sk(e,H,g,c),l<g&&(g=l,k=h));l=m.Lk;u=m.Mk;break;default:v.g("Unknown Segment type: "+ma.type)}q=l;r=u;qa&&(l=Sk(e,H,g,c),l<g&&(g=l,k=h));ma.Zu&&(l=M,u=U,Rk(q,r,l,u,x,y,C,F,H)&&(l=Sk(e,H,g,c),l<g&&(g=l,k=h)))}}e=
b.x-a.x;d=b.y-a.y;a=Math.sqrt(e*e+d*d);c.x-=e/a*i;c.y-=d/a*i}else v.g("Invalid Geometry type");if(!k)return p;b=Nb(this.transform,c);c.x=b.x;c.y=b.y;return h};function Sk(a,b,c,d){a=a.Yi(b);return a<c?(d.x=b.x,d.y=b.y,a):c}
function Rk(a,b,c,d,e,g,i,j,k){var l=p,m=(e-i)*(b-d)-(g-j)*(a-c);if(0===m)return p;k.x=((e*j-g*i)*(a-c)-(e-i)*(a*d-b*c))/m;k.y=((e*j-g*i)*(b-d)-(g-j)*(a*d-b*c))/m;if((a>c?a-c:c-a)<(b>d?b-d:d-b)){if(e=b<d?b:d,a=b<d?d:b,(k.y>e||jb(k.y,e))&&(k.y<a||jb(k.y,a)))l=h}else if(e=a<c?a:c,a=a<c?c:a,(k.x>e||jb(k.x,e))&&(k.x<a||jb(k.x,a)))l=h;return l}
W.prototype.containedInRect=W.prototype.gy=function(a,b){if(b===f)return a.Cl(this.pa);var c=this.Ba;c===n&&(xh(this,Infinity,Infinity),c=this.Ba);var c=c.rb,d=this.Ya/2;return!a.ka(b.Hb(new D(c.x-d,c.y-d)))||!a.ka(b.Hb(new D(c.x-d,c.bottom+d)))||!a.ka(b.Hb(new D(c.right+d,c.bottom+d)))||!a.ka(b.Hb(new D(c.right+d,c.y-d)))?p:h};
W.prototype.intersectsRect=W.prototype.Xe=function(a){function b(a,b){i.x=a*c.m11+b*c.m21+c.Na;i.y=a*c.m12+b*c.m22+c.Oa}if(a.Cl(this.pa))return h;var c=this.transform.copy();c.Xu();var d=a.left,e=a.right,g=a.top,a=a.bottom,i=new D;b(d,g);if(this.Ui(i,h))return h;b(e,g);if(this.Ui(i,h))return h;b(d,a);if(this.Ui(i,h))return h;b(e,a);if(this.Ui(i,h))return h;var j=new D,k=new D;j.x=e;j.y=g;i.x=d;i.y=g;if(Tk(this,i,j,k))return h;i.x=e;i.y=a;if(Tk(this,i,j,k))return h;j.x=d;j.y=a;if(Tk(this,i,j,k))return h;
i.x=d;i.y=g;return Tk(this,i,j,k)?h:p};function Tk(a,b,c,d){if(!a.Vu(b,c,d))return p;var a=b.x,b=b.y,e=c.x,g=c.y,c=d.x,d=d.y;if(a===e){var i;b<g?(i=b,a=g):(i=g,a=b);return d>=i&&d<=a}a<e?(i=a,a=e):i=e;return c>=i&&c<=a}
W.prototype.fC=function(a,b){if(this.fill!==n&&this.Ui(a,h))return h;var c=a.Yi(b),d=c;1.5<this.Ya&&(c=this.Ya/2+Math.sqrt(c),c*=c);var e=this.Ba;e===n&&(xh(this,Infinity,Infinity),e=this.Ba);var g=e.Vb,i=e.gc,j=e.Jc,k=e.Tc;if(e.type===Kd){var e=sb(a.x,a.y,g,i,j,k),l=(g-j)*(a.x-j)+(i-k)*(a.y-k);if(e<=(0<=(j-g)*(a.x-g)+(k-i)*(a.y-i)&&0<=l?c:d))return h}else if(e.type===Md){if(sb(a.x,a.y,g,i,g,k)<=c||sb(a.x,a.y,g,i,j,i)<=c||sb(a.x,a.y,j,i,j,k)<=c||sb(a.x,a.y,g,k,j,k)<=c)return h}else if(e.type===Nd){var e=
a.x-(g+j)/2,d=a.y-(i+k)/2,l=Math.abs(j-g)/2,m=Math.abs(k-i)/2;if(0===l||0===m)return e=sb(a.x,a.y,g,i,j,k),e<=c?h:p;g=new D(Infinity,Infinity);jd(e,d,0,0,-l,-m,l,m,g);jd(e,d,0,m,-l,-m,l,m,g);jd(e,d,0,-m,-l,-m,l,m,g);jd(e,d,0,l,-l,-m,l,m,g);jd(e,d,0,-l,-l,-m,l,m,g);jd(e,d,l/2,m/2,-l,-m,l,m,g);jd(e,d,-l/2,m/2,-l,-m,l,m,g);jd(e,d,l/2,-m/2,-l,-m,l,m,g);jd(e,d,-l/2,-m/2,-l,-m,l,m,g);if((g.x-e)*(g.x-e)+(g.y-d)*(g.y-d)<c)return h}else if(e.type===Hd){k=e.rb;g=k.x;i=k.y;j=k.x+k.width;k=k.y+k.height;if(a.x>
j&&a.x<g&&a.y>k&&a.y<i&&sb(a.x,a.y,g,i,g,k)>c&&sb(a.x,a.y,g,i,j,i)>c&&sb(a.x,a.y,j,k,g,k)>c&&sb(a.x,a.y,j,k,j,i)>c)return p;c=Math.sqrt(c);if(this.fill===n?te(e,a.x,a.y,c):e.ka(a,c,h))return h}return p};v.a(W,"geometry",W.prototype.Pr);v.defineProperty(W,{Pr:"geometry"},function(){return this.Ij?this.Ij:this.Ba},function(a){var b=this.Ba;b!==a&&(a!==n?(t&&v.c(a,Ed,W,"geometry"),this.Ij=this.Ba=a.freeze()):this.Ij=this.Ba=n,this.Ug=h,this.L(),this.d("geometry",b,a))});
W.prototype.Bf=function(){this.Ug?this.Ij=n:this.Ba=n;this.L()};v.a(W,"fill",W.prototype.fill);v.defineProperty(W,{fill:"fill"},s("ff"),function(a){var b=this.ff;if(b!==a&&(a===n||"string"===typeof a||a instanceof Ge))a instanceof Ge&&a.freeze(),this.ff=a,oj(this),this.d("fill",b,a)});v.a(W,"stroke",W.prototype.stroke);
v.defineProperty(W,{stroke:"stroke"},s("Ac"),function(a){var b=this.Ac;if(b!==a&&(a===n||"string"===typeof a||a instanceof Ge))a instanceof Ge&&a.freeze(),this.Ac=a,oj(this),this.d("stroke",b,a)});v.a(W,"strokeWidth",W.prototype.Ya);v.defineProperty(W,{Ya:"strokeWidth"},s("Qd"),function(a){var b=this.Qd;b!==a&&(t&&v.j(a,W,"strokeWidth"),0<=a&&(this.Qd=a,this.L(),this.d("strokeWidth",b,a)))});v.a(W,"strokeCap",W.prototype.mz);
v.defineProperty(W,{mz:"strokeCap"},s("cn"),function(a){var b=this.cn;b!==a&&("string"===typeof a&&("butt"===a||"round"===a||"square"===a)?(this.cn=a,oj(this),this.d("strokeCap",b,a)):v.ha(a,'"butt", "round", or "square"',W,"strokeCap"))});v.a(W,"strokeJoin",W.prototype.nz);
v.defineProperty(W,{nz:"strokeJoin"},s("dn"),function(a){var b=this.dn;b!==a&&("string"===typeof a&&("miter"===a||"bevel"===a||"round"===a)?(this.dn=a,oj(this),this.d("strokeJoin",b,a)):v.ha(a,'"miter", "bevel", or "round"',W,"strokeJoin"))});v.a(W,"strokeMiterLimit",W.prototype.oz);v.defineProperty(W,{oz:"strokeMiterLimit"},s("en"),function(a){var b=this.en;b!==a&&(t&&v.j(a,W,"strokeMiterLimit"),0<a&&(this.en=a,oj(this),this.d("strokeMiterLimit",b,a)))});v.a(W,"figure",W.prototype.ab);
v.defineProperty(W,{ab:"figure"},s("mp"),function(a){var b=this.mp;if(b!==a){t&&v.e(a,"string",W,"figure");var c=Qk[a];"function"===typeof c?c=a:(c=Qk[a.toLowerCase()])||v.g("Unknown Shape.figure: "+a);b!==c&&(this.mp=c,this.Ug=p,this.Bf(),this.d("figure",b,c))}});v.a(W,"toArrow",W.prototype.em);
v.defineProperty(W,{em:"toArrow"},s("hn"),function(a){var b=this.hn;a===h?a="Standard":a===p&&(a="None");if(b!==a){t&&v.e(a,"string",W,"toArrow");var c=Pk(a);c instanceof Ed?c=a:(c=Pk(a.toLowerCase()))||v.g("Unknown Shape.toArrow: "+a);b!==c&&(this.hn=c,this.Ug=p,this.Bf(),Uk(this,c),this.d("toArrow",b,c))}});v.a(W,"fromArrow",W.prototype.Uu);
v.defineProperty(W,{Uu:"fromArrow"},s("Am"),function(a){var b=this.Am;a===h?a="Standard":a===p&&(a="None");if(b!==a){t&&v.e(a,"string",W,"fromArrow");var c=Pk(a);c instanceof Ed?c=a:(c=Pk(a.toLowerCase()))||v.g("Unknown Shape.fromArrow: "+a);b!==c&&(this.Am=c,this.Ug=p,this.Bf(),Uk(this,c),this.d("fromArrow",b,c))}});
function Uk(a,b){var c=a.b;if(!(c!==n&&c.ia.hb)){a.ns=Vk;c=tc;switch(b){case "halfarrowtop":c=mc;break;case "halftriangletop":c=mc;break;case "openrighttriangletop":c=mc;break;case "opentriangletop":c=mc}"None"!==a.hn?(a.vh=-1,a.Qi=c):"None"!==a.Am&&(a.vh=0,a.Qi=new G(1-c.x,c.y))}}v.defineProperty(W,{n:"spot1"},s("Th"),function(a){v.c(a,G,W,"spot1");var b=this.Th;b.z(a)||(this.Th=a=a.F(),this.L(),this.d("spot1",b,a))});
v.defineProperty(W,{o:"spot2"},s("Uh"),function(a){v.c(a,G,W,"spot2");var b=this.Uh;b.z(a)||(this.Uh=a=a.F(),this.L(),this.d("spot2",b,a))});v.defineProperty(W,{Rb:"parameter1"},s("rq"),function(a){var b=this.rq;b!==a&&(this.rq=a,this.L(),this.d("parameter1",b,a))});v.defineProperty(W,{js:"parameter2"},s("sq"),function(a){var b=this.sq;b!==a&&(this.sq=a,this.L(),this.d("parameter2",b,a))});
v.m(W,{qa:"naturalBounds"},function(){if(this.Ba!==n)return this.vc.Xa(this.Ba.rb),this.vc;var a=this.ta;return new E(0,0,a.width,a.height)});v.a(W,"isRectangular",W.prototype.nG);v.defineProperty(W,{nG:"isRectangular"},s("Ip"),function(a){var b=this.Ip;b!==a&&(t&&v.e(a,"boolean",W,"isRectangular"),this.Ip=a,this.L(),this.d("isRectangular",b,a))});v.a(W,"geometryStretch",W.prototype.Nn);
v.defineProperty(W,{Nn:"geometryStretch"},s("up"),function(a){var b=this.up;b!==a&&(v.Za(a,Q,W,"geometryStretch"),this.up=a,this.d("geometryStretch",b,a))});v.a(W,"interval",W.prototype.ki);v.defineProperty(W,{ki:"interval"},s("Ap"),function(a){var b=this.Ap;t&&v.j(a,W,"interval");a=Math.floor(a);b!==a&&0<=a&&(this.Ap=a,this.L(),this.d("interval",b,a))});
function xa(){Q.call(this);this.td="";this.Ac="black";this.Ai="13px sans-serif";this.Me="start";this.Fp=h;this.ot=p;this.vl=Wk;this.vt=this.hl=0;this.Mj=this.Uw=this.Vw=n;this.Om={};this.kp=p;this.fe=this.Pi=this.cr=n}v.J("TextBlock",xa);v.va(xa,Q);
xa.prototype.qb=function(a){Q.prototype.qb.call(this,a);a.td=this.td;a.Ac=this.Ac;a.Ai=this.Ai;a.Me=this.Me;a.Fp=this.Fp;a.ot=this.ot;a.vl=this.vl;a.hl=this.hl;a.vt=this.vt;a.Vw=this.Vw;a.Uw=this.Uw;a.Mj=this.Mj;a.Om=this.Om;a.kp=this.kp;a.cr=this.cr;a.Pi=this.Pi;a.fe=this.fe};xa.prototype.toString=function(){return 22<this.td.length?'TextBlock("'+this.td.substring(0,20)+'"...)':'TextBlock("'+this.td+'")'};var Xk;xa.None=Xk=v.l(xa,"None",0);var Yk;xa.WrapFit=Yk=v.l(xa,"WrapFit",1);var Wk;
xa.WrapDesiredSize=Wk=v.l(xa,"WrapDesiredSize",2);xa.prototype.L=function(){Q.prototype.L.call(this);this.Mj=this.Uw=this.Vw=n};v.a(xa,"font",xa.prototype.font);v.defineProperty(xa,{font:"font"},s("Ai"),function(a){var b=this.Ai;b!==a&&(t&&v.e(a,"string",xa,"font"),this.Ai=a,this.L(),this.d("font",b,a))});v.a(xa,"text",xa.prototype.text);v.defineProperty(xa,{text:"text"},s("td"),function(a){var b=this.td,a=a!==n&&a!==f?a.toString():"";b!==a&&(this.td=a,this.L(),this.d("text",b,a))});
v.a(xa,"textAlign",xa.prototype.textAlign);v.defineProperty(xa,{textAlign:"textAlign"},s("Me"),function(a){var b=this.Me;b!==a&&(t&&v.e(a,"string",xa,"textAlign"),"start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.Me=a,oj(this),this.d("textAlign",b,a)):v.ha(a,'"start", "end", "left", "right", or "center"',xa,"textAlign"))});
v.m(xa,{qa:"naturalBounds"},function(){if(!this.vc.ca()){var a=Zk(this,this.td,this.font,{},999999).width,b=$k(this,a,{}),c=this.ta;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);zb(this.vc,a,b)}return this.vc});v.a(xa,"isMultiline",xa.prototype.av);v.defineProperty(xa,{av:"isMultiline"},s("Fp"),function(a){var b=this.Fp;b!==a&&(t&&v.e(a,"boolean",xa,"isMultiline"),this.Fp=a,this.L(),this.d("isMultiline",b,a))});v.a(xa,"wrap",xa.prototype.xz);
v.defineProperty(xa,{xz:"wrap"},s("vl"),function(a){var b=this.vl;b!==a&&(t&&v.Za(a,xa,xa,"wrap"),this.vl=a,this.L(),this.d("wrap",b,a))});v.a(xa,"stroke",xa.prototype.stroke);v.defineProperty(xa,{stroke:"stroke"},s("Ac"),function(a){var b=this.Ac;if(b!==a&&(a===n||"string"===typeof a||a instanceof Ge))a instanceof Ge&&a.freeze(),this.Ac=a,oj(this),this.d("stroke",b,a)});v.m(xa,{QJ:"lineCount"},s("hl"));v.a(xa,"editable",xa.prototype.Mu);
v.defineProperty(xa,{Mu:"editable"},s("kp"),function(a){var b=this.kp;b!==a&&(t&&v.e(a,"boolean",xa,"editable"),this.kp=a,this.d("editable",b,a))});v.a(xa,"textEditor",xa.prototype.qz);v.defineProperty(xa,{qz:"textEditor"},s("cr"),function(a){var b=this.cr;b!==a&&(a instanceof HTMLElement||v.g("textEditor must be an HTMLElement"),this.cr=a,this.d("textEditor",b,a))});v.a(xa,"errorFunction",xa.prototype.Er);
v.defineProperty(xa,{Er:"errorFunction"},s("fe"),function(a){var b=this.fe;b!==a&&(a!==n&&v.e(a,"function",xa,"errorFunction"),this.fe=a,this.d("errorFunction",b,a))});
xa.prototype.Gn=function(a,b){if(this.Ac!==n&&0!==this.td.length){var c=this.Ai;if(c!==n){var d=this.qa.width,e=yh(this,c);a.bw!==c&&(a.font=c,a.bw=c);a.textAlign=this.Me;rj(this,a,this.Ac,h);this.ot&&(rj(this,a,this.Ac,p),a.lineWidth=0.05*e);var c=this.Om,g=0,i=p,j=this.ke.Hb(new D(0,0)),k=this.ke.Hb(new D(0,e)),j=j.Yi(k),k=b.scale;3>j*k*k&&(i=h);j=c.$h.length;for(k=0;k<j;k++){var l=c.$h[k],m=c.yl[k];l>d&&(l=d);var q=a,r=g,u=e,x=i,y=0;"start"===this.Me||"left"===this.Me?y=0:"end"===this.Me||"right"===
this.Me?y=d:"center"===this.Me?y=d/2:v.g("textAlign must be start, end, left, right, or center");x?q.fillRect(0+y-l/2,r+0.25*u,l,1):(q.fillText(m,0+y,r+u-0.25*u),this.ot&&("end"===this.Me||"right"===this.Me?y-=l:"center"===this.Me&&(y-=l/2),q.moveTo(0+y,r+u-0.2*u),q.lineTo(0+y+l,r+u-0.2*u),q.stroke()));g+=e}}}};
xa.prototype.$r=function(a,b,c,d){var e={},g=0,i=0;if(isNaN(this.ta.width)){g=this.td;if(0===g.length)g=0;else if(this.av){for(var j=i=0,k=p,l={zh:0};!k;){var m=al(g,j,l);-1===m&&(m=g.length,k=h);j=bl(g.substr(j,m-j).replace(/^\s+|\s+$/g,""),this.Ai);j>i&&(i=j);j=l.zh}g=i}else i=al(g,0,{}),0<=i&&(g=g.substr(0,i)),g=j=bl(g,this.Ai);g=Math.min(g,a/this.scale)}else g=this.ta.width;this.Y&&(g=Math.min(g,this.Y.Ld.width),g=Math.max(g,this.Y.ae.width));i=$k(this,g,e);i=isNaN(this.ta.height)?Math.min(i,
b/this.scale):this.ta.height;if(this.xz===Yk||isNaN(this.ta.width))g=e.pi;g=Math.max(c,g);i=Math.max(d,i);zb(this.vc,g,i);fj(this,0,0,g,i);this.Om=e};xa.prototype.Si=function(a,b,c,d){lj(this,a,b,c,d)};
function Zk(a,b,c,d,e){b=b.replace(/^\s+|\s+$/g,"");d.pi===f&&(d.pi=0);d.$h===f&&(d.$h=[]);d.yl===f&&(d.yl=[]);var g=0,i;if(a.vl===Xk)return d.zh=1,d.pi=bl(b,c),d.$h.push(d.pi),d.yl.push(b),new J(d.pi,yh(a,c));a.Mj===n&&(a.Mj=yh(a,c));var a=a.Mj,j=b,k=0;0===j.length&&(k=1,d.$h.push(0),d.yl.push(j));for(;0<j.length;){for(var l=cl(j),j=j.substr(l.length);bl(l,c)>e;){var m=1,b=bl(l.substr(0,m),c);for(i=0;b<=e;)m++,i=b,b=bl(l.substr(0,m),c);1===m?(d.$h[k]=b,g=Math.max(g,b)):(d.$h[k]=i,g=Math.max(g,i));
m--;1>m&&(m=1);d.yl[k]=l.substr(0,m);k++;l=l.substr(m)}i=cl(j);for(b=bl(l+i,c);0<i.length&&b<=e;)l+=i,j=j.substr(i.length),i=cl(j),b=bl((l+i).replace(/^\s+|\s+$/g,""),c);l=l.replace(/^\s+|\s+$/g,"");""!==l&&(0===i.length?(d.$h.push(b),g=Math.max(g,b)):(i=bl(l,c),d.$h.push(i),g=Math.max(g,i)),d.yl.push(l),k++)}d.zh=k;d.pi=Math.max(d.pi,g);return new J(d.pi,a*d.zh)}function cl(a){for(var b=a.length,c=0;c<b&&" "!==a.charAt(c);)c++;for(;c<b&&" "===a.charAt(c);)c++;return c>=b?a:a.substr(0,c)}
function bl(a,b){v.du!==b&&(v.cu.font=b,v.du=b);return v.cu.measureText(a).width}function yh(a,b){if(a.Mj!==n)return a.Mj;v.du!==b&&(v.cu.font=b,v.du=b);var c=0;v.Ew[b]!==f&&5E3>v.bA?c=v.Ew[b]:(c=1.3*v.cu.measureText("M").width,v.Ew[b]=c,v.bA++);return c}function al(a,b,c){c.zh===f&&(c.zh=0);var d=a.indexOf("\r",b);-1===d&&(d=a.indexOf("\n",b));0<=d&&(c.zh="\r"===a[d]&&d+1<a.length&&"\n"===a[d+1]?d+2:d+1);return d}
function $k(a,b,c){var d=a.td,e=a.Ai,g=yh(a,e);if(0===d.length)return c.pi=0,a.hl=1,g;if(!a.av){var i=al(d,0,{});0<=i&&(d=d.substr(0,i))}for(var j=i=0,k=0,l=-1,m={zh:0},q=p;!q;)l=al(d,k,m),-1===l&&(l=d.length,q=h),k<=l&&(k=d.substr(k,l-k),a.vl!==Xk?(c.zh=0,k=Zk(a,k,e,c,b),i+=k.height,j+=c.zh):(Zk(a,k,e,c,Infinity),i+=g,j++)),k=m.zh;a.hl=j;return a.vt=i}
xa.prototype.zg=function(){Q.prototype.zg.call(this);var a=this.b;if(a!==n){var b=this.Om;b!==n&&(Ti(a,"sizeArray",b.$h),Ti(a,"textArray",b.yl),Ti(a,"font",this.font),Ti(a,"stroke",this.stroke),Ti(a,"textAlign",this.textAlign))}};v.a(xa,"textValidation",xa.prototype.ts);v.defineProperty(xa,{ts:"textValidation"},s("Pi"),function(a){var b=this.Pi;b!==a&&(a!==n&&v.e(a,"function",xa,"textValidation"),this.Pi=a,this.d("textValidation",b,a))});
function Tj(){Q.call(this);this.Gg=n;this.Wq="";this.Oi=(new E(NaN,NaN,NaN,NaN)).freeze();this.Em=Jd;this.gn=this.fe=n;this.it=this.ak=p}v.J("Picture",Tj);v.va(Tj,Q);Tj.prototype.qb=function(a){Q.prototype.qb.call(this,a);a.element=this.Gg;a.Wq=this.Wq;a.Oi.Xa(this.Oi);a.Em=this.Em;a.fe=this.fe};Tj.prototype.toString=function(){return"Picture("+this.source+")#"+v.qc(this)};v.a(Tj,"element",Tj.prototype.element);
v.defineProperty(Tj,{element:"element"},s("Gg"),function(a){var b=this.Gg;if(b!==a){a instanceof HTMLImageElement||(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement)||v.g("Picture.element must be an instance of Image, Canvas, or Video.");var c=this;a instanceof HTMLCanvasElement?this.it=h:(this.it=p,a.onerror=function(a){c.fe!==n&&c.fe(c,a)});this.Gg=a;this.d("element",b,a);a.complete===h||a.complete===f?(this.ak=h,this.ta.ca()||(this.ec=p,this.L())):(v.Ex.push(this),v.St===n&&(v.St=
setInterval(function(){for(var a=[],b=v.Ex,c=b.length,i=0;i<c;i++){var j=b[i];dl(j)||a.push(j)}0===a.length&&(clearInterval(v.St),v.St=n);v.Ex=a},600)))}});
function dl(a){var b=a.Gg;if(!b)return h;if(!b.complete)return p;if(a.ak===h)return h;a.ak=h;if(a.b)a.ta.ca()||(a.ec=p,a.L(),a.b.li()),Ch(a.b);else{var a=v.Vz,c=a.length;if(0===c)for(var c=document.getElementsByTagName("canvas"),d=c.length,b=0;b<d;b++){var e=c[b];e.parentElement&&e.parentElement.N&&a.push(e.parentElement.N)}c=a.length;for(b=0;b<c;b++)Ch(a[b])}return h}
function el(a){var b=document.createElement("canvas").getContext("2d");b.drawImage(a.Gg,0,0);try{b.getImageData(0,0,1,1),a.gn=p}catch(c){a.gn=h}}v.a(Tj,"source",Tj.prototype.source);v.defineProperty(Tj,{source:"source"},s("Wq"),function(a){var b=this.Wq;if(b!==a)if(v.e(a,"string",Tj,"source"),this.Wq=a,this.d("source",b,a),b=v.uE,b[a]!==f)this.element=b[a];else{var c=new Image;c.src=a;this.element=b[a]=c}});v.a(Tj,"sourceRect",Tj.prototype.Lf);
v.defineProperty(Tj,{Lf:"sourceRect"},s("Oi"),function(a){var b=this.Oi;b.z(a)||(v.c(a,E,Tj,"sourceRect"),this.Oi=a=a.F(),this.d("sourceRect",b,a))});v.a(Tj,"imageStretch",Tj.prototype.wC);v.defineProperty(Tj,{wC:"imageStretch"},s("Em"),function(a){var b=this.Em;b!==a&&(v.Za(a,Q,Tj,"imageStretch"),this.Em=a,this.d("imageStretch",b,a))});v.a(Tj,"errorFunction",Tj.prototype.Er);
v.defineProperty(Tj,{Er:"errorFunction"},s("fe"),function(a){var b=this.fe;if(b!==a){a!==n&&v.e(a,"function",Tj,"errorFunction");this.fe=a;if(this.Gg){var c=this;this.Gg.onerror=function(a){c.fe!==n&&c.fe(c,a)}}this.d("errorFunction",b,a)}});
Tj.prototype.Gn=function(a,b){if(!b.gp&&(this.gn===n&&el(this),this.gn))return;var c=this.Gg;if(c!==n){var d=c.src;(d===n||""===d)&&v.g("Element has no source attribute: "+c);var d=this.qa,e=0,g=0,i=this.it,j=i?+c.width:c.naturalWidth,i=i?+c.height:c.naturalHeight;if(!(0===j||0===i)){j===f&&c.videoWidth&&(j=c.videoWidth||d.width);i===f&&c.videoHeight&&(i=c.videoHeight||d.height);this.Lf.ca()&&(e=this.Oi.x,g=this.Oi.y,j=this.Oi.width,i=this.Oi.height);var k=j,l=i,m=this.Em;switch(m){case cj:if(this.Lf.ca())break;
e+=Math.max((k-d.width)/2,0);g+=Math.max((l-d.height)/2,0);j=Math.min(d.width,k);i=Math.min(d.height,l);break;case Jd:k=d.width;l=d.height;break;case Wg:case Xg:m===Wg?(m=Math.min(d.height/l,d.width/k),k*=m,l*=m):m===Xg&&(m=Math.max(d.height/l,d.width/k),k*=m,l*=m,e+=(k-d.width)/2,g+=(l-d.height)/2,j*=1/(k/d.width),i*=1/(l/d.height),k=d.width,l=d.height)}a.drawImage(c,e,g,j,i,Math.max((d.width-k)/2,0),Math.max((d.height-l)/2,0),Math.min(d.width,k),Math.min(d.height,l))}}};
v.m(Tj,{qa:"naturalBounds"},s("vc"));
Tj.prototype.$r=function(a,b,c,d){var e=this.ta,g=ij(this),i=this.Gg,j=this.it;if(j||!this.ak&&i&&i.complete)this.ak=h;i===n&&(b=a=0);g!==Jd&&g!==ej?isFinite(e.width)?a=e.width:i!==n&&this.ak!==p&&(a=this.Lf.ca()?this.Lf.width:j?+i.width:i.naturalWidth):(isFinite(a)||(a=this.Lf.ca()?this.Lf.width:j?+i.width:i.naturalWidth),c=0);g!==Jd&&g!==dj?isFinite(e.height)?b=e.height:i!==n&&this.ak!==p&&(b=this.Lf.ca()?this.Lf.height:j?+i.height:i.naturalHeight):(isFinite(b)||(b=this.Lf.ca()?this.Lf.height:j?
+i.height:i.naturalHeight),d=0);e=this.Ld;g=this.ae;c=Math.max(c/this.scale,g.width);d=Math.max(d/this.scale,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);i!==n&&!i.complete&&(isFinite(a)||(a=0),isFinite(b)||(b=0));zb(this.vc,a,b);fj(this,0,0,a,b)};Tj.prototype.Si=function(a,b,c,d){lj(this,a,b,c,d)};
Tj.prototype.zg=function(){Q.prototype.zg.call(this);var a=this.b;if(a!==n){Ti(a,"source",this.source);Ti(a,"imageStretch",this.wC);this.Lf.ca()&&Ti(a,"sourceRect",this.Lf);var b,c;this instanceof Tj&&this.element!==n&&(c=a.Fh.ga(v.qc(this.element)));b="number"===typeof c?c:-1;if(-1<b)a=a.Fg,a.add(","),Ma(a),a.add('"base64": { "class":"ref", "id":'+b+" }");else{c=this.Gg;b=c.naturalWidth;var d=c.naturalHeight;this.gn===n&&el(this);if(!(this.ak===p||this.gn===h||0===b||0===d)){b===f&&c.videoWidth&&
(b=c.videoWidth);d===f&&c.videoHeight&&(d=c.videoHeight);var e=document.createElement("canvas");e.width=b;e.height=d;e.getContext("2d").drawImage(c,0,0);c=e.toDataURL();b=-1;this instanceof Tj&&this.element!==n&&(v.Rn(this.element),b=a.Fh.count,a.Fh.add(v.qc(this.element),b));-1<b?(a=a.Fg,a.add(","),Ma(a),a.add('"base64": { "id":'+b+', "value":"'+c+'" }')):Ti(a,"base64",c)}}}};function K(){this.k=new Ed;this.jc=n}
function L(a,b,c,d,e){a.k===n&&v.g("StreamGeometryContext has been closed");e!==f&&e===h?(a.jc===n&&v.g("Need to call beginFigure first"),d=new ue(de),d.P=b,d.Q=c,a.jc.kb.add(d)):(a.jc=new Id,a.jc.Ga=b,a.jc.Ha=c,a.jc.Vr=d,a.k.Pb.add(a.jc))}function O(a){a.k===n&&v.g("StreamGeometryContext has been closed");a.jc===n&&v.g("Need to call beginFigure first");var b=a.jc.kb.length;0<b&&a.jc.kb.i[b-1].close()}
function fl(a){a.k===n&&v.g("StreamGeometryContext has been closed");a.jc===n&&v.g("Need to call beginFigure first");a.jc.Rl=p}K.prototype.moveTo=function(a,b,c){this.k===n&&v.g("StreamGeometryContext has been closed");this.jc===n&&v.g("Need to call beginFigure first");var d=new ue(de);d.P=a;d.Q=b;c&&d.close();this.jc.kb.add(d)};
K.prototype.lineTo=function(a,b,c){this.k===n&&v.g("StreamGeometryContext has been closed");this.jc===n&&v.g("Need to call beginFigure first");var d=new ue(ae);d.P=a;d.Q=b;c&&d.close();this.jc.kb.add(d)};function N(a,b,c,d,e,g,i,j){a.k===n&&v.g("StreamGeometryContext has been closed");a.jc===n&&v.g("Need to call beginFigure first");var k=new ue(ee);k.Ec=b;k.xd=c;k.Dk=d;k.Ek=e;k.P=g;k.Q=i;j&&k.close();a.jc.kb.add(k)}
function ce(a,b,c,d,e){a.k===n&&v.g("StreamGeometryContext has been closed");a.jc===n&&v.g("Need to call beginFigure first");var g=new ue(fe);g.Ec=b;g.xd=c;g.P=d;g.Q=e;a.jc.kb.add(g)}K.prototype.arcTo=function(a,b,c,d,e,g,i){this.k===n&&v.g("StreamGeometryContext has been closed");this.jc===n&&v.g("Need to call beginFigure first");var j=new ue(ge);j.qi=a;j.pj=b;j.Da=c;j.Ea=d;j.Wl=e;g&&(j.mo=g);i&&j.close();this.jc.kb.add(j)};
function gl(a,b,c,d,e,g,i,j,k,l,m,q,r,u){var x=1-k,a=a*x+c*k,b=b*x+d*k,c=c*x+e*k,d=d*x+g*k,e=e*x+i*k,g=g*x+j*k,j=a*x+c*k,i=b*x+d*k,c=c*x+e*k,d=d*x+g*k;l.x=a;l.y=b;m.x=j;m.y=i;q.x=j*x+c*k;q.y=i*x+d*k;r.x=c;r.y=d;u.x=e;u.y=g}function hl(a){var a=il(a),b=[];b[0]=a[0];for(var c=1,d=1;c<a.length;c+=2,d+=3)b[d]=a[c],b[d+1]=a[c],b[d+2]=a[c+1];return b}
function il(a){for(var b=jl(a),c=[],d=Math.floor(b.length/2),e=b.length-1,a=0===a%2?2:1,g=0;g<e;g++){var i=b[g],j=b[g+1],k=b[(d+g-1)%e],l=b[(d+g+a)%e];c[2*g]=i;c[2*g+1]=kl(i.x,i.y,k.x,k.y,j.x,j.y,l.x,l.y)}c[c.length]=c[0];return c}function kl(a,b,c,d,e,g,i,j){c=a-c;i=e-i;0===c||0===i?0===c?(i=(g-j)/i,j=a,e=i*j+(g-i*e)):(d=(b-d)/c,j=e,e=d*j+(b-d*a)):(d=(b-d)/c,i=(g-j)/i,a=b-d*a,j=(g-i*e-a)/(d-i),e=d*j+a);return new D(j,e)}
function jl(a){for(var b=[],c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new D(0.5+0.5*Math.cos(d),0.5+0.5*Math.sin(d));b.push(b[0]);return b}
var Qk={None:"Rectangle",Rectangle:function(a,b,c){a=new Ed;a.type=Md;a.Ga=0;a.Ha=0;a.P=b;a.Q=c;return a},Circle:function(a,b,c){a=new Ed;a.Ub=Wg;a.type=Nd;a.Ga=0;a.Ha=0;a.P=b;a.Q=c;a.n=new G(0.156,0.156);a.o=new G(0.844,0.844);return a},Connector:"Ellipse",Ellipse:function(a,b,c){a=new Ed;a.type=Nd;a.Ga=0;a.Ha=0;a.P=b;a.Q=c;a.n=new G(0.156,0.156);a.o=new G(0.844,0.844);return a},TriangleRight:function(a,b,c){var a=new Ed,d=new Id,e=new ue;e.P=b;e.Q=0.5*c;d.kb.add(e);b=new ue;b.P=0;b.Q=c;d.kb.add(b.close());
a.Pb.add(d);a.n=new G(0,0.25);a.o=new G(0.5,0.75);return a},TriangleDown:function(a,b,c){var a=new Ed,d=new Id,e=new ue;e.P=b;e.Q=0;d.kb.add(e);e=new ue;e.P=0.5*b;e.Q=c;d.kb.add(e.close());a.Pb.add(d);a.n=new G(0.25,0);a.o=new G(0.75,0.5);return a},TriangleLeft:function(a,b,c){var a=new Ed,d=new Id;d.Ga=b;d.Ha=c;var e=new ue;e.P=0;e.Q=0.5*c;d.kb.add(e);c=new ue;c.P=b;c.Q=0;d.kb.add(c.close());a.Pb.add(d);a.n=new G(0.5,0.25);a.o=new G(1,0.75);return a},TriangleUp:function(a,b,c){var a=new Ed,d=new Id;
d.Ga=b;d.Ha=c;var e=new ue;e.P=0;e.Q=c;d.kb.add(e);c=new ue;c.P=0.5*b;c.Q=0;d.kb.add(c.close());a.Pb.add(d);a.n=new G(0.25,0.5);a.o=new G(0.75,1);return a},Line1:function(a,b,c){a=new Ed;a.type=Kd;a.Ga=0;a.Ha=0;a.P=b;a.Q=c;return a},Line2:function(a,b,c){a=new Ed;a.type=Kd;a.Ga=b;a.Ha=0;a.P=0;a.Q=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new Ed;a.type=Kd;a.Ga=0;a.Ha=c/2;a.P=b;a.Q=c/2;return a},LineV:function(a,b,c){a=new Ed;a.type=Kd;a.Ga=b/2;a.Ha=0;a.P=b/2;a.Q=c;return a},Curve1:function(a,
b,c){a=new K;L(a,0,0,p);N(a,Hc*b,0,1*b,(1-Hc)*c,b,c);return a.k},Curve2:function(a,b,c){a=new K;L(a,0,0,p);N(a,0,Hc*c,(1-Hc)*b,c,b,c);return a.k},Curve3:function(a,b,c){a=new K;L(a,1*b,0,p);N(a,1*b,Hc*c,Hc*b,1*c,0,1*c);return a.k},Curve4:function(a,b,c){a=new K;L(a,1*b,0,p);N(a,(1-Hc)*b,0,0,(1-Hc)*c,0,1*c);return a.k},Alternative:"Triangle",Merge:"Triangle",Triangle:function(a,b,c){a=new K;L(a,0.5*b,0*c,h);a.lineTo(0*b,1*c);a.lineTo(1*b,1*c,h);b=a.k;b.n=new G(0.25,0.5);b.o=new G(0.75,1);return b},
Decision:"Diamond",Diamond:function(a,b,c){a=new K;L(a,0.5*b,0,h);a.lineTo(0,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0.5*c,h);b=a.k;b.n=new G(0.25,0.25);b.o=new G(0.75,0.75);return b},Pentagon:function(a,b,c){var a=jl(5),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;5>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.2,0.22);b.o=new G(0.8,0.9);return b},DataTransmission:"Hexagon",Hexagon:function(a,b,c){var a=jl(6),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;6>e;e++)d.lineTo(a[e].x*b,a[e].y*
c);O(d);b=d.k;b.n=new G(0.07,0.25);b.o=new G(0.93,0.75);return b},Heptagon:function(a,b,c){var a=jl(7),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;7>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.2,0.15);b.o=new G(0.8,0.85);return b},Octagon:function(a,b,c){var a=jl(8),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;8>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.15,0.15);b.o=new G(0.85,0.85);return b},Nonagon:function(a,b,c){var a=jl(9),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=
1;9>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.17,0.13);b.o=new G(0.82,0.82);return b},Decagon:function(a,b,c){var a=jl(10),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.16,0.16);b.o=new G(0.84,0.84);return b},Dodecagon:function(a,b,c){var a=jl(12),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.16,0.16);b.o=new G(0.84,0.84);return b},FivePointedStar:function(a,b,c){var a=
il(5),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.312,0.383);b.o=new G(0.693,0.765);return b},SixPointedStar:function(a,b,c){var a=il(6),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.17,0.251);b.o=new G(0.833,0.755);return b},SevenPointedStar:function(a,b,c){var a=il(7),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;14>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.363,0.361);
b.o=new G(0.641,0.709);return b},EightPointedStar:function(a,b,c){var a=il(8),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;16>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.252,0.255);b.o=new G(0.75,0.75);return b},NinePointedStar:function(a,b,c){var a=il(9),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;18>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.355,0.361);b.o=new G(0.645,0.651);return b},TenPointedStar:function(a,b,c){var a=il(10),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=
1;20>e;e++)d.lineTo(a[e].x*b,a[e].y*c);O(d);b=d.k;b.n=new G(0.281,0.261);b.o=new G(0.723,0.748);return b},FivePointedBurst:function(a,b,c){var a=hl(5),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)N(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);O(d);b=d.k;b.n=new G(0.312,0.383);b.o=new G(0.693,0.765);return b},SixPointedBurst:function(a,b,c){var a=hl(6),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)N(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*
b,a[e+2].y*c);O(d);b=d.k;b.n=new G(0.17,0.251);b.o=new G(0.833,0.755);return b},SevenPointedBurst:function(a,b,c){var a=hl(7),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)N(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);O(d);b=d.k;b.n=new G(0.363,0.361);b.o=new G(0.641,0.709);return b},EightPointedBurst:function(a,b,c){var a=hl(8),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)N(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);O(d);b=
d.k;b.n=new G(0.252,0.255);b.o=new G(0.75,0.75);return b},NinePointedBurst:function(a,b,c){var a=hl(9),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)N(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);O(d);b=d.k;b.n=new G(0.355,0.361);b.o=new G(0.645,0.651);return b},TenPointedBurst:function(a,b,c){var a=hl(10),d=new K;L(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)N(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);O(d);b=d.k;b.n=new G(0.281,0.261);
b.o=new G(0.723,0.748);return b},Cloud:function(a,b,c){a=new K;L(a,0.08034461*b,0.1944299*c,h);N(a,-0.09239631*b,0.07836421*c,0.1406031*b,-0.0542823*c,0.2008615*b,0.05349299*c);N(a,0.2450511*b,-0.00697547*c,0.3776197*b,-0.01112067*c,0.4338609*b,0.074219*c);N(a,0.4539471*b,0,0.6066018*b,-0.02526587*c,0.6558228*b,0.07004196*c);N(a,0.6914277*b,-0.01904177*c,0.8921095*b,-0.01220843*c,0.8921095*b,0.08370865*c);N(a,1.036446*b,0.04105738*c,1.020377*b,0.3022052*c,0.9147671*b,0.3194596*c);N(a,1.04448*b,0.360238*
c,0.992256*b,0.5219009*c,0.9082935*b,0.562044*c);N(a,1.032337*b,0.5771781*c,1.018411*b,0.8120651*c,0.9212406*b,0.8217117*c);N(a,1.028411*b,0.9571472*c,0.8556702*b,1.052487*c,0.7592566*b,0.9156953*c);N(a,0.7431877*b,1.009325*c,0.5624123*b,1.021761*c,0.5101666*b,0.9310455*c);N(a,0.4820677*b,1.031761*c,0.3030112*b,1.002796*c,0.2609328*b,0.9344623*c);N(a,0.2329994*b,1.01518*c,0.03213784*b,1.01518*c,0.08034461*b,0.870098*c);N(a,-0.02812061*b,0.9032597*c,-0.01205169*b,0.6835638*c,0.06829292*b,0.6545475*
c);N(a,-0.01812061*b,0.6089503*c,-0.00606892*b,0.4555777*c,0.06427569*b,0.4265613*c);N(a,-0.01606892*b,0.3892545*c,-0.01205169*b,0.1944299*c,0.08034461*b,0.1944299*c);O(a);b=a.k;b.n=new G(0.1,0.1);b.o=new G(0.9,0.9);return b},Gate:"Crescent",Crescent:function(a,b,c){a=new K;L(a,0,0,h);N(a,1*b,0,1*b,1*c,0,1*c);N(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);O(a);b=a.k;b.n=new G(0.511,0.19);b.o=new G(0.776,0.76);return b},FramedRectangle:function(a,b,c){var d=new K,e=a?a.Rb:0,a=a?a.js:0;0===e&&(e=0.1);0===a&&(a=
0.1);L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,h);L(d,e*b,a*c,p,h);d.lineTo(e*b,(1-a)*c);d.lineTo((1-e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,h);b=d.k;b.n=new G(e,a);b.o=new G(1-e,1-a);return b},Delay:"HalfEllipse",HalfEllipse:function(a,b,c){a=new K;L(a,0,0,h);N(a,Hc*b,0,1*b,(0.5-Hc/2)*c,1*b,0.5*c);N(a,1*b,(0.5+Hc/2)*c,Hc*b,1*c,0,1*c);O(a);b=a.k;b.n=new G(0,0.2);b.o=new G(0.75,0.8);return b},Heart:function(a,b,c){a=new K;L(a,0.5*b,1*c,h);N(a,0.1*b,0.8*c,0,0.5*c,0*b,0.3*c);N(a,0*b,0,0.45*
b,0,0.5*b,0.3*c);N(a,0.55*b,0,1*b,0,1*b,0.3*c);N(a,b,0.5*c,0.9*b,0.8*c,0.5*b,1*c);O(a);b=a.k;b.n=new G(0.15,0.29);b.o=new G(0.86,0.68);return b},Spade:function(a,b,c){a=new K;L(a,0.5*b,0,h);a.lineTo(0.51*b,0.01*c);N(a,0.6*b,0.2*c,b,0.25*c,b,0.5*c);N(a,b,0.8*c,0.6*b,0.8*c,0.55*b,0.7*c);N(a,0.5*b,0.75*c,0.55*b,0.95*c,0.75*b,c);a.lineTo(0.25*b,c);N(a,0.45*b,0.95*c,0.5*b,0.75*c,0.45*b,0.7*c);N(a,0.4*b,0.8*c,0,0.8*c,0,0.5*c);N(a,0,0.25*c,0.4*b,0.2*c,0.49*b,0.01*c);O(a);b=a.k;b.n=new G(0.19,0.26);b.o=new G(0.8,
0.68);return b},Club:function(a,b,c){a=new K;L(a,0.4*b,0.6*c,h);N(a,0.5*b,0.75*c,0.45*b,0.95*c,0.15*b,1*c);a.lineTo(0.85*b,c);N(a,0.55*b,0.95*c,0.5*b,0.75*c,0.6*b,0.6*c);var d=0.2,e=0.3,g=0,i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);N(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e+0.05)*b,(0.5-i+g-0.02)*c,
0.65*b,0.36771243*c);d=0.2;e=0;g=-0.3;i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);N(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,0.35*b,0.36771243*c);d=0.2;e=-0.3;g=0;i=d*(4*(Math.SQRT2-1)/3);N(a,(0.5+d+e-0.05)*b,(0.5-i+g-0.02)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5-i+e)*
b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,0.4*b,0.6*c);O(a);b=a.k;b.n=new G(0.06,0.39);b.o=new G(0.93,0.58);return b},YinYang:function(a,b,c){var a=0.5,d=new K,a=0.5;L(d,0.5*b,0,h);d.arcTo(270,180,0.5*b,0.5*b,0.5*b);N(d,1*b,a*c,0,a*c,a*b,0,h);var a=0.1,e=0.25;L(d,(0.5+a)*b,e*c,h,h);d.arcTo(0,-360,0.5*b,c*e,a*b);O(d);L(d,0.5*b,0,p);d.arcTo(270,-180,0.5*b,
0.5*b,0.5*b);fl(d);e=0.75;L(d,(0.5+a)*b,e*c,h);d.arcTo(0,360,0.5*b,c*e,a*b);O(d);b=d.k;b.Ub=Wg;return b},Peace:function(a,b,c){var a=new K,d=0.5*(4*(Math.SQRT2-1)/3);L(a,b,0.5*c,h);N(a,b,(0.5-d)*c,(0.5+d)*b,0,0.5*b,0);N(a,(0.5-d)*b,0,0,(0.5-d)*c,0,0.5*c);N(a,0,(0.5+d)*c,(0.5-d)*b,c,0.5*b,c);N(a,(0.5+d)*b,c,b,(0.5+d)*c,b,0.5*c);d=0.4*(4*(Math.SQRT2-1)/3);L(a,0.5*b,0.1*c,h,h);N(a,(0.5+d)*b,0.1*c,0.9*b,(0.5-d)*c,0.9*b,0.5*c);N(a,0.9*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.5*b,0.9*c);N(a,(0.5-d)*b,0.9*c,0.1*b,
(0.5+d)*c,0.1*b,0.5*c);N(a,0.1*b,(0.5-d)*c,(0.5-d)*b,0.1*c,0.5*b,0.1*c);var d=0.07,e=0,g=-0.707*0.11,i=d*(4*(Math.SQRT2-1)/3);L(a,(0.5+d+e)*b,(0.5+g)*c,h);N(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=-0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-
1)/3);L(a,(0.5+d+e)*b,(0.5+g)*c,h);N(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);L(a,(0.5+d+e)*b,(0.5+g)*c,h);N(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,
(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);b=a.k;b.n=new G(0.146,0.146);b.o=new G(0.853,0.853);b.Ub=Wg;return b},NotAllowed:function(a,b,c){var a=0.5*Hc,d=0.5,e=new K;L(e,0.5*b,(0.5-d)*c,h);N(e,(0.5-a)*b,(0.5-d)*c,(0.5-d)*b,(0.5-a)*c,(0.5-d)*b,0.5*c);N(e,(0.5-d)*b,(0.5+a)*c,(0.5-a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);N(e,(0.5+a)*
b,(0.5+d)*c,(0.5+d)*b,(0.5+a)*c,(0.5+d)*b,0.5*c);N(e,(0.5+d)*b,(0.5-a)*c,(0.5+a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);var d=0.4,a=0.4*Hc,g=new D(0,0),i=new D(0,0),j=new D(0,0),k=new D(0,0);gl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.42,g,i,j,k,k);var l=new D(0,0),m=new D(0,0),q=new D(0,0);gl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.58,k,k,q,l,m);var r=new D(0,0),u=new D(0,0),x=new D(0,0);gl(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.42,r,u,x,k,k);var y=new D(0,0),C=new D(0,0),F=new D(0,0);gl(0.5,
0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.58,k,k,F,y,C);L(e,F.x*b,F.y*c,h,h);N(e,y.x*b,y.y*c,C.x*b,C.y*c,(0.5-d)*b,0.5*c);N(e,(0.5-d)*b,(0.5-a)*c,(0.5-a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);N(e,g.x*b,g.y*c,i.x*b,i.y*c,j.x*b,j.y*c);e.lineTo(F.x*b,F.y*c);O(e);L(e,x.x*b,x.y*c,h,h);e.lineTo(q.x*b,q.y*c);N(e,l.x*b,l.y*c,m.x*b,m.y*c,(0.5+d)*b,0.5*c);N(e,(0.5+d)*b,(0.5+a)*c,(0.5+a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);N(e,r.x*b,r.y*c,u.x*b,u.y*c,x.x*b,x.y*c);O(e);e.k.Ub=Wg;return e.k},Fragile:function(a,b,c){a=new K;L(a,
0,0,h);a.lineTo(0.25*b,0);a.lineTo(0.2*b,0.15*c);a.lineTo(0.3*b,0.25*c);a.lineTo(0.29*b,0.33*c);a.lineTo(0.35*b,0.25*c);a.lineTo(0.3*b,0.15*c);a.lineTo(0.4*b,0);a.lineTo(1*b,0);N(a,1*b,0.25*c,0.75*b,0.5*c,0.55*b,0.5*c);a.lineTo(0.55*b,0.9*c);a.lineTo(0.7*b,0.9*c);a.lineTo(0.7*b,1*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.9*c);a.lineTo(0.45*b,0.9*c);a.lineTo(0.45*b,0.5*c);N(a,0.25*b,0.5*c,0,0.25*c,0,0);O(a);b=a.k;b.n=new G(0.25,0);b.o=new G(0.75,0.4);return b},HourGlass:function(a,b,c){a=new K;L(a,0.65*
b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.35*b,0.5*c);a.lineTo(0,0);a.lineTo(1*b,0);O(a);return a.k},Lightning:function(a,b,c){a=new K;L(a,0*b,0.55*c,h);a.lineTo(0.75*b,0);a.lineTo(0.25*b,0.45*c);a.lineTo(0.9*b,0.48*c);a.lineTo(0.4*b,1*c);a.lineTo(0.65*b,0.55*c);O(a);return a.k},Parallelogram1:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=new K;L(d,a*b,0,h);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);O(d);b=d.k;b.n=new G(a,0);b.o=new G(1-a,1);return b},Input:"Output",Output:function(a,
b,c){a=new K;L(a,0,1*c,h);a.lineTo(0.1*b,0);a.lineTo(1*b,0);a.lineTo(0.9*b,1*c);O(a);b=a.k;b.n=new G(0.1,0);b.o=new G(0.9,1);return b},Parallelogram2:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.25);var d=new K;L(d,a*b,0,h);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);O(d);b=d.k;b.n=new G(a,0);b.o=new G(1-a,1);return b},ThickCross:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.25);var d=new K;L(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*
b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);O(d);b=d.k;b.n=new G(0.5-a/2,0.5-a/2);b.o=new G(0.5+a/2,0.5+a/2);return b},ThickX:function(a,b,c){var a=0.25/Math.SQRT2,d=new K;L(d,0.3*b,0,h);d.lineTo(0.5*b,0.2*c);d.lineTo(0.7*b,0);d.lineTo(1*b,0.3*c);d.lineTo(0.8*b,0.5*c);d.lineTo(1*b,0.7*c);d.lineTo(0.7*b,1*c);d.lineTo(0.5*b,0.8*
c);d.lineTo(0.3*b,1*c);d.lineTo(0,0.7*c);d.lineTo(0.2*b,0.5*c);d.lineTo(0,0.3*c);O(d);b=d.k;b.n=new G(0.5-a,0.5-a);b.o=new G(0.5+a,0.5+a);return b},ThinCross:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=new K;L(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-
a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);O(d);return d.k},ThinX:function(a,b,c){a=new K;L(a,0.1*b,0,h);a.lineTo(0.5*b,0.4*c);a.lineTo(0.9*b,0);a.lineTo(1*b,0.1*c);a.lineTo(0.6*b,0.5*c);a.lineTo(1*b,0.9*c);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.6*c);a.lineTo(0.1*b,1*c);a.lineTo(0,0.9*c);a.lineTo(0.4*b,0.5*c);a.lineTo(0,0.1*c);O(a);return a.k},RightTriangle:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);O(a);b=a.k;b.n=new G(0,0.5);b.o=new G(0.5,1);return b},RoundedIBeam:function(a,
b,c){a=new K;L(a,0,0,h);a.lineTo(1*b,0);N(a,0.5*b,0.25*c,0.5*b,0.75*c,1*b,1*c);a.lineTo(0,1*c);N(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);O(a);return a.k},RoundedRectangle:function(a,b,c){var d=a?a.Rb:0;0>=d&&(d=5);var d=Math.min(d,b/3),d=Math.min(d,c/3),a=d*Hc,e=new K;L(e,d,0,h);e.lineTo(b-d,0);N(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);N(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);N(e,a,c,0,c-a,0,c-d);e.lineTo(0,d);N(e,0,a,a,0,d,0);O(e);b=e.k;1<a?(b.n=new G(0,0,a,a),b.o=new G(1,1,-a,-a)):(b.n=dc,b.o=mc);return b},Border:function(a,
b,c){a=a?a.Rb:0;0>=a&&(a=5);var a=Math.min(a,b/3),a=Math.min(a,c/3),d=new K;L(d,a,0,h);d.lineTo(b-a,0);N(d,b-0,0,b,0,b,a);d.lineTo(b,c-a);N(d,b,c-0,b-0,c,b-a,c);d.lineTo(a,c);N(d,0,c,0,c-0,0,c-a);d.lineTo(0,a);N(d,0,0,0,0,a,0);O(d);b=d.k;b.n=dc;b.o=mc;return b},SquareIBeam:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.2);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,a*c);d.lineTo((0.5+a/2)*b,a*c);d.lineTo((0.5+a/2)*b,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);d.lineTo(0,(1-a)*
c);d.lineTo((0.5-a/2)*b,(1-a)*c);d.lineTo((0.5-a/2)*b,a*c);d.lineTo(0,a*c);O(d);return d.k},Trapezoid:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.2);var d=new K;L(d,a*b,0,h);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);b=d.k;b.n=new G(a,0);b.o=new G(1-a,1);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var a=a?a.Rb:0,d=new K;L(d,a,0,h);d.lineTo(0,0);d.lineTo(1*b,0);d.lineTo(0.9*b,1*c);d.lineTo(0.1*b,1*c);O(d);b=d.k;b.n=new G(0.1,0);b.o=new G(0.9,1);return b},GenderMale:function(a,
b,c){var a=new K,d=0.4*Hc,e=0.4,g=new D(0,0),i=new D(0,0),j=new D(0,0),k=new D(0,0);L(a,(0.5-e)*b,0.5*c,h);N(a,(0.5-e)*b,(0.5-d)*c,(0.5-d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);gl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.44,j,k,i,g,g);N(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);var l=new D(i.x,i.y);gl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.56,g,g,i,j,k);g=new D(i.x,i.y);a.lineTo((0.1*l.x+0.855)*b,0.1*l.y*c);a.lineTo(0.85*b,0.1*l.y*c);a.lineTo(0.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.15*c);a.lineTo((0.1*
g.x+0.9)*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,(0.1*g.y+0.05*0.9)*c);a.lineTo(g.x*b,g.y*c);N(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);N(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);N(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);e=0.35;d=0.35*Hc;L(a,0.5*b,(0.5-e)*c,h,h);N(a,(0.5-d)*b,(0.5-e)*c,(0.5-e)*b,(0.5-d)*c,(0.5-e)*b,0.5*c);N(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);N(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);N(a,(0.5+e)*b,(0.5-d)*
c,(0.5+d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);L(a,(0.5-e)*b,0.5*c,h);b=a.k;b.n=new G(0.202,0.257);b.o=new G(0.692,0.839);b.Ub=Wg;return b},GenderFemale:function(a,b,c){var a=new K,d=0.375,e=0,g=-0.125,i=d*(4*(Math.SQRT2-1)/3);L(a,(0.525+e)*b,(0.5+d+g)*c,h);N(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);N(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5+i+g)*
c,(0.5-i+e)*b,(0.5+d+g)*c,(0.475+e)*b,(0.5+d+g)*c);a.lineTo(0.475*b,0.85*c);a.lineTo(0.425*b,0.85*c);a.lineTo(0.425*b,0.9*c);a.lineTo(0.475*b,0.9*c);a.lineTo(0.475*b,1*c);a.lineTo(0.525*b,1*c);a.lineTo(0.525*b,0.9*c);a.lineTo(0.575*b,0.9*c);a.lineTo(0.575*b,0.85*c);a.lineTo(0.525*b,0.85*c);O(a);d=0.325;e=0;g=-0.125;i=d*(4*(Math.SQRT2-1)/3);L(a,(0.5+d+e)*b,(0.5+g)*c,h,h);N(a,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);N(a,(0.5-i+e)*b,(0.5+d+g)*c,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-
d+e)*b,(0.5+g)*c);N(a,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);N(a,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+d+e)*b,(0.5+g)*c);L(a,(0.525+e)*b,(0.5+d+g)*c,h);b=a.k;b.n=new G(0.232,0.136);b.o=new G(0.782,0.611);b.Ub=Wg;return b},PlusLine:function(a,b,c){a=new K;L(a,0,0.5*c,p);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.k},XLine:function(a,b,c){a=new K;L(a,0,1*c,p);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);return a.k},AsteriskLine:function(a,
b,c){var a=new K,d=0.2/Math.SQRT2;L(a,d*b,(1-d)*c,p);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0*c);a.lineTo(0.5*b,1*c);return a.k},CircleLine:function(a,b,c){var a=0.5*Hc,d=new K;L(d,1*b,0.5*c,p);N(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);N(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);N(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);N(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);b=d.k;b.n=new G(0.146,0.146);b.o=new G(0.853,0.853);b.Ub=Wg;return b},
Pie:function(a,b,c){var a=new K,d=0.5*(4*(Math.SQRT2-1)/3);L(a,(0.5*Math.SQRT2/2+0.5)*b,(0.5-0.5*Math.SQRT2/2)*c,h);N(a,0.7*b,0*c,0.5*b,0*c,0.5*b,0*c);N(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);N(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.5*b,1*c);N(a,(0.5+d+0)*b,1*c,1*b,(0.5+d+0)*c,1*b,0.5*c);a.lineTo(0.5*b,0.5*c);O(a);return a.k},PiePiece:function(a,b,c){var a=0.5*(Hc/Math.SQRT2),d=Math.SQRT2/2,e=1-Math.SQRT2/2,g=new K;L(g,b,c,h);N(g,b,(1-a)*c,(d+a)*b,(e+a)*c,d*b,e*c);g.lineTo(0,c);O(g);return g.k},
StopSign:function(a,b,c){var d=1/(Math.SQRT2+2),e=new K;L(e,d*b,0,h);e.lineTo((1-d)*b,0);e.lineTo(1*b,d*c);e.lineTo(1*b,(1-d)*c);e.lineTo((1-d)*b,1*c);e.lineTo(d*b,1*c);e.lineTo(0,(1-d)*c);e.lineTo(0,d*c);O(e);b=e.k;a&&Zb(a.n)&&(a.n=new G(d/2,d/2));a&&Zb(a.o)&&(a.o=new G(1-d/2,1-d/2));return b},LogicImplies:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.2);var d=new K;L(d,(1-a)*b,0*c,p);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);b=d.k;b.n=new G(0,0);b.o=new G(0.8,0.5);return b},
LogicIff:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.2);var d=new K;L(d,(1-a)*b,0*c,p);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);d.moveTo(a*b,0);d.lineTo(0,0.5*c);d.lineTo(a*b,c);b=d.k;b.n=new G(0.2,0);b.o=new G(0.8,0.5);return b},LogicNot:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(1*b,0);a.lineTo(1*b,1*c);return a.k},LogicAnd:function(a,b,c){a=new K;L(a,0,1*c,p);a.lineTo(0.5*b,0);a.lineTo(1*b,1*c);b=a.k;b.n=new G(0.25,0.5);b.o=new G(0.75,1);return b},LogicOr:function(a,
b,c){a=new K;L(a,0,0,p);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);b=a.k;b.n=new G(0.219,0);b.o=new G(0.78,0.409);return b},LogicXor:function(a,b,c){a=new K;L(a,0.5*b,0,p);a.lineTo(0.5*b,1*c);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);var d=0.5*Hc;N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);N(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);b=a.k;b.Ub=Wg;return b},LogicTruth:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(1*b,0);a.moveTo(0.5*b,0);a.lineTo(0.5*
b,1*c);return a.k},LogicFalsity:function(a,b,c){a=new K;L(a,0,1*c,p);a.lineTo(1*b,1*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);return a.k},LogicThereExists:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(1*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);return a.k},LogicForAll:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);a.moveTo(0.25*b,0.5*c);a.lineTo(0.75*b,0.5*c);b=a.k;b.n=new G(0.25,0);b.o=new G(0.75,0.5);return b},LogicIsDefinedAs:function(a,
b,c){a=new K;L(a,0,0,p);a.lineTo(b,0);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.k;b.n=new G(0.01,0.01);b.o=new G(0.99,0.49);return b},LogicIntersect:function(a,b,c){var a=0.5*Hc,d=new K;L(d,0,1*c,p);d.lineTo(0,0.5*c);N(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);N(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);d.lineTo(1*b,1*c);b=d.k;b.n=new G(0,0.5);b.o=new G(1,1);return b},LogicUnion:function(a,b,c){var a=0.5*Hc,d=new K;L(d,1*b,0,p);d.lineTo(1*b,0.5*c);N(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*
b,1*c);N(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);d.lineTo(0,0);b=d.k;b.n=new G(0,0);b.o=new G(1,0.5);return b},Arrow:function(a,b,c){var d=a?a.Rb:0,a=a?a.js:0;0===d&&(d=0.3);0===a&&(a=0.3);var e=new K;L(e,0,(0.5-a/2)*c,h);e.lineTo((1-d)*b,(0.5-a/2)*c);e.lineTo((1-d)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-d)*b,1*c);e.lineTo((1-d)*b,(0.5+a/2)*c);e.lineTo(0,(0.5+a/2)*c);O(e);b=e.k;b.n=new G(0,0.5-a/2);d=kl(0,0.5+a/2,1,0.5+a/2,1-d,1,1,0.5);b.o=new G(d.x,d.y);return b},ISOProcess:"Chevron",Chevron:function(a,
b,c){a=new K;L(a,0,0,h);a.lineTo(0.5*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);O(a);return a.k},DoubleArrow:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(0.3*b,0.214*c);a.lineTo(0.3*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.786*c);a.lineTo(0,1*c);O(a);L(a,0.3*b,0.214*c,p);a.lineTo(0.3*b,0.786*c);fl(a);return a.k},DoubleEndArrow:function(a,b,c){a=new K;L(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.3*b,0.7*c);a.lineTo(0.3*
b,1*c);a.lineTo(0,0.5*c);a.lineTo(0.3*b,0);a.lineTo(0.3*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);O(a);b=a.k;c=kl(0,0.5,0.3,0,0,0.3,0.3,0.3);b.n=new G(c.x,c.y);c=kl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.o=new G(c.x,c.y);return b},IBeamArrow:function(a,b,c){a=new K;L(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.2*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.2*b,0);a.lineTo(0.2*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);O(a);b=a.k;b.n=new G(0,0.3);
c=kl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.o=new G(c.x,c.y);return b},Pointer:function(a,b,c){a=new K;L(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0);O(a);b=a.k;b.n=new G(0.2,0.35);c=kl(0.2,0.65,1,0.65,0,1,1,0.5);b.o=new G(c.x,c.y);return b},RoundedPointer:function(a,b,c){a=new K;L(a,1*b,0.5*c,h);a.lineTo(0,1*c);N(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);O(a);b=a.k;b.n=new G(0.4,0.35);c=kl(0.2,0.65,1,0.65,0,1,1,0.5);b.o=new G(c.x,c.y);return b},SplitEndArrow:function(a,b,c){a=new K;L(a,1*b,0.5*
c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0,0.7*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);O(a);b=a.k;b.n=new G(0.2,0.3);c=kl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.o=new G(c.x,c.y);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,b,c){a=new K;L(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.7*b,0);O(a);b=a.k;b.n=new G(0,0);b.o=new G(0.7,1);return b},Cone1:function(a,b,c){var a=0.5*Hc,d=0.1*Hc,e=new K;L(e,0,0.9*c,
h);e.lineTo(0.5*b,0);e.lineTo(1*b,0.9*c);N(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);N(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);O(e);b=e.k;b.n=new G(0.25,0.5);b.o=new G(0.75,0.97);return b},Cone2:function(a,b,c){a=new K;L(a,0,0.9*c,h);N(a,(1-0.85/0.9)*b,1*c,0.85/0.9*b,1*c,1*b,0.9*c);a.lineTo(0.5*b,0);a.lineTo(0,0.9*c);O(a);L(a,0,0.9*c,p);N(a,(1-0.85/0.9)*b,0.8*c,0.85/0.9*b,0.8*c,1*b,0.9*c);fl(a);b=a.k;b.n=new G(0.25,0.5);b.o=new G(0.75,0.82);return b},Cube1:function(a,b,c){a=new K;L(a,0.5*b,1*c,h);a.lineTo(1*
b,0.85*c);a.lineTo(1*b,0.15*c);a.lineTo(0.5*b,0*c);a.lineTo(0*b,0.15*c);a.lineTo(0*b,0.85*c);O(a);L(a,0.5*b,1*c,p);a.lineTo(0.5*b,0.3*c);a.lineTo(0,0.15*c);a.moveTo(0.5*b,0.3*c);a.lineTo(1*b,0.15*c);fl(a);b=a.k;b.n=new G(0,0.3);b.o=new G(0.5,0.85);return b},Cube2:function(a,b,c){a=new K;L(a,0,0.3*c,h);a.lineTo(0*b,1*c);a.lineTo(0.7*b,c);a.lineTo(1*b,0.7*c);a.lineTo(1*b,0*c);a.lineTo(0.3*b,0*c);O(a);L(a,0,0.3*c,p);a.lineTo(0.7*b,0.3*c);a.lineTo(1*b,0*c);a.moveTo(0.7*b,0.3*c);a.lineTo(0.7*b,1*c);fl(a);
b=a.k;b.n=new G(0,0.3);b.o=new G(0.7,1);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var a=0.5*Hc,d=0.1*Hc,e=new K;L(e,0,0.1*c,h);N(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);N(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(b,0.9*c);N(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);N(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);e.lineTo(0,0.1*c);L(e,0,0.1*c,p);N(e,0,(0.1+d)*c,(0.5-a)*b,0.2*c,0.5*b,0.2*c);N(e,(0.5+a)*b,0.2*c,1*b,(0.1+d)*c,1*b,0.1*c);fl(e);b=e.k;b.n=new G(0,0.2);b.o=new G(1,0.9);return b},
Cylinder2:function(a,b,c){var a=0.5*Hc,d=0.1*Hc,e=new K;L(e,0,0.9*c,h);e.lineTo(0,0.1*c);N(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);N(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(1*b,0.9*c);N(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);N(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);L(e,0,0.9*c,p);N(e,0,(0.9-d)*c,(0.5-a)*b,0.8*c,0.5*b,0.8*c);N(e,(0.5+a)*b,0.8*c,1*b,(0.9-d)*c,1*b,0.9*c);fl(e);b=e.k;b.n=new G(0,0.1);b.o=new G(1,0.8);return b},Cylinder3:function(a,b,c){var a=0.1*Hc,d=0.5*Hc,e=new K;L(e,0.1*b,0,h);
e.lineTo(0.9*b,0);N(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);N(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);N(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);L(e,0.1*b,0,p);N(e,(0.1+a)*b,0,0.2*b,(0.5-d)*c,0.2*b,0.5*c);N(e,0.2*b,(0.5+d)*c,(0.1+a)*b,1*c,0.1*b,1*c);fl(e);b=e.k;b.n=new G(0.2,0);b.o=new G(0.9,1);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var a=0.1*Hc,d=0.5*Hc,e=new K;L(e,0.9*b,0,h);N(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(e,1*b,
(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);N(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);N(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);e.lineTo(0.9*b,0);L(e,0.9*b,0,p);N(e,(0.9-a)*b,0,0.8*b,(0.5-d)*c,0.8*b,0.5*c);N(e,0.8*b,(0.5+d)*c,(0.9-a)*b,1*c,0.9*b,1*c);fl(e);b=e.k;b.n=new G(0.1,0);b.o=new G(0.8,1);return b},Prism1:function(a,b,c){a=new K;L(a,0.25*b,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(b,0.5*c);a.lineTo(0.5*b,c);a.lineTo(0,c);O(a);L(a,0.25*b,0.25*c,p);a.lineTo(0.5*b,c);fl(a);b=a.k;b.n=new G(0.408,
0.172);b.o=new G(0.833,0.662);return b},Prism2:function(a,b,c){a=new K;L(a,0,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);O(a);L(a,0,c,p);a.lineTo(0.25*b,0.5*c);a.lineTo(b,0.25*c);a.moveTo(0,0.25*c);a.lineTo(0.25*b,0.5*c);fl(a);b=a.k;b.n=new G(0.25,0.5);b.o=new G(0.75,0.75);return b},Pyramid1:function(a,b,c){a=new K;L(a,0.5*b,0,h);a.lineTo(b,0.75*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.75*c);O(a);L(a,0.5*b,0,p);a.lineTo(0.5*b,1*c);fl(a);b=a.k;b.n=new G(0.25,
0.367);b.o=new G(0.75,0.875);return b},Pyramid2:function(a,b,c){a=new K;L(a,0.5*b,0,h);a.lineTo(b,0.85*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.85*c);O(a);L(a,0.5*b,0,p);a.lineTo(0.5*b,0.7*c);a.lineTo(0,0.85*c);a.moveTo(0.5*b,0.7*c);a.lineTo(1*b,0.85*c);fl(a);b=a.k;b.n=new G(0.25,0.367);b.o=new G(0.75,0.875);return b},Actor:function(a,b,c){var d=0.2*Hc,e=0.1*Hc,a=0.5,g=0.1,i=new K;L(i,a*b,(g+0.1)*c,h);N(i,(a-d)*b,(g+0.1)*c,(a-0.2)*b,(g+e)*c,(a-0.2)*b,g*c);N(i,(a-0.2)*b,(g-e)*c,(a-d)*b,(g-0.1)*c,a*b,(g-
0.1)*c);N(i,(a+d)*b,(g-0.1)*c,(a+0.2)*b,(g-e)*c,(a+0.2)*b,g*c);N(i,(a+0.2)*b,(g+e)*c,(a+d)*b,(g+0.1)*c,a*b,(g+0.1)*c);d=0.05;e=Hc*d;L(i,0.5*b,0.2*c,h);i.lineTo(0.95*b,0.2*c);a=0.95;g=0.25;N(i,(a+e)*b,(g-d)*c,(a+d)*b,(g-e)*c,(a+d)*b,g*c);i.lineTo(1*b,0.6*c);i.lineTo(0.85*b,0.6*c);i.lineTo(0.85*b,0.35*c);d=0.025;e=Hc*d;a=0.825;g=0.35;N(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);N(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.8*b,1*c);i.lineTo(0.55*b,1*c);i.lineTo(0.55*b,0.7*c);d=0.05;
e=Hc*d;a=0.5;g=0.7;N(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);N(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.45*b,1*c);i.lineTo(0.2*b,1*c);i.lineTo(0.2*b,0.35*c);d=0.025;e=Hc*d;a=0.175;g=0.35;N(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);N(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.15*b,0.6*c);i.lineTo(0*b,0.6*c);i.lineTo(0*b,0.25*c);d=0.05;e=Hc*d;a=0.05;g=0.25;N(i,(a-d)*b,(g-e)*c,(a-e)*b,(g-d)*c,a*b,(g-d)*c);i.lineTo(0.5*b,0.2*c);b=i.k;b.n=new G(0.2,0.2);b.o=
new G(0.8,0.65);return b},Card:function(a,b,c){a=new K;L(a,1*b,0*c,h);a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,0.2*c);a.lineTo(0.2*b,0*c);O(a);b=a.k;b.n=new G(0,0.2);b.o=new G(1,1);return b},Collate:function(a,b,c){a=new K;L(a,0.5*b,0.5*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);L(a,0.5*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);b=a.k;b.n=new G(0.25,0);b.o=new G(0.75,0.25);return b},CreateRequest:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=new K;L(d,
0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);L(d,0,a*c,p);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);fl(d);b=d.k;b.n=new G(0,a);b.o=new G(1,1-a);return b},Database:function(a,b,c){var a=new K,d=0.5*Hc,e=0.1*Hc;L(a,1*b,0.1*c,h);a.lineTo(1*b,0.9*c);N(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);N(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);L(a,1*b,0.1*c,p);N(a,1*b,(0.1+e)*c,(0.5+d)*
b,0.2*c,0.5*b,0.2*c);N(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);N(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);N(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);a.moveTo(1*b,0.3*c);N(a,1*b,(0.3+e)*c,(0.5+d)*b,0.4*c,0.5*b,0.4*c);N(a,(0.5-d)*b,0.4*c,0,(0.3+e)*c,0,0.3*c);fl(a);b=a.k;b.n=new G(0,0.4);b.o=new G(1,0.9);return b},StoredData:"DataStorage",DataStorage:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(0.75*b,0);N(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0,1*c);N(a,0.25*b,0.9*c,0.25*b,0.1*c,
0,0);O(a);b=a.k;b.n=new G(0.226,0);b.o=new G(0.81,1);return b},DiskStorage:function(a,b,c){var a=new K,d=0.5*Hc,e=0.1*Hc;L(a,1*b,0.1*c,h);a.lineTo(1*b,0.9*c);N(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);N(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);L(a,1*b,0.1*c,p);N(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);N(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);N(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,
0.3*c);N(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);fl(a);b=a.k;b.n=new G(0,0.3);b.o=new G(1,0.9);return b},Display:function(a,b,c){a=new K;L(a,0.25*b,0,h);a.lineTo(0.75*b,0);N(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);a.lineTo(0,0.5*c);O(a);b=a.k;b.n=new G(0.25,0);b.o=new G(0.75,1);return b},DividedEvent:function(a,b,c){a=a?a.Rb:0;0===a?a=0.2:0.15>a&&(a=0.15);var d=new K,e=0.2*Hc;L(d,0,0.2*c,h);N(d,0,(0.2-e)*c,(0.2-e)*b,0,0.2*b,0);d.lineTo(0.8*b,0);N(d,(0.8+e)*b,0,1*b,(0.2-e)*c,1*b,0.2*c);d.lineTo(1*
b,0.8*c);N(d,1*b,(0.8+e)*c,(0.8+e)*b,1*c,0.8*b,1*c);d.lineTo(0.2*b,1*c);N(d,(0.2-e)*b,1*c,0,(0.8+e)*c,0,0.8*c);d.lineTo(0,0.2*c);L(d,0,a*c,p);d.lineTo(1*b,a*c);fl(d);b=d.k;b.n=new G(0,a);b.o=new G(1,1-a);return b},DividedProcess:function(a,b,c){a=a?a.Rb:0;0.1>a&&(a=0.1);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);L(d,0,a*c,p);d.lineTo(1*b,a*c);fl(d);b=d.k;b.n=new G(0,a);b.o=new G(1,1);return b},Document:function(a,b,c){c/=0.8;a=new K;L(a,0,0.7*c,h);a.lineTo(0,0);
a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);N(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);O(a);b=a.k;b.n=new G(0,0);b.o=new G(1,0.6);return b},ExternalOrganization:function(a,b,c){a=a?a.Rb:0;0.2>a&&(a=0.2);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);L(d,a*b,0,p);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);fl(d);b=d.k;b.n=new G(a/2,a/2);b.o=new G(1-a/2,1-a/2);return b},ExternalProcess:function(a,
b,c){a=new K;L(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);O(a);L(a,0.1*b,0.4*c,p);a.lineTo(0.1*b,0.6*c);a.moveTo(0.9*b,0.6*c);a.lineTo(0.9*b,0.4*c);a.moveTo(0.6*b,0.1*c);a.lineTo(0.4*b,0.1*c);a.moveTo(0.4*b,0.9*c);a.lineTo(0.6*b,0.9*c);fl(a);b=a.k;b.n=new G(0.25,0.25);b.o=new G(0.75,0.75);return b},File:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);O(a);L(a,0.75*b,0,p);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.25*
c);fl(a);b=a.k;b.n=new G(0,0.25);b.o=new G(1,1);return b},Interrupt:function(a,b,c){a=new K;L(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);L(a,1*b,0.5*c,p);a.lineTo(1*b,1*c);L(a,1*b,0.5*c,p);a.lineTo(1*b,0);b=a.k;b.n=new G(0,0.25);b.o=new G(0.5,0.75);return b},InternalStorage:function(a,b,c){var d=a?a.Rb:0,a=a?a.js:0;0===d&&(d=0.1);0===a&&(a=0.1);var e=new K;L(e,0,0,h);e.lineTo(1*b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);O(e);L(e,d*b,0,p);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*
b,a*c);fl(e);b=e.k;b.n=new G(d,a);b.o=new G(1,1);return b},Junction:function(a,b,c){var a=new K,d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,g=0.5*Hc;L(a,1*b,0.5*c,h);N(a,1*b,(0.5+g)*c,(0.5+g)*b,1*c,0.5*b,1*c);N(a,(0.5-g)*b,1*c,0,(0.5+g)*c,0,0.5*c);N(a,0,(0.5-g)*c,(0.5-g)*b,0,0.5*b,0);N(a,(0.5+g)*b,0,1*b,(0.5-g)*c,1*b,0.5*c);L(a,(e+d)*b,(e+d)*c,p);a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);fl(a);b=a.k;b.Ub=Wg;return b},LinedDocument:function(a,b,c){c/=0.8;a=new K;L(a,0,0.7*c,h);a.lineTo(0,
0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);N(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);O(a);L(a,0.1*b,0,p);a.lineTo(0.1*b,0.75*c);fl(a);b=a.k;b.n=new G(0.1,0);b.o=new G(1,0.6);return b},LoopLimit:function(a,b,c){a=new K;L(a,0,1*c,h);a.lineTo(0,0.25*c);a.lineTo(0.25*b,0);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);O(a);b=a.k;b.n=new G(0,0.25);b.o=new G(1,1);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){var a=new K,d=0.5*Hc;L(a,0.5*b,1*c,h);N(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*
c);N(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(a,1*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.6*b,0.9*c);a.lineTo(1*b,0.9*c);a.lineTo(1*b,1*c);a.lineTo(0.5*b,1*c);b=a.k;b.n=new G(0.15,0.15);b.o=new G(0.85,0.8);return b},ManualInput:function(a,b,c){a=new K;L(a,1*b,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.25*c);O(a);b=a.k;b.n=new G(0,0.25);b.o=new G(1,1);return b},MessageFromUser:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.7);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(a*
b,0.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);b=d.k;b.n=new G(0,0);b.o=new G(a,1);return b},MicroformProcessing:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.25);var d=new K;L(d,0,0,h);d.lineTo(0.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.5*b,(1-a)*c);d.lineTo(0,1*c);O(d);b=d.k;b.n=new G(0,a);b.o=new G(1,1-a);return b},MicroformRecording:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.15*c);a.lineTo(1*b,0.85*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);O(a);b=a.k;b.n=
new G(0,0.25);b.o=new G(1,0.75);return b},MultiDocument:function(a,b,c){c/=0.8;a=new K;L(a,b,0,h);a.lineTo(b,0.5*c);N(a,0.96*b,0.47*c,0.93*b,0.45*c,0.9*b,0.44*c);a.lineTo(0.9*b,0.6*c);N(a,0.86*b,0.57*c,0.83*b,0.55*c,0.8*b,0.54*c);a.lineTo(0.8*b,0.7*c);N(a,0.4*b,0.4*c,0.4*b,1*c,0,0.7*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);a.lineTo(0.1*b,0.1*c);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);O(a);L(a,0.1*b,0.2*c,p);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.54*c);a.moveTo(0.2*b,0.1*c);a.lineTo(0.9*b,0.1*c);
a.lineTo(0.9*b,0.44*c);fl(a);b=a.k;b.n=new G(0,0.25);b.o=new G(0.8,0.77);return b},MultiProcess:function(a,b,c){a=new K;L(a,0.1*b,0.1*c,h);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.8*c);a.lineTo(0.9*b,0.8*c);a.lineTo(0.9*b,0.9*c);a.lineTo(0.8*b,0.9*c);a.lineTo(0.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);O(a);L(a,0.2*b,0.1*c,p);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.8*c);a.moveTo(0.1*b,0.2*c);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.9*c);fl(a);b=a.k;
b.n=new G(0,0.2);b.o=new G(0.8,1);return b},OfflineStorage:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=1-a,e=new K;L(e,0,0,h);e.lineTo(1*b,0);e.lineTo(0.5*b,1*c);O(e);L(e,0.5*a*b,a*c,p);e.lineTo((1-0.5*a)*b,a*c);fl(e);b=e.k;b.n=new G(d/4+0.5*a,a);b.o=new G(3*d/4+0.5*a,a+0.5*d);return b},OffPageConnector:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.75*b,1*c);a.lineTo(0,1*c);O(a);b=a.k;b.n=new G(0,0);b.o=new G(0.75,1);return b},Or:function(a,b,c){var a=new K,
d=0.5*Hc;L(a,1*b,0.5*c,h);N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);N(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(a,1*b,0.5*c,p);a.lineTo(0,0.5*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);fl(a);b=a.k;b.Ub=Wg;return b},PaperTape:function(a,b,c){c/=0.8;a=new K;L(a,0,0.7*c,h);a.lineTo(0,0.3*c);N(a,0.5*b,0.6*c,0.5*b,0,1*b,0.3);a.lineTo(1*b,0.7*c);N(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);O(a);b=a.k;b.n=new G(0,0.49);b.o=new G(1,0.75);return b},
PrimitiveFromCall:function(a,b,c){var d=a?a.Rb:0,a=a?a.js:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new K;L(e,0,0,h);e.lineTo(1*b,0);e.lineTo((1-a)*b,0.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);O(e);b=e.k;b.n=new G(d,0);b.o=new G(1-a,1);return b},PrimitiveToCall:function(a,b,c){var d=a?a.Rb:0,a=a?a.js:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new K;L(e,0,0,h);e.lineTo((1-a)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);O(e);b=e.k;b.n=new G(d,0);b.o=new G(1-a,1);return b},Subroutine:"Procedure",
Procedure:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);L(d,(1-a)*b,0,p);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);fl(d);b=d.k;b.n=new G(a,0);b.o=new G(1-a,1);return b},Process:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);O(d);L(d,a*b,0,p);d.lineTo(a*b,1*c);fl(d);b=d.k;b.n=new G(a,0);b.o=new G(1,1);return b},Sort:function(a,b,c){a=new K;L(a,
0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);O(a);L(a,0,0.5*c,p);a.lineTo(1*b,0.5*c);fl(a);b=a.k;b.n=new G(0.25,0.25);b.o=new G(0.75,0.5);return b},Start:function(a,b,c){a=new K;L(a,0.25*b,0,h);a.lineTo(0.75*b,0);N(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);N(a,0,1*c,0,0,0.25*b,0);L(a,0.25*b,0,p);a.lineTo(0.25*b,1*c);a.moveTo(0.75*b,0);a.lineTo(0.75*b,1*c);fl(a);b=a.k;b.n=new G(0.25,0);b.o=new G(0.75,1);return b},Terminator:function(a,b,c){a=new K;L(a,0.25*b,0,h);a.lineTo(0.75*
b,0);N(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);N(a,0,1*c,0,0,0.25*b,0);b=a.k;b.n=new G(0.23,0);b.o=new G(0.77,1);return b},TransmittalTape:function(a,b,c){a=a?a.Rb:0;0===a&&(a=0.1);var d=new K;L(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.75*b,(1-a)*c);d.lineTo(0,(1-a)*c);O(d);b=d.k;b.n=new G(0,0);b.o=new G(1,1-a);return b},AndGate:function(a,b,c){var a=new K,d=0.5*Hc;L(a,0,0,h);a.lineTo(0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);
a.lineTo(0,1*c);O(a);b=a.k;b.n=new G(0,0);b.o=new G(0.55,1);return b},Buffer:function(a,b,c){a=new K;L(a,0,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);O(a);b=a.k;b.n=new G(0,0.25);b.o=new G(0.5,0.75);return b},Clock:function(a,b,c){var a=new K,d=0.5*Hc;L(a,1*b,0.5*c,h);N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);N(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(a,1*b,0.5*c,p);a.lineTo(1*b,0.5*c);L(a,0.8*b,0.75*c,p);a.lineTo(0.8*b,0.25*
c);a.lineTo(0.6*b,0.25*c);a.lineTo(0.6*b,0.75*c);a.lineTo(0.4*b,0.75*c);a.lineTo(0.4*b,0.25*c);a.lineTo(0.2*b,0.25*c);a.lineTo(0.2*b,0.75*c);fl(a);b=a.k;b.Ub=Wg;return b},Ground:function(a,b,c){a=new K;L(a,0.5*b,0,p);a.lineTo(0.5*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.3*b,0.8*c);a.lineTo(0.7*b,0.8*c);a.moveTo(0.4*b,1*c);a.lineTo(0.6*b,1*c);return a.k},Inverter:function(a,b,c){var a=new K,d=0.1*Hc;L(a,0.8*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.8*b,0.5*c);L(a,1*
b,0.5*c,h);N(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);N(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);N(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);N(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.k;b.n=new G(0,0.25);b.o=new G(0.4,0.75);return b},NandGate:function(a,b,c){var a=new K,d=0.5*Hc,e=0.4*Hc,g=0.1*Hc;L(a,0.8*b,0.5*c,h);N(a,0.8*b,(0.5+e)*c,(0.4+d)*b,1*c,0.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.4*b,0);N(a,(0.4+d)*b,0,0.8*b,(0.5-e)*c,0.8*b,0.5*c);L(a,1*b,0.5*c,h);N(a,1*b,
(0.5+g)*c,(0.9+g)*b,0.6*c,0.9*b,0.6*c);N(a,(0.9-g)*b,0.6*c,0.8*b,(0.5+g)*c,0.8*b,0.5*c);N(a,0.8*b,(0.5-g)*c,(0.9-g)*b,0.4*c,0.9*b,0.4*c);N(a,(0.9+g)*b,0.4*c,1*b,(0.5-g)*c,1*b,0.5*c);b=a.k;b.n=new G(0,0.05);b.o=new G(0.55,0.95);return b},NorGate:function(a,b,c){var a=new K,d=0.5,e=Hc*d,g=0,i=0.5;L(a,0.8*b,0.5*c,h);N(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0,1*c);N(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);N(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*Hc;g=0.9;i=0.5;L(a,(g-d)*b,i*c,h);N(a,(g-d)*b,(i-
e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);N(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);N(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);N(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.k;b.n=new G(0.2,0.25);b.o=new G(0.6,0.75);return b},OrGate:function(a,b,c){var a=new K,d=0.5*Hc;L(a,0,0,h);N(a,(0+d+d)*b,0*c,0.8*b,(0.5-d)*c,1*b,0.5*c);N(a,0.8*b,(0.5+d)*c,(0+d+d)*b,1*c,0,1*c);N(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);O(a);b=a.k;b.n=new G(0.2,0.25);b.o=new G(0.75,0.75);return b},XnorGate:function(a,b,c){var a=
new K,d=0.5,e=Hc*d,g=0.2,i=0.5;L(a,0.1*b,0,p);N(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);L(a,0.8*b,0.5*c,h);N(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0.2*b,1*c);N(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);N(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*Hc;g=0.9;i=0.5;L(a,(g-d)*b,i*c,h);N(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);N(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);N(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);N(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.k;b.n=new G(0.4,
0.25);b.o=new G(0.65,0.75);return b},XorGate:function(a,b,c){var a=new K,d=0.5*Hc;L(a,0.1*b,0,p);N(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);L(a,0.2*b,0,h);N(a,(0.2+d)*b,0*c,0.9*b,(0.5-d)*c,1*b,0.5*c);N(a,0.9*b,(0.5+d)*c,(0.2+d)*b,1*c,0.2*b,1*c);N(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);O(a);b=a.k;b.n=new G(0.4,0.25);b.o=new G(0.8,0.75);return b},Capacitor:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.k},Resistor:function(a,b,c){a=new K;L(a,0,0.5*c,p);
a.lineTo(0.1*b,0);a.lineTo(0.2*b,1*c);a.lineTo(0.3*b,0);a.lineTo(0.4*b,1*c);a.lineTo(0.5*b,0);a.lineTo(0.6*b,1*c);a.lineTo(0.7*b,0.5*c);return a.k},Inductor:function(a,b,c){var a=new K,d=0.1*Hc,e=0.1,g=0.5;L(a,(e-0.5*d)*b,(g+0.1)*c,p);N(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.3;g=0.5;N(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);N(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);g=e=0.5;N(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);N(a,(e-d)*b,(g+0.1)*
c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.7;g=0.5;N(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);N(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.9;g=0.5;N(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,(e+0.5*d)*b,(g+0.1)*c);return a.k},ACvoltageSource:function(a,b,c){var a=new K,d=0.5*Hc;L(a,0*b,0.5*c,p);N(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);N(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);a.moveTo(0.1*
b,0.5*c);N(a,0.5*b,0*c,0.5*b,1*c,0.9*b,0.5*c);b=a.k;b.Ub=Wg;return b},DCvoltageSource:function(a,b,c){a=new K;L(a,0,0.75*c,p);a.lineTo(0,0.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.k},Diode:function(a,b,c){a=new K;L(a,1*b,0,p);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);a.lineTo(1*b,1*c);b=a.k;b.n=new G(0,0.25);b.o=new G(0.5,0.75);return b},Wifi:function(a,b,c){var d=b,e=c,b=0.38*b,c=0.6*c,a=new K,g=0.8*Hc,i=0.8,j=0,k=0.5,d=(d-b)/2,e=(e-c)/2;L(a,j*b+d,(k+i)*c+e,h);
N(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);N(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);N(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);N(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);O(a);g=0.4*Hc;i=0.4;j=0.2;k=0.5;L(a,j*b+d,(k+i)*c+e,h);N(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);N(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);N(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);N(a,
(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);O(a);g=0.2*Hc;i=0.2;k=j=0.5;L(a,(j-i)*b+d,k*c+e,h);N(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);N(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);N(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);N(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);g=0.4*Hc;i=0.4;j=0.8;k=0.5;L(a,j*b+d,(k-i)*c+e,h);N(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);N(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+
i)*c+e,j*b+d,(k+i)*c+e);N(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);N(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);O(a);g=0.8*Hc;i=0.8;j=1;k=0.5;L(a,j*b+d,(k-i)*c+e,h);N(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);N(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);N(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);N(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);O(a);return a.k},Email:function(a,b,c){a=
new K;L(a,0,0,h);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);O(a);L(a,0,0,p);a.lineTo(0.5*b,0.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(0.45*b,0.54*c);a.moveTo(1*b,1*c);a.lineTo(0.55*b,0.54*c);fl(a);return a.k},Ethernet:function(a,b,c){a=new K;L(a,0.35*b,0,h);a.lineTo(0.65*b,0);a.lineTo(0.65*b,0.4*c);a.lineTo(0.35*b,0.4*c);a.lineTo(0.35*b,0);O(a);L(a,0.1*b,1*c,h,h);a.lineTo(0.4*b,1*c);a.lineTo(0.4*b,0.6*c);a.lineTo(0.1*b,0.6*c);a.lineTo(0.1*b,1*c);O(a);L(a,0.6*b,1*c,h,h);a.lineTo(0.9*
b,1*c);a.lineTo(0.9*b,0.6*c);a.lineTo(0.6*b,0.6*c);a.lineTo(0.6*b,1*c);O(a);L(a,0,0.5*c,p);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.5*b,0.4*c);a.moveTo(0.75*b,0.5*c);a.lineTo(0.75*b,0.6*c);a.moveTo(0.25*b,0.5*c);a.lineTo(0.25*b,0.6*c);fl(a);return a.k},Power:function(a,b,c){var a=new K,d=0.4*Hc,e=0.4,g=new D(0,0),i=new D(0,0),j=new D(0,0),k=new D(0,0);new D(0,0);gl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);new D(i.x,i.y);L(a,i.x*b,i.y*c,h);N(a,j.x*b,j.y*c,k.x*b,k.y*c,
(0.5+e)*b,0.5*c);N(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);N(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);gl(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);N(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);d=0.3*Hc;e=0.3;gl(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);a.lineTo(i.x*b,i.y*c);N(a,k.x*b,k.y*c,j.x*b,j.y*c,(0.5-e)*b,0.5*c);N(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);N(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,
0.5*c);gl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);N(a,k.x*b,k.y*c,j.x*b,j.y*c,i.x*b,i.y*c);O(a);L(a,0.45*b,0,h);a.lineTo(0.45*b,0.5*c);a.lineTo(0.55*b,0.5*c);a.lineTo(0.55*b,0);O(a);b=a.k;b.n=new G(0.25,0.55);b.o=new G(0.75,0.8);return b},Fallout:function(a,b,c){var a=new K,d=0.5*Hc;L(a,0*b,0.5*c,h);N(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);N(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);var e=d=0;
L(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.4;e=0;O(a);L(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.2;e=-0.3;O(a);L(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);O(a);b=a.k;b.Ub=Wg;return b},IrritationHazard:function(a,b,c){a=new K;L(a,0.2*b,0*c,h);a.lineTo(0.5*b,0.3*c);a.lineTo(0.8*
b,0*c);a.lineTo(1*b,0.2*c);a.lineTo(0.7*b,0.5*c);a.lineTo(1*b,0.8*c);a.lineTo(0.8*b,1*c);a.lineTo(0.5*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0*b,0.8*c);a.lineTo(0.3*b,0.5*c);a.lineTo(0*b,0.2*c);O(a);b=a.k;b.n=new G(0.3,0.3);b.o=new G(0.7,0.7);return b},ElectricalHazard:function(a,b,c){a=new K;L(a,0.37,0*c,h);a.lineTo(0.5*b,0.11*c);a.lineTo(0.77*b,0.04*c);a.lineTo(0.33*b,0.49*c);a.lineTo(1*b,0.37*c);a.lineTo(0.63*b,0.86*c);a.lineTo(0.77*b,0.91*c);a.lineTo(0.34*b,1*c);a.lineTo(0.34*b,0.78*c);a.lineTo(0.44*
b,0.8*c);a.lineTo(0.65*b,0.56*c);a.lineTo(0*b,0.68*c);O(a);return a.k},FireHazard:function(a,b,c){a=new K;L(a,0.1*b,1*c,h);N(a,-0.25*b,0.63*c,0.45*b,0.44*c,0.29*b,0*c);N(a,0.48*b,0.17*c,0.54*b,0.35*c,0.51*b,0.42*c);N(a,0.59*b,0.29*c,0.58*b,0.28*c,0.59*b,0.18*c);N(a,0.8*b,0.34*c,0.88*b,0.43*c,0.75*b,0.6*c);N(a,0.87*b,0.48*c,0.88*b,0.43*c,0.88*b,0.31*c);N(a,1.17*b,0.76*c,0.82*b,0.8*c,0.9*b,1*c);O(a);b=a.k;b.n=new G(0.05,0.645);b.o=new G(0.884,0.908);return b},BpmnActivityLoop:function(a,b,c){var a=
new K,d=0.5*(4*(Math.SQRT2-1)/3);L(a,(0.5*Math.SQRT2/2+0.5)*b,(1-(0.5-0.5*Math.SQRT2/2))*c,p);N(a,1*b,0.7*c,1*b,0.5*c,1*b,0.5*c);N(a,1*b,(0.5-d+0)*c,(0.5+d+0)*b,0*c,0.5*b,0*c);N(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);N(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.35*b,0.98*c);a.moveTo(0.35*b,0.8*c);a.lineTo(0.35*b,1*c);a.lineTo(0.15*b,1*c);return a.k},BpmnActivityParallel:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(0,1*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.k},
BpmnActivitySequential:function(a,b,c){a=new K;L(a,0,0,p);a.lineTo(1*b,0);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);return a.k},BpmnActivityAdHoc:function(a,b,c){a=new K;L(a,0,0,p);L(a,1*b,1*c,p);L(a,0,0.5*c,p);N(a,0.2*b,0.35*c,0.3*b,0.35*c,0.5*b,0.5*c);N(a,0.7*b,0.65*c,0.8*b,0.65*c,1*b,0.5*c);return a.k},BpmnActivityCompensation:function(a,b,c){a=new K;L(a,0,0.5*c,h);a.lineTo(0.5*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(0.5*
b,1*c);O(a);return a.k},BpmnTaskMessage:function(a,b,c){a=new K;L(a,0,0.2*c,h);a.lineTo(1*b,0.2*c);a.lineTo(1*b,0.8*c);a.lineTo(0,0.8*c);a.lineTo(0,0.8*c);O(a);L(a,0,0.2*c,p);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,0.2*c);fl(a);return a.k},BpmnTaskScript:function(a,b,c){a=new K;L(a,0.7*b,1*c,h);a.lineTo(0.3*b,1*c);N(a,0.6*b,0.5*c,0,0.5*c,0.3*b,0);a.lineTo(0.7*b,0);N(a,0.4*b,0.5*c,1*b,0.5*c,0.7*b,1*c);O(a);L(a,0.45*b,0.73*c,p);a.lineTo(0.7*b,0.73*c);a.moveTo(0.38*b,0.5*c);a.lineTo(0.63*b,0.5*c);a.moveTo(0.31*
b,0.27*c);a.lineTo(0.56*b,0.27*c);fl(a);return a.k},BpmnTaskUser:function(a,b,c){a=new K;L(a,0,0,p);L(a,0.335*b,(1-0.555)*c,h);a.lineTo(0.335*b,0.595*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.665*b,(1-0.555)*c);N(a,0.88*b,0.46*c,0.98*b,0.54*c,1*b,0.68*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.68*c);N(a,0.02*b,0.54*c,0.12*b,0.46*c,0.335*b,(1-0.555)*c);a.lineTo(0.365*b,0.405*c);var d=0.5-0.285,e=Math.PI/4,g=4*(1-Math.cos(e))/(3*Math.sin(e)),e=g*d,g=g*d;N(a,(0.5-(e+d)/2)*b,(d+(d+g)/2)*c,(0.5-d)*
b,(d+g)*c,(0.5-d)*b,d*c);N(a,(0.5-d)*b,(d-g)*c,(0.5-e)*b,(d-d)*c,0.5*b,(d-d)*c);N(a,(0.5+e)*b,(d-d)*c,(0.5+d)*b,(d-g)*c,(0.5+d)*b,d*c);N(a,(0.5+d)*b,(d+g)*c,(0.5+(e+d)/2)*b,(d+(d+g)/2)*c,0.635*b,0.405*c);a.lineTo(0.635*b,0.405*c);a.lineTo(0.665*b,(1-0.555)*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.335*b,0.595*c);L(a,0.2*b,1*c,p);a.lineTo(0.2*b,0.8*c);L(a,0.8*b,1*c,p);a.lineTo(0.8*b,0.8*c);return a.k},BpmnEventConditional:function(a,b,c){a=new K;L(a,0.1*b,0,h);a.lineTo(0.9*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1*
b,1*c);O(a);L(a,0.2*b,0.2*c,p);a.lineTo(0.8*b,0.2*c);a.moveTo(0.2*b,0.4*c);a.lineTo(0.8*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.2*b,0.8*c);a.lineTo(0.8*b,0.8*c);fl(a);return a.k},BpmnEventError:function(a,b,c){a=new K;L(a,0,1*c,h);a.lineTo(0.33*b,0);a.lineTo(0.66*b,0.5*c);a.lineTo(1*b,0);a.lineTo(0.66*b,1*c);a.lineTo(0.33*b,0.5*c);O(a);return a.k},BpmnEventEscalation:function(a,b,c){a=new K;L(a,0,0,p);L(a,1*b,1*c,p);L(a,0.1*b,1*c,h);a.lineTo(0.5*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.5*
b,0.5*c);O(a);return a.k},BpmnEventTimer:function(a,b,c){var a=new K,d=0.5*Hc;L(a,1*b,0.5*c,h);N(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);N(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);N(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);N(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(a,0.5*b,0,p);a.lineTo(0.5*b,0.15*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0.85*c);a.moveTo(0,0.5*c);a.lineTo(0.15*b,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(0.85*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.58*b,0.1*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.78*
b,0.54*c);fl(a);b=a.k;b.Ub=Wg;return b}},ll;for(ll in Qk)Qk[ll.toLowerCase()]=ll;
var ql={None:"",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",OpenTriangle:"m 0,0 l 8,4 -8,4",Circle:"F1 m 8,4 b 0 360 -4 0 4 z",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",Line:"m 0,0 l 0,8",
DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",
BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 12,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -4 0 4 z",Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",
HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",
ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 -8,-4 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 -8,0 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",Fork:"m 0,4 l 8,0 m -6,0 l 6,-4 m -6,4 l 6,4",CircleFork:"F1 m 6,3 b 0 360 -3 0 3 m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",
LineFork:"m 0,0 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",CircleLine:"F1 m 8 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",CircleLineFork:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m 4 -4 l 0 8",OpenTriangleTop:"m 0,0 l 8,4 -8,0 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4 -8,0",OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",
OpenTriangleLine:"m 0,0 8,4 -8,4 m 8.5,0 l 0,-8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z",ForwardSlash:"m 0,8 l 5,-8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",BackSlash:"m 0,0 l 5,8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",
BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3"},Ok,rl={},sl;for(sl in Qk){var tl=Qk[sl];"string"===typeof tl&&(tl=Qk[tl]);"string"===typeof tl&&(tl=Qk[tl]);tl&&(rl[sl]=tl(n,100,100));rl[sl].Qe()}Ok=rl;var ul={};function Pk(a){if(ql){for(var b in ql){var c=be(ql[b],p);ul[b]=c;ul[b.toLowerCase()]=b}ql=f}return ul[a]}W.FigureGenerators=Qk;W.ArrowheadGeometries=ul;
function R(a){0===arguments.length?w.call(this):w.call(this,a);this.Lm=this.Gj="";this.Pp=n;this.uq=this.kq=this.yp=this.br=this.ep=this.So=h;this.Fq=this.Aq=this.zq=p;this.Xm=h;this.Sq="";this.Pq=h;this.mk=this.Gq=this.Bq=this.Qq=n;this.lt=p;this.Ag=this.Rq=n;this.Dq="";this.rl=n;this.Cq=(new J(NaN,NaN)).freeze();this.Hq="";this.sl=n;this.td="";this.Dp=h;this.w=this.Ro=this.Jj=n;this.Fi=(new D(NaN,NaN)).freeze();this.rt=new D(NaN,NaN);this.Yp="";this.Gi=n;this.Zp=dc;this.fq=Qc;this.aq=Rc;this.fp=
n;this.Ep=h;this.Qp=vl;this.ag=p;this.$m=(new D(6,6)).freeze();this.Zm="gray";this.Ym=4;this.wE=-1;this.Ci=h;this.Lt=this.gf=p}v.J("Part",R);v.va(R,w);
R.prototype.qb=function(a){w.prototype.qb.call(this,a);a.Gj=this.Gj;a.Lm=this.Lm;a.Pp=this.Pp;a.So=this.So;a.ep=this.ep;a.br=this.br;a.yp=this.yp;a.kq=this.kq;a.uq=this.uq;a.zq=this.zq;a.Aq=this.Aq;a.Fq=this.Fq;a.Xm=this.Xm;a.Sq=this.Sq;a.Pq=this.Pq;a.Qq=this.Qq;a.Bq=this.Bq;a.Gq=this.Gq;a.lt=p;a.Rq=this.Rq;a.Ag=n;a.Dq=this.Dq;a.Cq.Xa(this.Cq);a.Hq=this.Hq;a.td=this.td;a.Dp=this.Dp;a.Ro=this.Ro;a.Fi.Xa(this.Fi);a.Yp=this.Yp;a.Zp=this.Zp.F();a.fq=this.fq.F();a.aq=this.aq.F();a.fp=this.fp;a.Ep=this.Ep;
a.Qp=this.Qp;a.ag=this.ag;a.$m.Xa(this.$m);a.Zm=this.Zm;a.Ym=this.Ym};R.prototype.lh=function(a){w.prototype.lh.call(this,a);mj(a);a.mk=n;a.rl=n;a.sl=n;a.Gi=n};R.prototype.toString=function(){var a=v.dj(Object.getPrototypeOf(this))+"#"+v.qc(this);this.data&&(a+="("+Ce(this.data)+")");return a};
R.prototype.dumpReferences=R.prototype.bC=function(){v.trace("References for "+this);this.za&&v.trace("  "+this.za.toString()+' LayerName: "'+this.Kd+'"');this.po!==this&&v.trace("  SelectionObject: "+this.po.toString()+' SelectionObjectName: "'+this.qo+'"');this.Gb!==this&&v.trace("  LocationObject: "+this.Gb.toString()+' LocationObjectName: "'+this.Zr+'"');if(this.Ag){for(var a="",b=this.Ag.f;b.next();)a+=b.key+" ";v.trace("  Adornments: "+a)}this.$a&&v.trace("  ContainingGroup: "+this.$a.toString());
if(this instanceof S){if(this.xc)for(b=this.xc.f;b.next(););if(0<this.qe.count){a="";for(b=this.qe;b.next();)a+=b.value.toString()+", ";v.trace("  Links: "+a)}this.pe&&v.trace("  LabeledLink: "+this.pe.toString());if(this instanceof T){v.trace("  Placeholder: "+this.placeholder);a="";for(b=this.sc;b.next();)a+=b.value.toString()+", ";v.trace("  Members: "+a);a="";for(b=this.ll.f;b.next();)a+=b.value.toString()+", ";v.trace("  NestedGroups: "+a);v.trace("  Layout: "+this.Eb)}}else if(this instanceof
V){v.trace("  Path: "+this.path);v.trace("  From: "+this.ja+" "+this.Oc+' "'+this.qh+'"');v.trace("  To: "+this.na+" "+this.yd+' "'+this.ri+'"');a="";for(b=this.oi;b.next();)a+=b.value.toString()+", ";v.trace("  LabelNodes: "+a)}};R.LayoutNone=0;var yi;R.LayoutAdded=yi=1;var Di;R.LayoutRemoved=Di=2;var yj;R.LayoutShown=yj=4;var Gj;R.LayoutHidden=Gj=8;R.LayoutNodeSized=16;var Ii;R.LayoutGroupLayout=Ii=32;var vl;R.LayoutStandard=vl=yi|Di|yj|Gj|16|Ii;
R.prototype.zg=function(){w.prototype.zg.call(this);var a=this.b;a!==n&&this.Rl&&(Ti(a,"shadowOffset",this.GD),Ti(a,"shadowColor",this.shadowColor),Ti(a,"shadowBlur",this.shadowBlur))};R.prototype.Xl=function(a,b,c,d,e,g,i){var j=this.b;j!==n&&(a===Ae&&"elements"===b?e instanceof w&&zi(e,e,function(a){Ai(j,a)}):a===Be&&"elements"===b&&e instanceof w&&zi(e,e,function(a){Ci(j,a)}),j.be(a,b,c,d,e,g,i))};
R.prototype.updateTargetBindings=R.prototype.tc=function(a){w.prototype.tc.call(this,a);if(this.data!==n)for(a=this.elements;a.next();){var b=a.value;b instanceof w&&zi(b,b,function(a){a.data!==n&&a.tc()})}};v.m(R,{QE:"adornments"},function(){return this.Ag===n?n:this.Ag.f});R.prototype.findAdornment=R.prototype.In=function(a){t&&v.e(a,"string",R,"findAdornment:category");var b=this.Ag;return b===n?n:b.ga(a)};
R.prototype.addAdornment=R.prototype.on=function(a,b){if(b!==n){t&&(v.e(a,"string",R,"addAdornment:category"),v.c(b,sf,R,"addAdornment:ad"));var c=n,d=this.Ag;d!==n&&(c=d.ga(a));if(c!==b){if(c!==n){var e=c.za;e!==n&&e.Id(-1,c)}d===n&&(this.Ag=d=new ra("string",sf));d.add(a,b);c=this.b;c!==n&&(d=c.bj("Adornment"),d===n&&(d=c.bj("")),d!==n&&(d.yk(99999999,b),b.data=this.data))}}};
R.prototype.removeAdornment=R.prototype.Zl=function(a){t&&v.e(a,"string",R,"removeAdornment:category");var b=this.Ag;if(b!==n){var c=b.ga(a);if(c!==n){var d=c.za;d!==n&&d.Id(-1,c)}b.remove(a);0===b.count&&(this.Ag=n)}};R.prototype.clearAdornments=R.prototype.jh=function(){var a=this.Ag;if(a!==n){for(var b=[],a=a.f;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.Zl(b[c])}};
R.prototype.updateAdornments=R.prototype.ti=function(){a:{var a=this.b;if(a!==n){var b=n;if(this.La&&this.BD){var c=this.po;if(c!==n&&this.ib()&&c.Ak()&&c.pa.ca()){b=this.In("Selection");if(b===n){b=this.CD;b===n&&(this instanceof V?b=a.MC:this instanceof R&&(b=this instanceof T?a.pC:a.$C));if(!(b instanceof sf))break a;uf(b);b=b.copy();if(!(b instanceof sf))break a;b.vd="Selection";b.Sd=c}if(b!==n){a=b.placeholder;if(a!==n){var d=c.Ll(),e=0;c instanceof W&&(e=c.Ya);a.ta=new J((c.qa.width+e)*d,(c.qa.height+
e)*d)}else this instanceof V&&(a=b.oa,a=Bk(b,a,a.length),d=this.path,a instanceof W&&d===c&&(d=c.Ba,wi(this),d=c.Ba,a.Pr=d,0===a.Ya&&(a.Ya=c.Ya)));b.Wa=c.On();b.type!==Dg&&(b.location=c.Fb(dc))}}this.on("Selection",b)}else this.Zl("Selection")}}c=this.b;if(c!==n){c=c.Zb.se.i;b=c.length;for(a=0;a<b;a++)d=c[a],d.isEnabled&&d.updateAdornments(this)}};v.m(R,{za:"layer"},s("w"));v.m(R,{b:"diagram"},function(){var a=this.w;return a!==n?a.b:n});v.a(R,"layerName",R.prototype.Kd);
v.defineProperty(R,{Kd:"layerName"},s("Lm"),function(a){var b=this.Lm;if(b!==a&&(v.e(a,"string",R,"layerName"),this.Lm=a,this.d("layerName",b,a),b=this.za,b!==n&&b.name!==a)){var c=b.b;if(c!==n&&(a=c.bj(a),a!==n&&a!==b)){var d=b.Id(-1,this,h);0<=d&&c.be(Be,"parts",b,this,n,d,h);d=a.yk(99999999,this,h);0<=d&&c.be(Ae,"parts",a,n,this,h,d);d=this.Xr;if(d!==n){var e=c.Ca;c.Ca=h;d(this,b,a);c.Ca=e}}}});v.a(R,"layerChanged",R.prototype.Xr);
v.defineProperty(R,{Xr:"layerChanged"},s("Pp"),function(a){var b=this.Pp;b!==a&&(a!==n&&v.e(a,"function",R,"layerChanged"),this.Pp=a,this.d("layerChanged",b,a))});v.a(R,"location",R.prototype.location);v.defineProperty(R,{location:"location"},s("Fi"),function(a){var b=this.Fi;if(!b.z(a)){t&&v.c(a,D,R,"location");this.Fi=a=a.F();if(this.Kc===p){var c=this.ob,d=this.rt,e=c.copy();c.Ed(a.x-d.x,a.y-d.y);c.z(e)||this.d("position",e,c);Kj(this)}this.d("location",b,a)}});
function Kj(a){if(a.Ci===p){var b=a.b;b!==n&&(b.Og.add(a),a instanceof S&&!b.ia.hb&&a.Af(),wf(b));a.Ci=h}}function wl(a){if(a.Ci!==p){var b=a.ob,c=a.lb,d=c.copy();c.wa();c.x=b.x;c.y=b.y;c.freeze();kj(a,d,c);a.Ci=p}}v.m(R,{Gb:"locationObject"},function(){if(this.Gi===n){var a=this.Zr;a!==f&&a!==n&&""!==a?(a=this.Ve(a),this.Gi=a!==n?a:this):this.Gi=this}return this.Gi.visible?this.Gi:this});v.a(R,"minLocation",R.prototype.VC);
v.defineProperty(R,{VC:"minLocation"},s("fq"),function(a){var b=this.fq;b.z(a)||(t&&v.c(a,D,R,"minLocation"),this.fq=a=a.F(),this.d("minLocation",b,a))});v.a(R,"maxLocation",R.prototype.PC);v.defineProperty(R,{PC:"maxLocation"},s("aq"),function(a){var b=this.aq;b.z(a)||(t&&v.c(a,D,R,"maxLocation"),this.aq=a=a.F(),this.d("maxLocation",b,a))});v.a(R,"locationObjectName",R.prototype.Zr);
v.defineProperty(R,{Zr:"locationObjectName"},s("Yp"),function(a){var b=this.Yp;b!==a&&(t&&v.e(a,"string",R,"locationObjectName"),this.Yp=a,this.Gi=n,uj(this),this.d("locationObjectName",b,a))});v.a(R,"locationSpot",R.prototype.Ef);v.defineProperty(R,{Ef:"locationSpot"},s("Zp"),function(a){var b=this.Zp;b.z(a)||(t&&(v.c(a,G,R,"locationSpot"),Wb(a)||v.g("Part.locationSpot must be a specific Spot value, not: "+a)),this.Zp=a=a.F(),uj(this),this.d("locationSpot",b,a))});
R.prototype.move=R.prototype.move=function(a){this.position=a;this.Kc===p&&wl(this)};
R.prototype.isVisible=R.prototype.ib=function(){if(!this.hh)return p;var a=this.za;if(a!==n&&!a.visible)return p;var b=this.$a;if(b!==n&&!b.oe)return p;if(this instanceof S){if(a!==n)if(a.b.Df)for(a=this.Ue();a.next();){if(b=a.value,b=b.ja,b!==n&&!b.$d)return p}else for(a=this.Hr();a.next();)if(b=a.value,b=b.na,b!==n&&!b.$d)return p;a=this.pe;if(a!==n&&!a.ib())return p}else if(this instanceof V){b=this.ja;if(b!==n&&xl(b)===n)return p;b=this.na;if(b!==n&&xl(b)===n)return p}return h};
function yl(a,b,c){Yb(c)&&(c=jc);var d=b.qa;if(b===n||b===a)return new D(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);c=new D(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);b.transform.Hb(c);for(b=b.Y;b!==n&&b!==a;)b.transform.Hb(c),b=b.Y;a.Pm.Hb(c);c.offset(-a.Nc.x,-a.Nc.y);return c}R.prototype.ensureBounds=R.prototype.ii=function(){xh(this,Infinity,Infinity);this.Bc()};
R.prototype.Bc=function(){jj(this);if(this.Kc===p)wl(this);else{this instanceof sf&&(this.M!==Dg&&this.gb!==n)&&(this.Gi=this.gb);var a=this.XA;a.set(this.lb);sj(this);this.lb.wa();var b=this.gf;this.Si(0,0,this.Nc.width,this.Nc.height);var c=NaN,d=NaN,e=this.Ef,g=this.Gb;Yb(e)&&v.g("Spot must be real: "+e.toString());var i=g.qa,j=this.rt;j.$l(0,0,i.width,i.height,e);if(g!==this){g.transform.Hb(j);g.Ya&&(e=g.Qd/2,j.offset(-e,-e));for(g=g.Y;g!==n&&g!==this;)g.transform.Hb(j),g=g.Y}this.Pm.Hb(j);j.offset(-this.Nc.x,
-this.Nc.y);j=this.rt;g=this.position;e=this.location;e.ca()?(c=e.x-j.x,d=e.y-j.y,g.copy(),g.Ed(c,d)):g.ca()&&(c=g.x,d=g.y,e.copy(),e.Ed(c+j.x,d+j.y));j=this.lb;j.x=c;j.y=d;j.freeze();jj(this);kj(this,a,j);a.z(j)?this.gf=b:this.Zd()&&(!kb(a.width,j.width)||!kb(a.height,j.height))&&this.v(16);this.Ci=p}};
function Bi(a,b){a.Lt=p;var c=a.b;if(c!==n){a.updateAdornments();var d=a.QE;if(d!==n){jj(a);for(sj(a);d.next();)xh(d.value,Infinity,Infinity),d.value.Bc()}a instanceof S&&Qi(c,a);!a.za.Zc&&!b&&qi(c);var d=a.lb,e=c.ub;e.ca()?a.gf?d.Xe(e)||(a.gf=p,Ch(c)):d.Xe(e)&&(a.gf=h):c.Im=h;a.lb.ca()&&Ch(c,a.lb)}}R.prototype.zk=ca(h);R.prototype.Zd=ca(h);v.a(R,"isInDocumentBounds",R.prototype.$u);
v.defineProperty(R,{$u:"isInDocumentBounds"},s("Dp"),function(a){var b=this.Dp;b!==a&&(t&&v.e(a,"boolean",R,"isInDocumentBounds"),this.Dp=a,this.d("isInDocumentBounds",b,a))});v.a(R,"category",R.prototype.vd);
v.defineProperty(R,{vd:"category"},s("Gj"),function(a){var b=this.Gj;if(b!==a){v.e(a,"string",R,"category");this.Gj=a;this.d("category",b,a);var b=this.b,c=this.data;if(b!==n&&c!==n){var d=b.S;this instanceof V?(d instanceof P&&d.ED(c,a),b=b.findTemplateForLinkData(c,a),b instanceof V&&(uf(b),b=b.copy(),b instanceof V&&zl(this,b,a))):this instanceof sf||(d!==n&&d.gz(c,a),b=b.findTemplateForNodeData(c,a),b instanceof R&&(uf(b),b=b.copy(),b instanceof R&&zl(this,b,a)))}}});
function zl(a,b,c){a.jh();var d=a.data,e=a.Kd,g=a.La;b.lh(a);b.qb(a);a.Gj=c;a.L();oj(a);b=a.b;c=h;b!==n&&(c=b.tb,b.tb=h);a.sm=d;d!==n&&a.tc();b!==n&&(b.tb=c);d=a.Kd;d!==e&&(a.Lm=e,a.Kd=d);a.La=g}R.prototype.canCopy=R.prototype.JH=function(){if(!this.EB)return p;var a=this.za;if(a===n)return h;if(!a.Yh)return p;a=a.b;return a===n?h:!a.Yh?p:h};R.prototype.canDelete=R.prototype.NH=function(){if(!this.OB)return p;var a=this.za;if(a===n)return h;if(!a.pk)return p;a=a.b;return a===n?h:!a.pk?p:h};
R.prototype.canEdit=R.prototype.PH=function(){if(!this.MD)return p;var a=this.za;if(a===n)return h;if(!a.zn)return p;a=a.b;return a===n?h:!a.zn?p:h};R.prototype.canGroup=R.prototype.TH=function(){if(!this.qC)return p;var a=this.za;if(a===n)return h;if(!a.tn)return p;a=a.b;return a===n?h:!a.tn?p:h};R.prototype.canMove=R.prototype.WH=function(){if(!this.YC)return p;var a=this.za;if(a===n)return h;if(!a.qk)return p;a=a.b;return a===n?h:!a.qk?p:h};
R.prototype.canPrint=R.prototype.mF=function(){if(!this.fD)return p;var a=this.za;if(a===n)return h;if(!a.vn)return p;a=a.b;return a===n?h:!a.vn?p:h};R.prototype.canReshape=R.prototype.aI=function(){if(!this.oD)return p;var a=this.za;if(a===n)return h;if(!a.wn)return p;a=a.b;return a===n?h:!a.wn?p:h};R.prototype.canResize=R.prototype.bI=function(){if(!this.pD)return p;var a=this.za;if(a===n)return h;if(!a.xn)return p;a=a.b;return a===n?h:!a.xn?p:h};
R.prototype.canRotate=R.prototype.cI=function(){if(!this.uD)return p;var a=this.za;if(a===n)return h;if(!a.yn)return p;a=a.b;return a===n?h:!a.yn?p:h};R.prototype.canSelect=R.prototype.Wx=function(){if(!this.Fk)return p;var a=this.za;if(a===n)return h;if(!a.Td)return p;a=a.b;return a===n?h:!a.Td?p:h};v.a(R,"copyable",R.prototype.EB);v.defineProperty(R,{EB:"copyable"},s("So"),function(a){var b=this.So;b!==a&&(t&&v.e(a,"boolean",R,"copyable"),this.So=a,this.d("copyable",b,a))});v.a(R,"deletable",R.prototype.OB);
v.defineProperty(R,{OB:"deletable"},s("ep"),function(a){var b=this.ep;b!==a&&(t&&v.e(a,"boolean",R,"deletable"),this.ep=a,this.d("deletable",b,a))});v.a(R,"textEditable",R.prototype.MD);v.defineProperty(R,{MD:"textEditable"},s("br"),function(a){var b=this.br;b!==a&&(t&&v.e(a,"boolean",R,"textEditable"),this.br=a,this.d("textEditable",b,a),this.updateAdornments())});v.a(R,"groupable",R.prototype.qC);
v.defineProperty(R,{qC:"groupable"},s("yp"),function(a){var b=this.yp;b!==a&&(t&&v.e(a,"boolean",R,"groupable"),this.yp=a,this.d("groupable",b,a))});v.a(R,"movable",R.prototype.YC);v.defineProperty(R,{YC:"movable"},s("kq"),function(a){var b=this.kq;b!==a&&(t&&v.e(a,"boolean",R,"movable"),this.kq=a,this.d("movable",b,a))});v.a(R,"printable",R.prototype.fD);
v.defineProperty(R,{fD:"printable"},s("uq"),function(a){var b=this.uq;b!==a&&(t&&v.e(a,"boolean",R,"printable"),this.uq=a,this.d("printable",b,a))});v.a(R,"reshapable",R.prototype.oD);v.defineProperty(R,{oD:"reshapable"},s("zq"),function(a){var b=this.zq;b!==a&&(t&&v.e(a,"boolean",R,"reshapable"),this.zq=a,this.d("reshapable",b,a),this.updateAdornments())});v.a(R,"resizable",R.prototype.pD);
v.defineProperty(R,{pD:"resizable"},s("Aq"),function(a){var b=this.Aq;b!==a&&(t&&v.e(a,"boolean",R,"resizable"),this.Aq=a,this.d("resizable",b,a),this.updateAdornments())});v.a(R,"rotatable",R.prototype.uD);v.defineProperty(R,{uD:"rotatable"},s("Fq"),function(a){var b=this.Fq;b!==a&&(t&&v.e(a,"boolean",R,"rotatable"),this.Fq=a,this.d("rotatable",b,a),this.updateAdornments())});v.a(R,"selectable",R.prototype.Fk);
v.defineProperty(R,{Fk:"selectable"},s("Xm"),function(a){var b=this.Xm;b!==a&&(t&&v.e(a,"boolean",R,"selectable"),this.Xm=a,this.d("selectable",b,a),this.updateAdornments())});v.a(R,"selectionObjectName",R.prototype.qo);v.defineProperty(R,{qo:"selectionObjectName"},s("Sq"),function(a){var b=this.Sq;b!==a&&(t&&v.e(a,"string",R,"selectionObjectName"),this.Sq=a,this.mk=n,this.d("selectionObjectName",b,a))});v.a(R,"selectionAdorned",R.prototype.BD);
v.defineProperty(R,{BD:"selectionAdorned"},s("Pq"),function(a){var b=this.Pq;b!==a&&(t&&v.e(a,"boolean",R,"selectionAdorned"),this.Pq=a,this.d("selectionAdorned",b,a),this.updateAdornments())});v.a(R,"selectionAdornmentTemplate",R.prototype.CD);v.defineProperty(R,{CD:"selectionAdornmentTemplate"},s("Qq"),function(a){var b=this.Qq;b!==a&&(t&&v.c(a,sf,R,"selectionAdornmentTemplate"),this instanceof V&&(a.type=Dg),this.Qq=a,this.d("selectionAdornmentTemplate",b,a))});
v.m(R,{po:"selectionObject"},function(){if(this.mk===n){var a=this.qo;a!==n&&""!==a?(a=this.Ve(a),this.mk=a!==n?a:this):this instanceof V?(a=this.path,this.mk=a!==n?a:this):this.mk=this}return this.mk});v.a(R,"isSelected",R.prototype.La);
v.defineProperty(R,{La:"isSelected"},s("lt"),function(a){var b=this.lt;if(b!==a){t&&v.e(a,"boolean",R,"isSelected");var c=this.b;if(!a||this.Wx()&&!(c!==n&&c.selection.count>=c.QC)){this.lt=a;var d=p;if(c!==n){d=c.tb;c.tb=h;var e=c.selection;e.wa();a?e.add(this):e.remove(this);e.freeze()}this.d("isSelected",b,a);this.updateAdornments();a=this.DD;a!==n&&a(this);c!==n&&(wf(c),c.tb=d)}}});v.a(R,"selectionChanged",R.prototype.DD);
v.defineProperty(R,{DD:"selectionChanged"},s("Rq"),function(a){var b=this.Rq;b!==a&&(a!==n&&v.e(a,"function",R,"selectionChanged"),this.Rq=a,this.d("selectionChanged",b,a))});v.a(R,"resizeAdornmentTemplate",R.prototype.qD);v.defineProperty(R,{qD:"resizeAdornmentTemplate"},s("Bq"),function(a){var b=this.Bq;b!==a&&(t&&v.c(a,sf,R,"resizeAdornmentTemplate"),this.Bq=a,this.d("resizeAdornmentTemplate",b,a))});v.a(R,"resizeObjectName",R.prototype.sD);
v.defineProperty(R,{sD:"resizeObjectName"},s("Dq"),function(a){var b=this.Dq;b!==a&&(t&&v.e(a,"string",R,"resizeObjectName"),this.Dq=a,this.rl=n,this.d("resizeObjectName",b,a))});v.m(R,{UG:"resizeObject"},function(){if(this.rl===n){var a=this.sD;a!==n&&""!==a?(a=this.Ve(a),this.rl=a!==n?a:this):this.rl=this}return this.rl});v.a(R,"resizeCellSize",R.prototype.rD);
v.defineProperty(R,{rD:"resizeCellSize"},s("Cq"),function(a){var b=this.Cq;b.z(a)||(t&&v.c(a,J,R,"resizeCellSize"),this.Cq=a=a.F(),this.d("resizeCellSize",b,a))});v.a(R,"rotateAdornmentTemplate",R.prototype.vD);v.defineProperty(R,{vD:"rotateAdornmentTemplate"},s("Gq"),function(a){var b=this.Gq;b!==a&&(t&&v.c(a,sf,R,"rotateAdornmentTemplate"),this.Gq=a,this.d("rotateAdornmentTemplate",b,a))});v.a(R,"rotateObjectName",R.prototype.wD);
v.defineProperty(R,{wD:"rotateObjectName"},s("Hq"),function(a){var b=this.Hq;b!==a&&(t&&v.e(a,"string",R,"rotateObjectName"),this.Hq=a,this.sl=n,this.d("rotateObjectName",b,a))});v.m(R,{YG:"rotateObject"},function(){if(this.sl===n){var a=this.wD;a!==n&&""!==a?(a=this.Ve(a),this.sl=a!==n?a:this):this.sl=this}return this.sl});v.a(R,"text",R.prototype.text);v.defineProperty(R,{text:"text"},s("td"),function(a){var b=this.td;b!==a&&(t&&v.e(a,"string",R,"text"),this.td=a,this.d("text",b,a))});
v.a(R,"containingGroup",R.prototype.$a);
v.defineProperty(R,{$a:"containingGroup"},s("Jj"),function(a){if(this.Zd()){var b=this.Jj;if(b!==a){t&&a!==n&&v.c(a,T,R,"containingGroup");if(a!==n&&(this===a||a.Ql(this)))this===a&&v.g("Cannot make a Group a member of itself: "+this.toString()),v.g("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString());this.v(Di);var c=this.b;b!==n?Al(b,this):this instanceof T&&c!==n&&c.tl.remove(this);this.Jj=a;a!==n?Bl(a,this):this instanceof T&&c!==n&&c.tl.add(this);
this.v(yi);if(c!==n){var d=this.data,e=c.S;d!==n&&e instanceof P&&e.iz(d,e.hc(a!==n?a.data:n))}d=this.hy;d!==n&&(e=h,c!==n&&(e=c.Ca,c.Ca=h),d(this,b,a),c!==n&&(c.Ca=e));if(this instanceof T){c=new va(R);rf(c,this,h,p);for(c=c.f;c.next();)if(d=c.value,d instanceof S)for(d=d.qe;d.next();)e=d.value,Fi(e)}if(this instanceof S)for(d=this.qe;d.next();)e=d.value,Fi(e);this.d("containingGroup",b,a);a!==n&&a.tv()}}else v.g("cannot set the Part.containingGroup of a Link or Adornment")});
function Cl(a,b){var c=a.Jj;if(c!==b){c!==n&&Al(c,a);a.Jj=b;b!==n&&Bl(b,a);var d=a.hy;if(d!==n){var e=h,g=a.b;g!==n&&(e=g.Ca,g.Ca=h);d(a,c,b);g!==n&&(g.Ca=e)}}}function mj(a){a=a.$a;a!==n&&(a.L(),a.gb!==n&&a.gb.L(),a.Af())}R.prototype.Tr=function(){var a=this.Jj;a!==n&&Bl(a,this)};R.prototype.Ur=function(){var a=this.Jj;a!==n&&Al(a,this)};R.prototype.Gl=function(){var a=this.data;if(a!==n){var b=this.b;b!==n&&(b=b.S,b!==n&&b.mD(a))}};v.a(R,"containingGroupChanged",R.prototype.hy);
v.defineProperty(R,{hy:"containingGroupChanged"},s("Ro"),function(a){var b=this.Ro;b!==a&&(a!==n&&v.e(a,"function",R,"containingGroupChanged"),this.Ro=a,this.d("containingGroupChanged",b,a))});v.m(R,{SK:"topLevelPart"},function(){return Dl(this,this)});function Dl(a,b){var c=b.$a;return c!==n?Dl(a,c):b instanceof S&&(c=b.pe,c!==n)?Dl(a,c):b}v.m(R,{Wr:"isTopLevel"},function(){return this.$a!==n||this instanceof S&&this.fj?p:h});
R.prototype.isMemberOf=R.prototype.Ql=function(a){return!(a instanceof T)?p:El(this,this,a)};function El(a,b,c){if(b===c||c===n)return p;var d=b.$a;return d!==n&&(d===c||El(a,d,c))?h:b instanceof S&&(b=b.pe,b!==n)?El(a,b,c):p}R.prototype.findCommonContainingGroup=R.prototype.QF=function(a){return Fl(this,this,a)};function Fl(a,b,c){if(b===n||c===n)return n;var d=b.$a;if(d===n)return n;if(b===c)return d;var e=c.$a;return e===n?n:d===e?e:El(a,c,d)?d:El(a,b,e)?e:Fl(a,d,e)}
v.a(R,"isLayoutPositioned",R.prototype.Ey);v.defineProperty(R,{Ey:"isLayoutPositioned"},s("Ep"),function(a){var b=this.Ep;b!==a&&(t&&v.e(a,"boolean",R,"isLayoutPositioned"),this.Ep=a,this.d("isLayoutPositioned",b,a),this.v(a?yj:Gj))});v.a(R,"layoutConditions",R.prototype.IC);v.defineProperty(R,{IC:"layoutConditions"},s("Qp"),function(a){var b=this.Qp;b!==a&&(t&&v.e(a,"number",R,"layoutConditions"),this.Qp=a,this.d("layoutConditions",b,a))});
R.prototype.canLayout=R.prototype.wr=function(){if(!this.Ey||!this.ib())return p;var a=this.za;return a!==n&&a.Zc||this instanceof S&&this.fj?p:h};R.prototype.invalidateLayout=R.prototype.v=function(a){a===f&&(a=16777215);var b;!this.Ey||0===(a&this.IC)?b=p:(b=this.za,b!==n&&b.Zc||this instanceof S&&this.fj?b=p:(b=this.b,b=b!==n&&b.ia.hb?p:h));if(b)if(b=this.Jj,b!==n){var c=b.Eb;c!==n?c.v():b.v(a)}else a=this.b,a!==n&&(c=a.Eb,c!==n&&c.v())};v.a(R,"dragComputation",R.prototype.oy);
v.defineProperty(R,{oy:"dragComputation"},s("fp"),function(a){var b=this.fp;b!==a&&(a!==n&&v.e(a,"function",R,"dragComputation"),this.fp=a,this.d("dragComputation",b,a))});v.a(R,"isShadowed",R.prototype.Rl);v.defineProperty(R,{Rl:"isShadowed"},s("ag"),function(a){var b=this.ag;b!==a&&(t&&v.e(a,"boolean",R,"isShadowed"),this.ag=a,oj(this),this.d("isShadowed",b,a))});v.a(R,"shadowOffset",R.prototype.GD);
v.defineProperty(R,{GD:"shadowOffset"},s("$m"),function(a){var b=this.$m;b.z(a)||(t&&v.c(a,D,R,"shadowOffset"),this.$m=a=a.F(),oj(this),this.d("shadowOffset",b,a))});v.a(R,"shadowColor",R.prototype.shadowColor);v.defineProperty(R,{shadowColor:"shadowColor"},s("Zm"),function(a){var b=this.Zm;b!==a&&(t&&v.e(a,"string",R,"shadowColor"),this.Zm=a,oj(this),this.d("shadowColor",b,a))});v.a(R,"shadowBlur",R.prototype.shadowBlur);
v.defineProperty(R,{shadowBlur:"shadowBlur"},s("Ym"),function(a){var b=this.Ym;b!==a&&(t&&v.e(a,"number",R,"shadowBlur"),this.Ym=a,oj(this),this.d("shadowBlur",b,a))});function sf(a){0===arguments.length?R.call(this,$g):R.call(this,a);this.Kd="Adornment";this.Aa=n;this.Xm=p;this.Fi=new D(NaN,NaN);this.Ah=new z(E);this.mc=n;this.wc=(new z(D)).freeze();this.nu=new D;this.gb=n}v.J("Adornment",sf);v.va(sf,R);
sf.prototype.toString=function(){var a=this.sn;return"Adornment("+this.vd+")"+(a!==n?a.toString():"")};sf.prototype.Nj=function(){return this.Aa&&this.Aa.ba instanceof V?this.Aa.ba.Nj():n};sf.prototype.vp=ca(n);sf.prototype.Fw=function(){var a=this.sn;return a instanceof V?a.wc:n};v.m(sf,{placeholder:"placeholder"},s("gb"));v.a(sf,"adornedObject",sf.prototype.Sd);v.defineProperty(sf,{Sd:"adornedObject"},s("Aa"),ba("Aa"));v.m(sf,{sn:"adornedPart"},function(){var a=this.Aa;return a!==n?a.ba:n});
sf.prototype.zk=function(){var a=this.Aa;if(a===n)return h;a=a.ba;return a===n||!a.Kc};sf.prototype.Zd=ca(p);v.m(sf,{$a:"containingGroup"},ca(n));
sf.prototype.Xl=function(a,b,c,d,e,g,i){if(a===Ae&&"elements"===b)if(e instanceof Ug)this.gb===n?this.gb=e:this.gb!==e&&v.g("Cannot insert a second Placeholder into the visual tree of an Adornment.");else{if(e instanceof w){var j=Kk(e,e,function(a){return a instanceof Ug});j instanceof Ug&&(this.gb===n?this.gb=j:this.gb!==j&&v.g("Cannot insert a second Placeholder into the visual tree of an Adornment."))}}else a===Be&&"elements"===b&&(d===this.gb?this.gb=n:d instanceof w&&this.gb.ni(d)&&(this.gb=
n));R.prototype.Xl.call(this,a,b,c,d,e,g,i)};sf.prototype.updateAdornments=sf.prototype.ti=aa();sf.prototype.Gl=aa();function S(a){0===arguments.length?R.call(this,$g):R.call(this,a);this.Bd=new z(V);this.Km=this.Vp=this.Tp=n;this.Kp=h;this.nr=p;this.ir=n;this.Lo=this.Lp=h;this.Mo=(new Ib(2)).freeze();this.xc=this.Cg=n}v.J("Node",S);v.va(S,R);S.prototype.qb=function(a){R.prototype.qb.call(this,a);a.Tp=this.Tp;a.Vp=this.Vp;a.Kp=this.Kp;a.nr=this.nr;a.ir=this.ir;a.Lp=this.Lp;a.Lo=this.Lo;a.Mo.Xa(this.Mo)};
S.prototype.lh=function(a){R.prototype.lh.call(this,a);a.Af();a.Cg=this.Cg;a.xc=n};var Gl;S.DirectionDefault=Gl=v.l(S,"DirectionDefault",0);S.DirectionAbsolute=v.l(S,"DirectionAbsolute",1);var Hl;S.DirectionRotatedNode=Hl=v.l(S,"DirectionRotatedNode",2);var aj;S.DirectionRotatedNodeOrthogonal=aj=v.l(S,"DirectionRotatedNodeOrthogonal",3);function Il(a,b){b!==n&&(a.Cg==n&&(a.Cg=new va(Jl)),a.Cg.add(b))}
S.prototype.Xl=function(a,b,c,d,e,g,i){a===Ae&&"elements"===b?this.xc=n:a===Be&&"elements"===b&&(this.b===n?this.xc=n:d instanceof Q&&Jk(this,d,function(a,b){Lj(a,b,h)}));R.prototype.Xl.call(this,a,b,c,d,e,g,i)};S.prototype.invalidateConnectedLinks=S.prototype.Af=function(a){a===f&&(a=n);for(var b=this.qe;b.next();){var c=b.value;if(!(a!==n&&a.contains(c))){var d=c.Oc;d!==n&&(d.sd=n);var e=c.yd;e!==n&&e!==d&&(e.sd=n);c.Xb()}}};
S.prototype.zk=function(){if(this.fj===p)return h;var a=this.pe;return a===n?h:!a.Kc};v.a(S,"avoidable",S.prototype.Ux);v.defineProperty(S,{Ux:"avoidable"},s("Lo"),function(a){var b=this.Lo;if(b!==a){t&&v.e(a,"boolean",S,"avoidable");this.Lo=a;var c=this.b;c!==n&&Qi(c,this);this.d("avoidable",b,a)}});v.a(S,"avoidableMargin",S.prototype.rB);
v.defineProperty(S,{rB:"avoidableMargin"},s("Mo"),function(a){"number"===typeof a?a=new Ib(a):v.c(a,Ib,S,"avoidableMargin");var b=this.Mo;if(!b.z(a)){this.Mo=a=a.F();var c=this.b;c!==n&&Qi(c,this);this.d("avoidableMargin",b,a)}});S.prototype.canAvoid=S.prototype.GH=function(){return this.Ux&&!this.fj};S.prototype.getAvoidableRectangle=S.prototype.fJ=function(a){a===f&&(a=new E);a.set(this.pa);a.rr(this.rB);return a};function xl(a){for(;a!==n&&!a.ib();)a=a.$a;return a}v.m(S,{qe:"linksConnected"},function(){return this.Bd.f});
S.prototype.findLinksConnected=S.prototype.RF=function(a){a===f&&(a=n);if(a===n)return this.Bd.f;t&&v.e(a,"string",S,"findLinksConnected:pid");var b=new Qa(this.Bd),c=this;b.jv=function(b){return b.ja===c&&b.qh===a||b.na===c&&b.ri===a};return b};S.prototype.findLinksOutOf=S.prototype.Hr=function(a){a===f&&(a=n);var b=new Qa(this.Bd),c=this;b.jv=function(b){return b.ja!==c?p:a===n?h:b.qh===a};return b};
S.prototype.findLinksInto=S.prototype.Ue=function(a){a===f&&(a=n);var b=new Qa(this.Bd),c=this;b.jv=function(b){return b.na!==c?p:a===n?h:b.ri===a};return b};
S.prototype.findNodesConnected=S.prototype.dC=function(a){a===f&&(a=n);for(var b=n,c=n,d=this.Bd.f;d.next();){var e=d.value;if(e.ja===this){if(a===n||e.qh===a)e=e.na,b!==n?b.add(e):c!==n&&c!==e?(b=new va(S),b.add(c),b.add(e)):c=e}else if(e.na===this&&(a===n||e.ri===a))e=e.ja,b!==n?b.add(e):c!==n&&c!==e?(b=new va(S),b.add(c),b.add(e)):c=e}return b!==n?b.f:c!==n?new Pa(c):v.Pf};
S.prototype.findNodesOutOf=S.prototype.Kn=function(a){a===f&&(a=n);for(var b=n,c=n,d=this.Bd.f;d.next();){var e=d.value;if(e.ja===this&&(a===n||e.qh===a))e=e.na,b!==n?b.add(e):c!==n&&c!==e?(b=new va(S),b.add(c),b.add(e)):c=e}return b!==n?b.f:c!==n?new Pa(c):v.Pf};
S.prototype.findNodesInto=S.prototype.Jn=function(a){a===f&&(a=n);for(var b=n,c=n,d=this.Bd.f;d.next();){var e=d.value;if(e.na===this&&(a===n||e.ri===a))e=e.ja,b!==n?b.add(e):c!==n&&c!==e?(b=new va(S),b.add(c),b.add(e)):c=e}return b!==n?b.f:c!==n?new Pa(c):v.Pf};v.a(S,"linkConnected",S.prototype.JC);v.defineProperty(S,{JC:"linkConnected"},s("Tp"),function(a){var b=this.Tp;b!==a&&(a!==n&&v.e(a,"function",S,"linkConnected"),this.Tp=a,this.d("linkConnected",b,a))});v.a(S,"linkDisconnected",S.prototype.KC);
v.defineProperty(S,{KC:"linkDisconnected"},s("Vp"),function(a){var b=this.Vp;b!==a&&(a!==n&&v.e(a,"function",S,"linkDisconnected"),this.Vp=a,this.d("linkDisconnected",b,a))});function Kl(a,b,c){if(!a.Bd.contains(b)){a.Bd.add(b);var d=a.JC;if(d!==n){var e=h,g=a.b;g!==n&&(e=g.Ca,g.Ca=h);d(a,b,c);g!==n&&(g.Ca=e)}a.hj&&(c=h,g=a.b,g!==n&&(c=g.Df),c?b.ja===a&&(a.hj=p):b.na===a&&(a.hj=p))}}
function Ll(a,b,c){if(a.Bd.remove(b)){var d=a.KC,e=a.b;if(d!==n){var g=h;e!==n&&(g=e.Ca,e.Ca=h);d(a,b,c);e!==n&&(e.Ca=g)}!a.hj&&!(e!==n&&e.ia.hb)&&(b=a.Bd.count,0===b?a.hj=h:1===b&&Ji(a))}}function Ji(a){if(0!==a.Bd.count){var b=h,c=a.b;c!==n&&(b=c.Df);for(c=a.Bd.f;c.next();){var d=c.value;if(b){if(d.ja===a){a.hj=p;return}}else if(d.na===a){a.hj=p;return}}a.hj=h}}S.prototype.Tr=function(){R.prototype.Tr.call(this);Ji(this);var a=this.Km;a!==n&&Ml(a,this)};
S.prototype.Ur=function(){R.prototype.Ur.call(this);var a=this.Km;a!==n&&a.kf!==n&&(a.kf.remove(this),a.L())};S.prototype.Gl=function(){if(0<this.Bd.count){var a=this.b;if(a===n)return;for(var b=this.Bd.copy().f;b.next();)a.remove(b.value)}R.prototype.Gl.call(this)};v.m(S,{fj:"isLinkLabel"},function(){return this.Km!==n});v.a(S,"labeledLink",S.prototype.pe);
v.defineProperty(S,{pe:"labeledLink"},s("Km"),function(a){var b=this.Km;if(b!==a){t&&a!==n&&v.c(a,V,S,"labeledLink");var c=this.b,d=this.data;if(b!==n&&(b.kf!==n&&(b.kf.remove(this),b.L()),c!==n&&d!==n)){var e=b.data,g=c.S;if(e!==n&&g instanceof P){var i=g.hc(d);i!==f&&g.QG(e,i)}}this.Km=a;a!==n&&(Ml(a,this),c!==n&&d!==n&&(e=a.data,g=c.S,e!==n&&g instanceof P&&(i=g.hc(d),i!==f&&g.gB(e,i))));uj(this);this.d("labeledLink",b,a)}});
S.prototype.findPort=S.prototype.Jr=function(a){t&&v.e(a,"string",S,"findPort:pid");this.xc===n&&Mj(this);if(this.xc!==n){var b=this.xc.ga(a);if(b!==n)return b}if(""!==a&&this.xc!==n&&(b=this.xc.ga(""),b!==n))return b;this.xc===n&&Mj(this);return this};v.m(S,{port:"port"},function(){return this.Jr("")});v.m(S,{ports:"ports"},function(){this.xc===n&&Mj(this);return this.xc!==n?this.xc.f:v.Pf});function Mj(a){a.xc!==n&&a.xc.clear();Jk(a,a,function(a,c){Nj(a,c)})}
function Nj(a,b){var c=b.te;c!==n&&(a.xc===n&&(a.xc=new ra("string",Q)),a.xc.add(c,b))}function Lj(a,b,c){var d=b.te;if(d!==n&&(a.xc!==n&&a.xc.remove(d),b=a.b,b!==n&&c)){c=n;for(a=a.RF(d);a.next();)c===n&&(c=[]),c.push(a.value);if(c!==n)for(a=0;a<c.length;a++)b.remove(c[a])}}
S.prototype.isInTreeOf=S.prototype.IJ=function(a){if(a===n||a===this)return p;var b=h,c=this.b;c!==n&&(b=c.Df);if(b)a:{for(b=this;b!==a;){for(var c=n,d=b.Ue();d.next()&&!(c=d.value.ja,c!==b););if(c===n){a=p;break a}b=c}a=h}else a:{for(b=this;b!==a;){c=n;for(d=b.Hr();d.next()&&!(c=d.value.na,c!==b););if(c===n){a=p;break a}b=c}a=h}return a};S.prototype.findTreeParts=S.prototype.dJ=function(){var a=new va(R);rf(a,this,p,h);return a};
S.prototype.collapseTree=S.prototype.zr=function(){var a=this.b;if(a!==n&&!a.Cf){a.Cf=h;var b=a.Df,c=new va(S);c.add(this);Nl(this,c,b);a.Cf=p}};function Nl(a,b,c){a.$d=p;for(var d=c?a.Hr():a.Ue();d.next();){var e=d.value,g=e.mC(a);g!==n&&(g!==a&&!b.contains(g))&&(b.add(g),oj(e),e.jh(),oj(g),g.jh(),mj(g),g.v(Gj),g.$d&&(g.Av=g.$d,Nl(g,b,c)))}}S.prototype.expandTree=S.prototype.Gr=function(){var a=this.b;if(a!==n&&!a.Cf){a.Cf=h;var b=a.Df,c=new va(S);c.add(this);Ol(this,c,b);a.Cf=p}};
function Ol(a,b,c){a.$d=h;for(var d=c?a.Hr():a.Ue();d.next();){var e=d.value,g=e.mC(a);g!==n&&(g!==a&&!b.contains(g))&&(b.add(g),oj(e),e.ti(),oj(g),g.ti(),mj(g),g.v(yj),g.Av&&(g.Av=p,Ol(g,b,c)))}}v.a(S,"isTreeExpanded",S.prototype.$d);
v.defineProperty(S,{$d:"isTreeExpanded"},s("Kp"),function(a){var b=this.Kp;if(b!==a){t&&v.e(a,"boolean",S,"isTreeExpanded");this.Kp=a;var c=this.b;c!==n&&Ch(c);this.d("isTreeExpanded",b,a);b=this.YD;if(b!==n){var d=h;c!==n&&(d=c.Ca,c.Ca=h);b(this);c!==n&&(c.Ca=d)}c!==n&&c.ia.hb||(a?this.Gr():this.zr())}});v.a(S,"wasTreeExpanded",S.prototype.Av);
v.defineProperty(S,{Av:"wasTreeExpanded"},s("nr"),function(a){var b=this.nr;b!==a&&(t&&v.e(a,"boolean",S,"wasTreeExpanded"),this.nr=a,this.d("wasTreeExpanded",b,a))});v.a(S,"treeExpandedChanged",S.prototype.YD);v.defineProperty(S,{YD:"treeExpandedChanged"},s("ir"),function(a){var b=this.ir;b!==a&&(a!==n&&v.e(a,"function",S,"treeExpandedChanged"),this.ir=a,this.d("treeExpandedChanged",b,a))});v.a(S,"isTreeLeaf",S.prototype.hj);
v.defineProperty(S,{hj:"isTreeLeaf"},s("Lp"),function(a){var b=this.Lp;b!==a&&(t&&v.e(a,"boolean",S,"isTreeLeaf"),this.Lp=a,this.d("isTreeLeaf",b,a))});
function V(){R.call(this,Dg);this.Jg=n;this.Kg="";this.tp=n;this.Mg=cc;this.Ig=NaN;this.Hg=Gl;this.Lg=NaN;this.bh=n;this.dh="";this.hr=n;this.fh=cc;this.ah=NaN;this.$g=Gl;this.eh=NaN;this.yq=this.xq=p;this.Go=bj;this.To=0;this.Vo=bj;this.Wo=NaN;this.Ni=ak;this.Vq=0.5;this.mc=this.kf=n;this.wc=(new z(D)).freeze();this.kg=n;this.ul=p;this.kx=n;this.fn=p;this.Tk=this.Gh=this.Ba=n;this.ce=0;this.Ah=new z(E);this.nu=new D;this.nw=p}v.J("Link",V);v.va(V,R);
V.prototype.qb=function(a){R.prototype.qb.call(this,a);a.Kg=this.Kg;a.tp=this.tp;a.Mg=this.Mg.F();a.Ig=this.Ig;a.Hg=this.Hg;a.Lg=this.Lg;a.dh=this.dh;a.hr=this.hr;a.fh=this.fh.F();a.ah=this.ah;a.$g=this.$g;a.eh=this.eh;a.xq=this.xq;a.yq=this.yq;a.Go=this.Go;a.To=this.To;a.Vo=this.Vo;a.Wo=this.Wo;a.Ni=this.Ni;a.Vq=this.Vq};V.prototype.lh=function(a){R.prototype.lh.call(this,a);this.Kg=a.Kg;this.dh=a.dh;a.mc=n;a.kg=n;a.Xb();a.Tk=this.Tk;a.ce=this.ce};var ak;V.Normal=ak=v.l(V,"Normal",1);var Bh;
V.Orthogonal=Bh=v.l(V,"Orthogonal",2);var Xf;V.AvoidsNodes=Xf=v.l(V,"AvoidsNodes",3);var bj;V.None=bj=v.l(V,"None",0);var Vj;V.Bezier=Vj=v.l(V,"Bezier",9);var Wj;V.JumpGap=Wj=v.l(V,"JumpGap",10);var Xj;V.JumpOver=Xj=v.l(V,"JumpOver",11);var Yj;V.End=Yj=v.l(V,"End",17);var Zj;V.Scale=Zj=v.l(V,"Scale",18);var $j;V.Stretch=$j=v.l(V,"Stretch",19);var Vk;V.OrientAlong=Vk=v.l(V,"OrientAlong",21);var Pl;V.OrientPlus90=Pl=v.l(V,"OrientPlus90",22);var Ql;V.OrientMinus90=Ql=v.l(V,"OrientMinus90",23);var Rl;
V.OrientOpposite=Rl=v.l(V,"OrientOpposite",24);var Sl;V.OrientUpright=Sl=v.l(V,"OrientUpright",25);var Tl;V.OrientPlus90Upright=Tl=v.l(V,"OrientPlus90Upright",26);var Ul;V.OrientMinus90Upright=Ul=v.l(V,"OrientMinus90Upright",27);var Vl;V.OrientUpright45=Vl=v.l(V,"OrientUpright45",28);V.prototype.zk=function(){var a=this.ja;if(a!==n&&(a.Kc||a.Ci))return p;a=this.na;return a!==n&&(a.Kc||a.Ci)?p:h};V.prototype.Zd=ca(p);
function Ik(a,b){var c;switch(a){default:case bj:c=0;break;case Vk:c=b;break;case Pl:c=b+90;break;case Ql:c=b-90;break;case Rl:c=b+180;break;case Sl:c=vd(b);90<c&&270>c&&(c-=180);break;case Tl:c=vd(b+90);90<c&&270>c&&(c-=180);break;case Ul:c=vd(b-90);90<c&&270>c&&(c-=180);break;case Vl:c=vd(b);if(45<c&&135>c||225<c&&315>c)return 0;90<c&&270>c&&(c-=180)}return vd(c)}v.a(V,"fromNode",V.prototype.ja);
v.defineProperty(V,{ja:"fromNode"},s("Jg"),function(a){var b=this.Jg;if(b!==a){t&&a!==n&&v.c(a,S,V,"fromNode");var c=this.Oc;b!==n&&(this.bh!==b&&Ll(b,this,c),c!==n&&(c.sd=n),Wl(this),b.v(Di));this.Jg=a;this.Gh=n;this.Xb();var d=this.b;if(d!==n){var e=this.data,g=d.S;e!==n&&g instanceof P&&g.rv(e,g.hc(a!==n?a.data:n))}e=this.Oc;g=this.uy;if(g!==n){var i=h;d!==n&&(i=d.Ca,d.Ca=h);g(this,c,e);d!==n&&(d.Ca=i)}a!==n&&(this.bh!==a&&Kl(a,this,e),e!==n&&(e.sd=n),Xl(this),a.v(yi));this.d("fromNode",b,a);Fi(this)}});
v.a(V,"fromPortId",V.prototype.qh);v.defineProperty(V,{qh:"fromPortId"},s("Kg"),function(a){var b=this.Kg;if(b!==a){t&&v.e(a,"string",V,"fromPortId");var c=this.Oc;c!==n&&(c.sd=n);Wl(this);this.Kg=a;var d=this.Oc;d!==n&&(d.sd=n);var e=this.b;if(e!==n){var g=this.data,i=e.S;g!==n&&i instanceof P&&i.os(g,a)}c!==d&&(this.Gh=n,this.Xb(),g=this.uy,g!==n&&(i=h,e!==n&&(i=e.Ca,e.Ca=h),g(this,c,d),e!==n&&(e.Ca=i)));Xl(this);this.d("fromPortId",b,a)}});
v.m(V,{Oc:"fromPort"},function(){var a=this.Jg;return a===n?n:a.Jr(this.Kg)});v.a(V,"fromPortChanged",V.prototype.uy);v.defineProperty(V,{uy:"fromPortChanged"},s("tp"),function(a){var b=this.tp;b!==a&&(a!==n&&v.e(a,"function",V,"fromPortChanged"),this.tp=a,this.d("fromPortChanged",b,a))});v.a(V,"toNode",V.prototype.na);
v.defineProperty(V,{na:"toNode"},s("bh"),function(a){var b=this.bh;if(b!==a){t&&a!==n&&v.c(a,S,V,"toNode");var c=this.yd;b!==n&&(this.Jg!==b&&Ll(b,this,c),c!==n&&(c.sd=n),Wl(this),b.v(Di));this.bh=a;this.Gh=n;this.Xb();var d=this.b;if(d!==n){var e=this.data,g=d.S;e!==n&&g instanceof P&&g.sv(e,g.hc(a!==n?a.data:n))}e=this.yd;g=this.sz;if(g!==n){var i=h;d!==n&&(i=d.Ca,d.Ca=h);g(this,c,e);d!==n&&(d.Ca=i)}a!==n&&(this.Jg!==a&&Kl(a,this,e),e!==n&&(e.sd=n),Xl(this),a.v(yi));this.d("toNode",b,a);Fi(this)}});
v.a(V,"toPortId",V.prototype.ri);v.defineProperty(V,{ri:"toPortId"},s("dh"),function(a){var b=this.dh;if(b!==a){t&&v.e(a,"string",V,"toPortId");var c=this.yd;c!==n&&(c.sd=n);Wl(this);this.dh=a;var d=this.yd;d!==n&&(d.sd=n);var e=this.b;if(e!==n){var g=this.data,i=e.S;g!==n&&i instanceof P&&i.ps(g,a)}c!==d&&(this.Gh=n,this.Xb(),g=this.sz,g!==n&&(i=h,e!==n&&(i=e.Ca,e.Ca=h),g(this,c,d),e!==n&&(e.Ca=i)));Xl(this);this.d("toPortId",b,a)}});v.m(V,{yd:"toPort"},function(){var a=this.bh;return a===n?n:a.Jr(this.dh)});
v.a(V,"toPortChanged",V.prototype.sz);v.defineProperty(V,{sz:"toPortChanged"},s("hr"),function(a){var b=this.hr;b!==a&&(a!==n&&v.e(a,"function",V,"toPortChanged"),this.hr=a,this.d("toPortChanged",b,a))});v.a(V,"fromSpot",V.prototype.bb);v.defineProperty(V,{bb:"fromSpot"},s("Mg"),function(a){var b=this.Mg;b.z(a)||(t&&v.c(a,G,V,"fromSpot"),this.Mg=a=a.F(),this.d("fromSpot",b,a),this.Xb())});v.a(V,"fromEndSegmentLength",V.prototype.xk);
v.defineProperty(V,{xk:"fromEndSegmentLength"},s("Ig"),function(a){var b=this.Ig;b!==a&&(t&&v.e(a,"number",V,"fromEndSegmentLength"),0>a&&v.ha(a,">= 0",V,"fromEndSegmentLength"),this.Ig=a,this.d("fromEndSegmentLength",b,a),this.Xb())});v.a(V,"fromEndSegmentDirection",V.prototype.Mr);v.defineProperty(V,{Mr:"fromEndSegmentDirection"},s("Hg"),function(a){var b=this.Hg;b!==a&&(t&&v.Za(a,S,V,"fromEndSegmentDirection"),this.Hg=a,this.d("fromEndSegmentDirection",b,a),this.Xb())});
v.a(V,"fromShortLength",V.prototype.Nr);v.defineProperty(V,{Nr:"fromShortLength"},s("Lg"),function(a){var b=this.Lg;b!==a&&(t&&v.e(a,"number",V,"fromShortLength"),this.Lg=a,this.d("fromShortLength",b,a),this.Xb())});v.a(V,"toSpot",V.prototype.eb);v.defineProperty(V,{eb:"toSpot"},s("fh"),function(a){var b=this.fh;b.z(a)||(t&&v.c(a,G,V,"toSpot"),this.fh=a=a.F(),this.d("toSpot",b,a),this.Xb())});v.a(V,"toEndSegmentLength",V.prototype.Ik);
v.defineProperty(V,{Ik:"toEndSegmentLength"},s("ah"),function(a){var b=this.ah;b!==a&&(t&&v.e(a,"number",V,"toEndSegmentLength"),0>a&&v.ha(a,">= 0",V,"toEndSegmentLength"),this.ah=a,this.d("toEndSegmentLength",b,a),this.Xb())});v.a(V,"toEndSegmentDirection",V.prototype.us);v.defineProperty(V,{us:"toEndSegmentDirection"},s("$g"),function(a){var b=this.$g;b!==a&&(t&&v.Za(a,S,V,"toEndSegmentDirection"),this.$g=a,this.d("toEndSegmentDirection",b,a),this.Xb())});v.a(V,"toShortLength",V.prototype.vs);
v.defineProperty(V,{vs:"toShortLength"},s("eh"),function(a){var b=this.eh;b!==a&&(t&&v.e(a,"number",V,"toShortLength"),this.eh=a,this.d("toShortLength",b,a),this.Xb())});function Fi(a){var b=a.ja,c=a.na;b!==n&&c!==n?Cl(a,b.QF(c)):Cl(a,n)}V.prototype.getOtherNode=V.prototype.mC=function(a){t&&v.c(a,S,V,"getOtherNode:node");var b=this.ja;return a===b?this.na:b};V.prototype.getOtherPort=V.prototype.lJ=function(a){t&&v.c(a,Q,V,"getOtherPort:port");var b=this.Oc;return a===b?this.yd:b};
v.m(V,{oi:"labelNodes"},function(){return this.kf===n?v.Pf:this.kf.f});function Ml(a,b){a.kf===n&&(a.kf=new va(S));a.kf.add(b);a.L()}V.prototype.Tr=function(){R.prototype.Tr.call(this);Yl(this)&&Eg(this,this.pa);var a=this.Jg,b=this.bh;if(a!==n){var c=this.Oc;c!==n&&(c.sd=n);Kl(a,this,c);Xl(this)}b!==n&&(c=this.yd,c!==n&&(c.sd=n),Kl(b,this,c),Xl(this))};
V.prototype.Ur=function(){R.prototype.Ur.call(this);Yl(this)&&Eg(this,this.pa);var a=this.Jg,b=this.bh;if(a!==n){var c=this.Oc;c!==n&&(c.sd=n);Ll(a,this,c);Wl(this)}b!==n&&(c=this.yd,c!==n&&(c.sd=n),Ll(b,this,c),Wl(this))};V.prototype.Gl=function(){if(this.kf!==n){var a=this.b;if(a===n)return;for(var b=this.kf.copy().f;b.next();)a.remove(b.value)}b=this.data;b!==n&&(a=this.b,a!==n&&(a=a.S,a instanceof P&&a.RG(b)))};
V.prototype.move=V.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;R.prototype.move.call(this,a);this.Bk(c,b);for(a=this.oi;a.next();){var d=a.value,e=d.position;d.move(new D(e.x+c,e.y+b))}};v.a(V,"relinkableFrom",V.prototype.iD);v.defineProperty(V,{iD:"relinkableFrom"},s("xq"),function(a){var b=this.xq;b!==a&&(t&&v.e(a,"boolean",V,"relinkableFrom"),this.xq=a,this.d("relinkableFrom",b,a))});v.a(V,"relinkableTo",V.prototype.jD);
v.defineProperty(V,{jD:"relinkableTo"},s("yq"),function(a){var b=this.yq;b!==a&&(t&&v.e(a,"boolean",V,"relinkableTo"),this.yq=a,this.d("relinkableTo",b,a))});V.prototype.canRelinkFrom=V.prototype.YH=function(){if(!this.iD)return p;var a=this.za;if(a!==n&&!a.Ri)return p;a=a.b;return a!==n&&!a.Ri?p:h};V.prototype.canRelinkTo=V.prototype.ZH=function(){if(!this.jD)return p;var a=this.za;if(a!==n&&!a.Ri)return p;a=a.b;return a!==n&&!a.Ri?p:h};
v.m(V,{path:"path"},function(){var a=this.mc;if(a!==n)return a;a=this.oa;a=Bk(this,a,a.length);return a instanceof W?this.mc=a:n});V.prototype.vp=s("path");V.prototype.Fw=s("wc");V.prototype.Nj=function(){Zl(this);var a=this.Qe();return this.kx=a};
V.prototype.Qe=function(){var a=Infinity,b=Infinity,c=this.da,d;if(0===c)return new E(NaN,NaN,0,0);if(1===c)c=this.h(0),a=Math.min(c.x,a),b=Math.min(c.y,b),d=new E(c.x,c.y,0,0);else if(2===c){d=this.h(0);var e=this.h(1),a=Math.min(d.x,e.x),b=Math.min(d.y,e.y);d=new E(d,e)}else if($l(this)===Vj&&3<=c&&!Qg(this))if(e=this.h(0),a=e.x,b=e.y,d=new E(a,b,0,0),3===c){var c=this.h(1),a=Math.min(c.x,a),b=Math.min(c.y,b),g=this.h(2),a=Math.min(g.x,a),b=Math.min(g.y,b);Zc(e.x,e.y,c.x,c.y,c.x,c.y,g.x,g.y,0.5,
d)}else for(var i,j,k=3;k<c;k+=3)i=this.h(k-2),k+3>=c&&(k=c-1),j=this.h(k-1),g=this.h(k),Zc(e.x,e.y,i.x,i.y,j.x,j.y,g.x,g.y,0.5,d),a=Math.min(g.x,a),b=Math.min(g.y,b),e=g;else{d=this.h(0);e=this.h(1);a=Math.min(d.x,e.x);b=Math.min(d.y,e.y);d=new E(d,e);for(k=2;k<c;k++)e=this.h(k),a=Math.min(e.x,a),b=Math.min(e.y,b),d.xv(e)}this.nu.Ed(a-d.x,b-d.y);return d};v.m(V,{UC:"midPoint"},function(){Zl(this);return am(this)});
function am(a){var b=a.da;if(0===b)return Tc;if(1===b)return a.h(0);if(2===b){var c=a.h(0),d=a.h(1);return new D((c.x+d.x)/2,(c.y+d.y)/2)}if($l(a)===Vj&&3<=b&&!Qg(a)){if(3===b)return a.h(1);var c=(b-1)/3|0,e=3*(c/2|0);if(1===c%2){var c=a.h(e),d=a.h(e+1),g=a.h(e+2),a=a.h(e+3),e=new D,b=d.x,i=d.y,d=g.x,j=g.y,g=(b+d)/2,k=(i+j)/2,i=((c.y+i)/2+k)/2,j=(k+(j+a.y)/2)/2;e.x=(((c.x+b)/2+g)/2+(g+(d+a.x)/2)/2)/2;e.y=(i+j)/2;return e}return a.h(e)}e=0;g=[];for(i=0;i<b-1;i++)c=a.h(i),d=a.h(i+1),jb(c.x,d.x)?(c=
d.y-c.y,0>c&&(c=-c)):jb(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.Yi(d)),g.push(c),e+=c;for(d=i=c=0;c<e/2&&i<b;){d=g[i];if(c+d>e/2)break;c+=d;i++}b=a.h(i);a=a.h(i+1);if(b.x===a.x)return b.y>a.y?new D(b.x,b.y-(e/2-c)):new D(b.x,b.y+(e/2-c));if(b.y===a.y)return b.x>a.x?new D(b.x-(e/2-c),b.y):new D(b.x+(e/2-c),b.y);c=(e/2-c)/d;return new D(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))}v.m(V,{TC:"midAngle"},function(){Zl(this);return bm(this)});
function bm(a){var b=a.da;if(2>b)return NaN;if($l(a)===Vj&&4<=b&&!Qg(a)){var c=(b-1)/3|0,d=3*(c/2|0);if(1===c%2){var d=Math.floor(d),b=a.h(d),e=a.h(d+1),c=a.h(d+2),a=a.h(d+3),d=e.x,e=e.y,g=c.x,c=c.y,i=(d+g)/2,j=(e+c)/2;return wb(((b.x+d)/2+i)/2,((b.y+e)/2+j)/2,(i+(g+a.x)/2)/2,(j+(c+a.y)/2)/2)}if(0<d&&d+1<b)return b=a.h(d-1),e=a.h(d+1),b.fi(e)}c=b/2|0;if(0===b%2)return b=a.h(c-1),e=a.h(c),b.fi(e);b=a.h(c-1);e=a.h(c);c=a.h(c+1);a=b.Yi(e);d=e.Yi(c);return a>d?b.fi(e):e.fi(c)}v.a(V,"points",V.prototype.sb);
v.defineProperty(V,{sb:"points"},s("wc"),function(a){t&&v.c(a,z,V,"points");var b=this.wc;if(b!==a&&a!==n){for(var c=a.f;c.next();){var d=c.value;d.freeze()}a.freeze();this.wc=a.copy();this.Bf();cm(this);for(var c=a.count,e=new z,g=0;g<c;g++)d=a.i[g],e.add(d.copy());this.d("points",b,e)}});v.m(V,{da:"pointsCount"},function(){return this.wc.count});V.prototype.getPoint=V.prototype.h=function(a){return this.wc.i[a]};
V.prototype.setPoint=V.prototype.A=function(a,b){t&&(v.c(b,D,V,"setPoint"),b.ca()||v.g("Link.setPoint called with a Point that does not have real numbers: "+b.toString()));this.kg===n&&v.g("Call Link.startRoute before modifying the points of the route.");this.wc.qv(a,b)};
V.prototype.insertPoint=V.prototype.q=function(a,b){t&&(v.c(b,D,V,"insertPoint"),b.ca()||v.g("Link.insertPoint called with a Point that does not have real numbers: "+b.toString()));this.kg===n&&v.g("Call Link.startRoute before modifying the points of the route.");this.wc.rc(a,b)};
V.prototype.addPoint=V.prototype.jd=function(a){t&&(v.c(a,D,V,"addPoint"),a.ca()||v.g("Link.addPoint called with a Point that does not have real numbers: "+a.toString()));this.kg===n&&v.g("Call Link.startRoute before modifying the points of the route.");this.wc.add(a)};V.prototype.removePoint=V.prototype.nD=function(a){this.kg===n&&v.g("Call Link.startRoute before modifying the points of the route.");this.wc.ue(a)};
V.prototype.clearPoints=V.prototype.Bn=function(){this.kg===n&&v.g("Call Link.startRoute before modifying the points of the route.");this.wc.clear()};V.prototype.movePoints=V.prototype.Bk=function(a,b){for(var c=new z(D),d=this.wc.f;d.next();){var e=d.value;c.add(new D(e.x+a,e.y+b))}this.sb=c};V.prototype.startRoute=V.prototype.Hk=function(){if(this.kg===n){for(var a=new z(D),b=this.wc.f;b.next();)a.add(b.value.F());this.kg=a;this.wc.wa()}};
V.prototype.commitRoute=V.prototype.di=function(){if(this.kg!==n){for(var a=this.kg,b=Infinity,c=Infinity,d=a.count,e=0;e<d;e++)var g=a.i[e],b=Math.min(g.x,b),c=Math.min(g.y,c);for(var i=Infinity,j=Infinity,k=this.wc,l=k.count,e=0;e<l;e++)g=k.i[e],i=Math.min(g.x,i),j=Math.min(g.y,j);if(l===d)for(e=0;e<l;e++)if(g=a.i[e],d=k.i[e],g.x-b!==d.x-i||g.y-c!==d.y-j){this.Bf();break}this.kg=n;this.wc.freeze();cm(this);b=new z(D);for(e=0;e<l;e++)g=k.i[e],b.add(g.copy());this.d("points",a,b)}};
V.prototype.rollbackRoute=V.prototype.VG=function(){this.kg=n};function cm(a){0===a.wc.count?a.ul=p:(a.ul=h,dm(a,p))}V.prototype.invalidateRoute=V.prototype.Xb=function(){if(!this.fn&&(!this.b||!this.b.ia.hb)&&this.ib()){this.ul=p;this.Bf();var a=this.vp();a!==n&&a.L()}};function Zl(a){if(!a.ul&&!a.nw){var b=h;try{a.nw=h,a.Hk(),b=a.computePoints()}finally{a.nw=p,b?a.di():a.VG()}}}
V.prototype.computePoints=V.prototype.rI=function(){var a=this.ja,b=n,b=a===n?n:this.Oc;if(b!==n){var c=Oj(b);c===a||!a.ib()?(c=xl(a),c!==n&&c!==a?(a=c,b=c.Jr("")):a=c):b=c}if(a===n||b===n||!a.location.ca())return p;var d=this.na,e=n,e=d===n?n:this.yd;e!==n&&(c=Oj(e),c===d||!d.ib()?(c=xl(d),c!==n&&c!==d?(d=c,e=c.Jr("")):d=c):e=c);if(d===n||e===n||!d.location.ca())return p;var g=this.da,i=em(this,b),c=fm(this,e),j=b===e,k=Qg(this),l=this.Re===Vj;this.Gh=j&&!k?l=h:p;var m=this.wu===bj||j;if(!k&&i===
bc&&c===bc&&!j){if(c=p,!m&&3<=g&&(c=this.getLinkPoint(a,b,bc,h,p,d,e),j=this.getLinkPoint(d,e,bc,p,p,a,b),c=gm(this,0,c,g-1,j)),!c)if(this.Bn(),l){var c=a,j=b,k=d,l=e,d=this.getLinkPoint(c,j,bc,h,p,k,l),a=this.getLinkPoint(k,l,bc,p,p,c,j),e=a.x-d.x,b=a.y-d.y,g=this.computeCurviness(),q=m=0,i=d.x+e/3,r=d.y+b/3,u=i,x=r;kb(b,0)?x=0<e?x-g:x+g:(m=-e/b,q=Math.sqrt(g*g/(m*m+1)),0>g&&(q=-q),u=(0>b?-1:1)*q+i,x=m*(u-i)+r);var i=d.x+2*e/3,r=d.y+2*b/3,y=i,C=r;kb(b,0)?C=0<e?C-g:C+g:(y=(0>b?-1:1)*q+i,C=m*(y-i)+
r);this.Bn();this.jd(d);this.jd(new D(u,x));this.jd(new D(y,C));this.jd(a);this.A(0,this.getLinkPoint(c,j,bc,h,p,k,l));this.A(3,this.getLinkPoint(k,l,bc,p,p,c,j))}else j=a,k=b,l=d,d=e,c=this.getLinkPoint(j,k,bc,h,p,l,d),j=this.getLinkPoint(l,d,bc,p,p,j,k),this.hasCurviness()?(b=j.x-c.x,k=j.y-c.y,l=this.computeCurviness(),d=c.x+b/2,a=c.y+k/2,e=d,g=a,kb(k,0)?g=0<b?g-l:g+l:(b=-b/k,e=Math.sqrt(l*l/(b*b+1)),0>l&&(e=-e),e=(0>k?-1:1)*e+d,g=b*(e-d)+a),this.jd(c),this.jd(new D(e,g))):this.jd(c),this.jd(j)}else{u=
this.cf===Xf;m&&(k&&u||j)&&this.Bn();var F=this.computeCurviness(),x=this.getLinkPoint(a,b,i,h,k,d,e),r=C=y=0;if(k||i!==bc||j)l=this.getEndSegmentLength(a,b,i,h),r=this.getLinkDirection(a,b,x,i,h,k,d,e),j&&(r-=k?90:30,0>F&&(r-=180)),0>r?r+=360:360<=r&&(r-=360),j&&(l+=Math.abs(F)),0===r?y=l:90===r?C=l:180===r?y=-l:270===r?C=-l:(y=l*Math.cos(r*Math.PI/180),C=l*Math.sin(r*Math.PI/180)),Yb(i)&&j&&(l=b.Fb(jc),x=this.getLinkPointFromPoint(a,b,l,new D(l.x+1E3*y,l.y+1E3*C),h));var l=this.getLinkPoint(d,e,
c,p,k,a,b),H=0,I=0,q=0;if(k||c!==bc||j){var M=this.getEndSegmentLength(d,e,c,p),q=this.getLinkDirection(d,e,l,c,p,k,a,b);j&&(q+=k?0:30,0>F&&(q+=180));0>q?q+=360:360<=q&&(q-=360);j&&(M+=Math.abs(F));0===q?H=M:90===q?I=M:180===q?H=-M:270===q?I=-M:(H=M*Math.cos(q*Math.PI/180),I=M*Math.sin(q*Math.PI/180));Yb(c)&&j&&(l=e.Fb(jc),l=this.getLinkPointFromPoint(d,e,l,new D(l.x+1E3*H,l.y+1E3*I),p))}b=x;if(k||i!==bc||j)b=new D(x.x+y,x.y+C);e=l;if(k||c!==bc||j)e=new D(l.x+H,l.y+I);if(m||k||!Yb(i)||!(3<g&&gm(this,
0,x,g-2,e)))if(!m&&!k&&Yb(c)&&3<g&&gm(this,1,b,g-1,l))this.A(0,x);else if(!m&&!k&&4<g&&gm(this,1,b,g-2,e))this.A(0,x),this.A(g-1,l);else if(!m&&k&&6<=g&&!u&&gm(this,1,b,g-2,e))this.A(0,x),this.A(g-1,l);else{this.Bn();this.jd(x);(k||i!==bc||j)&&this.jd(b);if(k)a:if(m=r,g=e,i=a,r=d,m=-45<=m&&45>m?0:45<=m&&135>m?90:135<=m&&225>m?180:270,q=-45<=q&&45>q?0:45<=q&&135>q?90:135<=q&&225>q?180:270,d=i.pa.copy(),a=r.pa.copy(),d.ca()&&a.ca()){d.zf(8,8);a.zf(8,8);d.xv(b);a.xv(g);u=this.b;if(this.cf===Xf&&(u!==
n&&!d.ka(g)&&!a.ka(b)&&i!==r&&!this.za.Zc)&&(i=la(u,h,this),r=d.copy().rj(a),r.zf(2*i.Al,2*i.zl),hm(i,b,m,g,q,r),u=im(i,g.x,g.y),!i.abort&&u===oa&&(Oi(i),u=i.HD,r.zf(i.Al*u,i.zl*u),hm(i,b,m,g,q,r),u=im(i,g.x,g.y)),!i.abort&&u===oa&&(Oi(i),u=i.GC,r.zf(i.Al*u,i.zl*u),hm(i,b,m,g,q,r),u=im(i,g.x,g.y)),!i.abort&&(u===oa&&i.dE)&&(Oi(i),hm(i,b,m,g,q,i.rb),u=im(i,g.x,g.y)),!i.abort&&u<oa&&im(i,g.x,g.y)!==na)){jm(this,i,g.x,g.y,q,h);a=this.h(2);if(4>this.da)0===m||180===m?(a.x=b.x,a.y=g.y):(a.x=g.x,a.y=b.y),
this.A(2,a),this.q(3,a);else if(d=this.h(3),0===m||180===m)kb(a.x,d.x)?(a=0===m?Math.max(a.x,b.x):Math.min(a.x,b.x),this.A(2,new D(a,b.y)),this.A(3,new D(a,d.y))):kb(a.y,d.y)?(Math.abs(b.y-a.y)<=i.zl/2&&(this.A(2,new D(a.x,b.y)),this.A(3,new D(d.x,b.y))),this.q(2,new D(a.x,b.y))):this.A(2,new D(b.x,a.y));else if(90===m||270===m)kb(a.y,d.y)?(a=90===m?Math.max(a.y,b.y):Math.min(a.y,b.y),this.A(2,new D(b.x,a)),this.A(3,new D(d.x,a))):kb(a.x,d.x)?(Math.abs(b.x-a.x)<=i.Al/2&&(this.A(2,new D(b.x,a.y)),
this.A(3,new D(b.x,d.y))),this.q(2,new D(b.x,a.y))):this.A(2,new D(a.x,b.y));break a}if(0===m)if(g.x>b.x||270===q&&g.y<b.y&&a.right>b.x||90===q&&g.y>b.y&&a.right>b.x)m=new D(g.x,b.y),i=new D(g.x,(b.y+g.y)/2),180===q?(m.x=km(this,b.x,g.x),i.x=m.x,i.y=g.y):270===q&&g.y<b.y||90===q&&g.y>b.y?(m.x=b.x<a.left?km(this,b.x,a.left):b.x<a.right&&(270===q&&b.y<a.top||90===q&&b.y>a.bottom)?km(this,b.x,g.x):a.right,i.x=m.x,i.y=g.y):0===q&&(b.x<a.left&&b.y>a.top&&b.y<a.bottom)&&(m.x=b.x,m.y=b.y<g.y?Math.min(g.y,
a.top):Math.max(g.y,a.bottom),i.y=m.y);else{m=new D(b.x,g.y);i=new D((b.x+g.x)/2,g.y);if(180===q||90===q&&g.y<d.top||270===q&&g.y>d.bottom){if(180===q&&(a.ka(b)||d.ka(g)))m.y=km(this,b.y,g.y);else if(g.y<b.y&&(180===q||90===q))m.y=km(this,d.top,Math.max(g.y,a.bottom));else if(g.y>b.y&&(180===q||270===q))m.y=km(this,d.bottom,Math.min(g.y,a.top));i.x=g.x;i.y=m.y}if(m.y>d.top&&m.y<d.bottom)if(g.x>=d.left&&g.x<=b.x||b.x<=a.right&&b.x>=g.x){if(90===q||270===q)m=new D(Math.max((b.x+g.x)/2,b.x),b.y),i=new D(m.x,
g.y)}else m.y=270===q||(0===q||180===q)&&g.y<b.y?Math.min(g.y,0===q?d.top:Math.min(d.top,a.top)):Math.max(g.y,0===q?d.bottom:Math.max(d.bottom,a.bottom)),i.x=g.x,i.y=m.y}else if(180===m)if(g.x<b.x||270===q&&g.y<b.y&&a.left<b.x||90===q&&g.y>b.y&&a.left<b.x)m=new D(g.x,b.y),i=new D(g.x,(b.y+g.y)/2),0===q?(m.x=km(this,b.x,g.x),i.x=m.x,i.y=g.y):270===q&&g.y<b.y||90===q&&g.y>b.y?(m.x=b.x>a.right?km(this,b.x,a.right):b.x>a.left&&(270===q&&b.y<a.top||90===q&&b.y>a.bottom)?km(this,b.x,g.x):a.left,i.x=m.x,
i.y=g.y):180===q&&(b.x>a.right&&b.y>a.top&&b.y<a.bottom)&&(m.x=b.x,m.y=b.y<g.y?Math.min(g.y,a.top):Math.max(g.y,a.bottom),i.y=m.y);else{m=new D(b.x,g.y);i=new D((b.x+g.x)/2,g.y);if(0===q||90===q&&g.y<d.top||270===q&&g.y>d.bottom){if(0===q&&(a.ka(b)||d.ka(g)))m.y=km(this,b.y,g.y);else if(g.y<b.y&&(0===q||90===q))m.y=km(this,d.top,Math.max(g.y,a.bottom));else if(g.y>b.y&&(0===q||270===q))m.y=km(this,d.bottom,Math.min(g.y,a.top));i.x=g.x;i.y=m.y}if(m.y>d.top&&m.y<d.bottom)if(g.x<=d.right&&g.x>=b.x||
b.x>=a.left&&b.x<=g.x){if(90===q||270===q)m=new D(Math.min((b.x+g.x)/2,b.x),b.y),i=new D(m.x,g.y)}else m.y=270===q||(0===q||180===q)&&g.y<b.y?Math.min(g.y,180===q?d.top:Math.min(d.top,a.top)):Math.max(g.y,180===q?d.bottom:Math.max(d.bottom,a.bottom)),i.x=g.x,i.y=m.y}else if(90===m)if(g.y>b.y||180===q&&g.x<b.x&&a.bottom>b.y||0===q&&g.x>b.x&&a.bottom>b.y)m=new D(b.x,g.y),i=new D((b.x+g.x)/2,g.y),270===q?(m.y=km(this,b.y,g.y),i.x=g.x,i.y=m.y):180===q&&g.x<b.x||0===q&&g.x>b.x?(m.y=b.y<a.top?km(this,b.y,
a.top):b.y<a.bottom&&(180===q&&b.x<a.left||0===q&&b.x>a.right)?km(this,b.y,g.y):a.bottom,i.x=g.x,i.y=m.y):90===q&&(b.y<a.top&&b.x>a.left&&b.x<a.right)&&(m.x=b.x<g.x?Math.min(g.x,a.left):Math.max(g.x,a.right),m.y=b.y,i.x=m.x);else{m=new D(g.x,b.y);i=new D(g.x,(b.y+g.y)/2);if(270===q||0===q&&g.x<d.left||180===q&&g.x>d.right){if(270===q&&(a.ka(b)||d.ka(g)))m.x=km(this,b.x,g.x);else if(g.x<b.x&&(270===q||0===q))m.x=km(this,d.left,Math.max(g.x,a.right));else if(g.x>b.x&&(270===q||180===q))m.x=km(this,
d.right,Math.min(g.x,a.left));i.x=m.x;i.y=g.y}if(m.x>d.left&&m.x<d.right)if(g.y>=d.top&&g.y<=b.y||b.y<=a.bottom&&b.y>=g.y){if(0===q||180===q)m=new D(b.x,Math.max((b.y+g.y)/2,b.y)),i=new D(g.x,m.y)}else m.x=180===q||(90===q||270===q)&&g.x<b.x?Math.min(g.x,90===q?d.left:Math.min(d.left,a.left)):Math.max(g.x,90===q?d.right:Math.max(d.right,a.right)),i.x=m.x,i.y=g.y}else if(g.y<b.y||180===q&&g.x<b.x&&a.top<b.y||0===q&&g.x>b.x&&a.top<b.y)m=new D(b.x,g.y),i=new D((b.x+g.x)/2,g.y),90===q?(m.y=km(this,b.y,
g.y),i.x=g.x,i.y=m.y):180===q&&g.x<b.x||0===q&&g.x>=b.x?(m.y=b.y>a.bottom?km(this,b.y,a.bottom):b.y>a.top&&(180===q&&b.x<a.left||0===q&&b.x>a.right)?km(this,b.y,g.y):a.top,i.x=g.x,i.y=m.y):270===q&&(b.y>a.bottom&&b.x>a.left&&b.x<a.right)&&(m.x=b.x<g.x?Math.min(g.x,a.left):Math.max(g.x,a.right),m.y=b.y,i.x=m.x);else{m=new D(g.x,b.y);i=new D(g.x,(b.y+g.y)/2);if(90===q||0===q&&g.x<d.left||180===q&&g.x>d.right){if(90===q&&(a.ka(b)||d.ka(g)))m.x=km(this,b.x,g.x);else if(g.x<b.x&&(90===q||0===q))m.x=km(this,
d.left,Math.max(g.x,a.right));else if(g.x>b.x&&(90===q||180===q))m.x=km(this,d.right,Math.min(g.x,a.left));i.x=m.x;i.y=g.y}if(m.x>d.left&&m.x<d.right)if(g.y<=d.bottom&&g.y>=b.y||b.y>=a.top&&b.y<=g.y){if(0===q||180===q)m=new D(b.x,Math.min((b.y+g.y)/2,b.y)),i=new D(g.x,m.y)}else m.x=180===q||(90===q||270===q)&&g.x<b.x?Math.min(g.x,270===q?d.left:Math.min(d.left,a.left)):Math.max(g.x,270===q?d.right:Math.max(d.right,a.right)),i.x=m.x,i.y=g.y}this.jd(m);this.jd(i)}(k||c!==bc||j)&&this.jd(e);this.jd(l)}}return h};
function lm(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}V.prototype.getLinkPointFromPoint=V.prototype.kJ=function(a,b,c,d){if(a===n||b===n)return c;if(!a.ib()){var e=xl(a);e!==n&&e!==a&&(b=e.port)}a=b.Y===n?new ob:b.Y.ke.copy();e=a.copy();e.Xu();d=Nb(e,d);e=Nb(e,c);c=e.copy();b.Vu(d,e,c);b=Nb(a,c);c.x=b.x;c.y=b.y;return c};function mm(a,b){var c=a.sd;c===n&&(c=new nm,c.port=a,c.yg=a.ba,a.sd=c);return om(c,b)}
V.prototype.getLinkPoint=V.prototype.jJ=function(a,b,c,d,e,g,i){if(Wb(c))return c=b.Fb(c);if(Xb(c)&&(c=mm(b,this),c!==n))return c=c.$n;c=b.Fb(jc);this.da>(e?6:2)?(i=d?this.h(1):this.h(this.da-2),e&&(i=lm(c,i.copy()))):(i=i.Fb(jc),e&&(i=lm(c,i)));return this.getLinkPointFromPoint(a,b,c,i,d)};
V.prototype.getLinkDirection=V.prototype.iJ=function(a,b,c,d,e,g,i,j){a:if(Wb(d))c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x<d.y?d.x>1-d.y?90:d.x<1-d.y?180:135:0.5>d.x?225:0.5<d.x?45:0;else{if(Xb(d)&&(d=mm(b,this),d!==n))switch(d.Nd){case v.$c:c=270;break a;case v.Hc:c=180;break a;default:case v.Sc:c=0;break a;case v.Rc:c=90;break a}d=b.Fb(jc);this.da>(g?6:2)?(j=e?this.h(1):this.h(this.da-2),j=g?lm(d,j.copy()):c):j=j.Fb(jc);c=Math.abs(j.x-d.x)>Math.abs(j.y-d.y)?j.x>=d.x?0:180:j.y>=d.y?90:270}g=Gl;
g=e?this.Mr:this.us;g===Gl&&(g=e?b.Mr:b.us);switch(g){case Hl:a=a.Wa;c+=a;360<=c&&(c-=360);break;case Gl:case aj:a=a.Wa;if(0===a)break;45<=a&&135>a?c+=90:135<=a&&225>a?c+=180:225<=a&&315>a&&(c+=270);360<=c&&(c-=360)}return c};V.prototype.getEndSegmentLength=V.prototype.hJ=function(a,b,c,d){if(Xb(c)&&(a=mm(b,this),a!==n))return a.Nu;a=NaN;a=d?this.xk:this.Ik;isNaN(a)&&(a=d?b.xk:b.Ik);isNaN(a)&&(a=10);return a};
function em(a,b){var c=a.bb;Zb(c)&&(b===f&&(b=a.Oc),b!==n&&(c=b.bb));return c===cc?bc:c}function fm(a,b){var c=a.eb;Zb(c)&&(b===f&&(b=a.yd),b!==n&&(c=b.eb));return c===cc?bc:c}function pm(a){var b=a.Nr;isNaN(b)&&(a=a.Oc,a!==n&&(b=a.Nr));return isNaN(b)?0:b}function qm(a){var b=a.vs;isNaN(b)&&(a=a.yd,a!==n&&(b=a.vs));return isNaN(b)?0:b}function Qg(a){a=a.cf;return a===Bh||a===Xf}function $l(a){if(a.Gh===n){var b=Qg(a);a.Gh=a.Oc===a.yd&&!b}return a.Gh?Vj:a.Re}
function rm(a){if(a.Re===Vj)return 0;a=a.FB;if(isNaN(a)||0>a)a=10;return a}V.prototype.computeCurviness=V.prototype.mI=function(){var a=this.iy;if(isNaN(a)){var b=this.ce;if(0!==b){var c=this.Tk,a=c!==n?c.nj:10,c=Math.abs(b),a=a/2+((c-1)/2|0)*a;0===c%2&&(a=-a);0>b&&(a=-a)}else a=10}return a};V.prototype.hasCurviness=V.prototype.tJ=function(){return!isNaN(this.iy)||0!==this.ce&&!Qg(this)};
function gm(a,b,c,d,e){var g=a.wu;if(Qg(a)){if(g===Zj)return p;g===$j&&(g=Yj)}switch(g){case Zj:var i=a.h(b),j=a.h(d);if(!i.z(c)||!j.z(e)){var g=i.x,i=i.y,k=j.x-g,l=j.y-i,m=Math.sqrt(k*k+l*l);if(!kb(m,0)){var q;kb(k,0)?q=0>l?-Math.PI/2:Math.PI/2:(q=Math.atan(l/Math.abs(k)),0>k&&(q=Math.PI-q));var j=c.x,r=c.y,k=e.x-j,u=e.y-r,l=Math.sqrt(k*k+u*u);kb(k,0)?u=0>u?-Math.PI/2:Math.PI/2:(u=Math.atan(u/Math.abs(k)),0>k&&(u=Math.PI-u));m=l/m;q=u-q;a.A(b,c);for(b+=1;b<d;b++)c=a.h(b),k=c.x-g,l=c.y-i,c=Math.sqrt(k*
k+l*l),kb(c,0)||(kb(k,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(k)),0>k&&(l=Math.PI-l)),k=l+q,c*=m,a.A(b,new D(j+c*Math.cos(k),r+c*Math.sin(k))));a.A(d,e)}}return h;case $j:i=a.h(b);r=a.h(d);if(!i.z(c)||!r.z(e)){g=i.x;i=i.y;j=r.x;r=r.y;m=(j-g)*(j-g)+(r-i)*(r-i);k=c.x;q=c.y;var l=e.x,u=e.y,x=0,y=1,x=0!==l-k?(u-q)/(l-k):9E9;0!==x&&(y=Math.sqrt(1+1/(x*x)));a.A(b,c);for(b+=1;b<d;b++){var c=a.h(b),C=c.x,F=c.y,H=0.5;0!==m&&(H=((g-C)*(g-j)+(i-F)*(i-r))/m);var I=g+H*(j-g),M=i+H*(r-i),c=Math.sqrt((C-
I)*(C-I)+(F-M)*(F-M));F<x*(C-I)+M&&(c=-c);0<x&&(c=-c);C=k+H*(l-k);H=q+H*(u-q);0!==x?(c=C+c/y,a.A(b,new D(c,H-(c-C)/x))):a.A(b,new D(C,H+c))}a.A(d,e)}return h;case Yj:return Qg(a)&&(g=a.h(b+1),i=a.h(b+2),kb(g.x,i.x)&&!kb(g.y,i.y)?a.A(b+1,new D(g.x,c.y)):kb(g.y,i.y)&&a.A(b+1,new D(c.x,g.y)),g=a.h(d-1),i=a.h(d-2),kb(g.x,i.x)&&!kb(g.y,i.y)?a.A(d-1,new D(g.x,e.y)):kb(g.y,i.y)&&a.A(d-1,new D(e.x,g.y))),a.A(b,c),a.A(d,e),h;default:return p}}
function km(a,b,c){return a.hasCurviness()?(a=a.computeCurviness(),(b+c)/2+a):(b+c)/2}
function jm(a,b,c,d,e,g){var i=b.Al,j=b.zl,k=im(b,c,d),l=c,m=d;for(0===e?l+=i:90===e?m+=j:180===e?l-=i:m-=j;k>sm&&im(b,l,m)===k-tm;)c=l,d=m,0===e?l+=i:90===e?m+=j:180===e?l-=i:m-=j,k-=tm;if(g){if(k>sm)if(180===e||0===e)c=Math.floor(c/i)*i+i/2;else if(90===e||270===e)d=Math.floor(d/j)*j+j/2}else c=Math.floor(c/i)*i+i/2,d=Math.floor(d/j)*j+j/2;k>sm&&(g=e,l=c,m=d,0===e?(g=90,m+=j):90===e?(g=180,l-=i):180===e?(g=270,m-=j):270===e&&(g=0,l+=i),im(b,l,m)===k-tm?jm(a,b,l,m,g,p):(l=c,m=d,0===e?(g=270,m-=j):
90===e?(g=0,l+=i):180===e?(g=90,m+=j):270===e&&(g=180,l-=i),im(b,l,m)===k-tm&&jm(a,b,l,m,g,p)));a.jd(new D(c,d))}V.prototype.findClosestSegment=V.prototype.UI=function(a){t&&v.c(a,D,V,"findClosestSegment:p");for(var b=a.x,a=a.y,c=this.h(0),d=this.h(1),e=sb(b,a,c.x,c.y,d.x,d.y),g=0,i=1;i<this.da-1;i++){var c=this.h(i+1),j=sb(b,a,d.x,d.y,c.x,c.y),d=c;j<e&&(g=i,e=j)}return g};V.prototype.invalidateGeometry=V.prototype.Bf=function(){this.mc=this.Ba=n;this.L()};
v.m(V,{Pr:"geometry"},function(){this.Ba===n&&(Zl(this),this.Ba=um(this));return this.Ba});function wi(a){if(a.Ba===n&&a.ul!==p){a.Ba=um(a);var b=a.vp();if(b!==n){b.Ba=a.Ba;for(var c=a.oa,d=c.length,e=0;e<d;e++){var g=c.i[e];g!==b&&(g.gj&&g instanceof W)&&(g.Ba=a.Ba)}}}}
function um(a){var b=a.da;if(2>b){var a=new Ed(Hd),c=new Id(0,0);a.Pb.add(c);return a}var d,e=a.h(0).copy(),g=new D(Infinity,Infinity);g.x=Math.min(e.x,g.x);g.y=Math.min(e.y,g.y);var i=$l(a);if(i===Vj&&3<=b&&!jb(a.rs,0))if(3===b){var j=a.h(1),c=Math.min(e.x,j.x);d=Math.min(e.y,j.y);j=a.h(2);c=Math.min(c,j.x);d=Math.min(d,j.y)}else{if(Qg(a))for(j=0;j<b;j++)c=a.wc.i[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);else for(var k,j=3;j<b;j+=3)j+3>=b&&(j=b-1),k=a.h(j),g.x=Math.min(k.x,g.x),g.y=Math.min(k.y,
g.y);c=g.x;d=g.y}else{for(j=0;j<b;j++)c=a.wc.i[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);c=g.x;d=g.y}c-=a.nu.x;d-=a.nu.y;e.x-=c;e.y-=d;if(2===b){var l=a.h(1).copy();l.x-=c;l.y-=d;0!==pm(a)&&vm(a,e,h,g);0!==qm(a)&&vm(a,l,p,g);a=new Ed(Kd);a.Ga=e.x;a.Ha=e.y;a.P=l.x;a.Q=l.y;return a}l=new K;0!==pm(a)&&vm(a,e,h,g);L(l,e.x,e.y,p,p);if(i===Vj&&3<=b&&!jb(a.rs,0))if(3===b)j=a.h(1),b=j.x-c,e=j.y-d,j=a.h(2).copy(),j.x-=c,j.y-=d,0!==qm(a)&&vm(a,j,p,g),N(l,b,e,b,e,j.x,j.y);else if(Qg(a)){e=new D(c,d);i=
a.h(1).copy();k=new D(c,d);for(var b=new D(c,d),g=a.h(0),m=n,q=a.rs/3,j=1;j<a.da-1;j++){var m=a.h(j),r=g,u=m,x=a.h(wm(a,m,j,p));if(!jb(r.x,u.x)||!jb(u.x,x.x))if(!jb(r.y,u.y)||!jb(u.y,x.y)){var y=q,C=k,F=b;isNaN(y)&&(y=a.rs/3);var H=r.x,r=r.y,I=u.x,u=u.y,M=x.x,x=x.y,U=y*xm(H,r,I,u),y=y*xm(I,u,M,x);jb(r,u)&&jb(I,M)&&(I>H?x>u?(C.x=I-U,C.y=u-U,F.x=I+y,F.y=u+y):(C.x=I-U,C.y=u+U,F.x=I+y,F.y=u-y):x>u?(C.x=I+U,C.y=u-U,F.x=I-y,F.y=u+y):(C.x=I+U,C.y=u+U,F.x=I-y,F.y=u-y));jb(H,I)&&jb(u,x)&&(u>r?(M>I?(C.x=I-
U,C.y=u-U,F.x=I+y):(C.x=I+U,C.y=u-U,F.x=I-y),F.y=u+y):(M>I?(C.x=I-U,C.y=u+U,F.x=I+y):(C.x=I+U,C.y=u+U,F.x=I-y),F.y=u-y));if(jb(H,I)&&jb(I,M)||jb(r,u)&&jb(u,x))H=0.5*(H+M),r=0.5*(r+x),C.x=H,C.y=r,F.x=H,F.y=r;1===j?(i.x=0.5*(g.x+m.x),i.y=0.5*(g.y+m.y)):2===j&&(jb(g.x,a.h(0).x)&&jb(g.y,a.h(0).y))&&(i.x=0.5*(g.x+m.x),i.y=0.5*(g.y+m.y));N(l,i.x-c,i.y-d,k.x-c,k.y-d,m.x-c,m.y-d);e.set(k);i.set(b);g=m}}j=g.x;g=g.y;a=a.h(a.da-1);j=0.5*(j+a.x);g=0.5*(g+a.y);N(l,b.x-c,b.y-d,j-c,g-d,a.x-c,a.y-d)}else for(j=3;j<
b;j+=3)g=a.h(j-2),j+3>=b&&(j=b-1),e=a.h(j-1),k=a.h(j),j===b-1&&0!==qm(a)&&(k=k.copy(),vm(a,k,p,Oc)),N(l,g.x-c,g.y-d,e.x-c,e.y-d,k.x-c,k.y-d);else{m=a.h(0);for(j=1;j<b;){j=wm(a,m,j,1<j);q=a.h(j);if(j>=b-1){m!==q&&(0!==qm(a)&&(q=q.copy(),vm(a,q,p,Oc)),ym(a,l,-c,-d,m,q));break}j=wm(a,q,j+1,j<b-3);g=a;e=l;i=-c;k=-d;C=a.h(j);kb(m.y,q.y)&&kb(q.x,C.x)?(F=rm(g),F=Math.min(F,Math.abs(q.x-m.x)/2),F=H=Math.min(F,Math.abs(C.y-q.y)/2),kb(F,0)?(ym(g,e,i,k,m,q),m=q):(r=q.x,y=q.y,I=r,u=y,r=q.x>m.x?q.x-F:q.x+F,u=
C.y>q.y?q.y+H:q.y-H,ym(g,e,i,k,m,new D(r,y)),ce(e,q.x+i,q.y+k,I+i,u+k),m=new D(I,u))):kb(m.x,q.x)&&kb(q.y,C.y)?(F=rm(g),H=Math.min(F,Math.abs(q.y-m.y)/2),H=F=Math.min(H,Math.abs(C.x-q.x)/2),kb(F,0)?(ym(g,e,i,k,m,q),m=q):(r=q.x,u=y=q.y,y=q.y>m.y?q.y-H:q.y+H,I=C.x>q.x?q.x+F:q.x-F,ym(g,e,i,k,m,new D(r,y)),ce(e,q.x+i,q.y+k,I+i,u+k),m=new D(I,u))):(ym(g,e,i,k,m,q),m=q)}}return l.k}
function xm(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return jb(a,0)?b:jb(b,0)?a:Math.sqrt(a*a+b*b)}
function vm(a,b,c,d){var e=a.da;if(!(2>e))if(c){var g=a.h(1),c=g.x-d.x,d=g.y-d.y,g=xm(b.x,b.y,c,d);0!==g&&(e=2===e?0.5*g:g,a=pm(a),a>e&&(a=e),c=a*(c-b.x)/g,a=a*(d-b.y)/g,b.x+=c,b.y+=a)}else g=a.h(e-2),c=g.x-d.x,d=g.y-d.y,g=xm(b.x,b.y,c,d),0!==g&&(e=2===e?0.5*g:g,a=qm(a),a>e&&(a=e),c=a*(b.x-c)/g,a=a*(b.y-d)/g,b.x-=c,b.y-=a)}
function wm(a,b,c,d){for(var e=a.da,g=b;jb(b.x,g.x)&&jb(b.y,g.y);){if(c>=e)return e-1;g=a.h(c++)}if(!jb(b.x,g.x)&&!jb(b.y,g.y))return c-1;for(var i=g;jb(b.x,g.x)&&jb(g.x,i.x)&&(!d||(b.y>=g.y?g.y>=i.y:g.y<=i.y))||jb(b.y,g.y)&&jb(g.y,i.y)&&(!d||(b.x>=g.x?g.x>=i.x:g.x<=i.x));){if(c>=e)return e-1;i=a.h(c++)}return c-2}
function ym(a,b,c,d,e,g){if(Yl(a)){var i=new z("number"),j;a:if(j=a.b,j===n)j=0;else{Math.min(e.x,g.x);Math.min(e.y,g.y);Math.max(e.x,g.x);Math.max(e.y,g.y);for(j=j.Vn;j.next();){var k=j.value;if(k!==n&&k.visible)for(k=k.kj;k.next();){var l=k.value;if(l===a){0<i.length&&i.sort(function(a,b){return a-b});j=i.length;break a}if(l instanceof V&&a.ib()&&l.ib()&&Yl(l)&&a.Nj().Xe(l.Nj())&&!a.usesSamePort(l)){var m=l.path;if(m!==n&&m.Ak())for(var m=e,q=g,r=i,u=l.da,x=1;x<u;x++){var y=l.h(x-1),C=l.h(x),F=
new D,H;b:{H=m;var I=q,M=F;if(kb(H.x,I.x)){if(kb(y.y,C.y)&&Math.min(H.y,I.y)<=y.y&&Math.max(H.y,I.y)>=y.y&&Math.min(y.x,C.x)<=H.x&&Math.max(y.x,C.x)>=H.x&&!kb(y.x,C.x)){M.x=H.x;M.y=y.y;H=h;break b}}else if(kb(y.x,C.x)&&Math.min(H.x,I.x)<=y.x&&Math.max(H.x,I.x)>=y.x&&Math.min(y.y,C.y)<=H.y&&Math.max(y.y,C.y)>=H.y&&!kb(y.y,C.y)){M.x=y.x;M.y=H.y;H=h;break b}M.x=0;M.y=0;H=p}H&&(kb(m.y,q.y)?r.add(F.x):r.add(F.y))}}}}0<i.length&&i.sort(function(a,b){return a-b});j=i.length}m=e.x;m=e.y;if(0<j)if(kb(e.y,
g.y))if(e.x<g.x)for(k=0;k<j;){r=Math.max(e.x,Math.min(i.i[k++]-5,g.x-10));b.lineTo(r+c,g.y+d);m=r+c;for(q=Math.min(r+10,g.x);k<j;)if(l=i.i[k],l<q+10)k++,q=Math.min(l+5,g.x);else break;l=(r+q)/2+c;l=g.y-10+d;r=q+c;q=g.y+d;a.Re===Wj?L(b,r,q,p,p):N(b,m,l,r,l,r,q)}else for(k=j-1;0<=k;){r=Math.min(e.x,Math.max(i.i[k--]+5,g.x+10));b.lineTo(r+c,g.y+d);m=r+c;for(q=Math.max(r-10,g.x);0<=k;)if(l=i.i[k],l>q-10)k--,q=Math.max(l-5,g.x);else break;l=g.y-10+d;r=q+c;q=g.y+d;a.Re===Wj?L(b,r,q,p,p):N(b,m,l,r,l,r,q)}else if(kb(e.x,
g.x))if(e.y<g.y)for(k=0;k<j;){r=Math.max(e.y,Math.min(i.i[k++]-5,g.y-10));b.lineTo(g.x+c,r+d);m=r+d;for(q=Math.min(r+10,g.y);k<j;)if(l=i.i[k],l<q+10)k++,q=Math.min(l+5,g.y);else break;l=g.x-10+c;r=g.x+c;q+=d;a.Re===Wj?L(b,r,q,p,p):N(b,l,m,l,q,r,q)}else for(k=j-1;0<=k;){r=Math.min(e.y,Math.max(i.i[k--]+5,g.y+10));b.lineTo(g.x+c,r+d);m=r+d;for(q=Math.max(r-10,g.y);0<=k;)if(l=i.i[k],l>q-10)k--,q=Math.max(l-5,g.y);else break;l=g.x-10+c;r=g.x+c;q+=d;a.Re===Wj?L(b,r,q,p,p):N(b,l,m,l,q,r,q)}}b.lineTo(g.x+
c,g.y+d)}v.m(V,{Ru:"firstPickIndex"},function(){return 2>=this.da?0:Qg(this)||em(this)!==bc?1:0});v.m(V,{Jy:"lastPickIndex"},function(){var a=this.da;return 0===a?0:2>=a?a-1:Qg(this)||fm(this)!==bc?a-2:a-1});function Yl(a){a=a.Re;return a===Xj||a===Wj}function dm(a,b){if(b||Yl(a)){var c=a.b;c!==n&&(!c.vm.contains(a)&&a.kx!==n)&&c.vm.add(a,a.kx)}}
function Eg(a,b){var c=a.za;if(!(c===n||!c.visible||c.Zc)){var d=c.b;if(d!==n)for(var e=p,d=d.Vn;d.next();){var g=d.value;if(g.visible)if(g===c)for(var e=h,i=p,g=g.kj;g.next();){var j=g.value;j instanceof V&&(j===a?i=h:i&&zm(a,j,b))}else if(e)for(g=g.kj;g.next();)j=g.value,j instanceof V&&zm(a,j,b)}}}function zm(a,b,c){if(b!==n&&Yl(b)&&b.Ba!==n&&(a.Nj().Xe(b.Nj())||c.Xe(b.Nj())))a.usesSamePort(b)||b.Bf()}
V.prototype.usesSamePort=V.prototype.XK=function(a){var b=this.da,c=a.da;if(0<b&&0<c){if(this.h(0).ji(a.h(0))||this.h(b-1).ji(a.h(c-1)))return h}else if(this.ja===a.ja||this.na===a.na)return h;return p};v.a(V,"adjusting",V.prototype.wu);v.defineProperty(V,{wu:"adjusting"},s("Go"),function(a){var b=this.Go;b!==a&&(t&&v.Za(a,V,V,"adjusting"),this.Go=a,this.d("adjusting",b,a))});v.a(V,"corner",V.prototype.FB);
v.defineProperty(V,{FB:"corner"},s("To"),function(a){var b=this.To;b!==a&&(t&&v.e(a,"number",V,"corner"),this.To=a,this.Bf(),this.d("corner",b,a))});v.a(V,"curve",V.prototype.Re);v.defineProperty(V,{Re:"curve"},s("Vo"),function(a){var b=this.Vo;b!==a&&(t&&v.Za(a,V,V,"curve"),this.Vo=a,this.Xb(),dm(this,b===Wj||b===Xj||a===Wj||a===Xj),this.d("curve",b,a))});v.a(V,"curviness",V.prototype.iy);
v.defineProperty(V,{iy:"curviness"},s("Wo"),function(a){var b=this.Wo;b!==a&&(t&&v.e(a,"number",V,"curviness"),this.Wo=a,this.Xb(),this.d("curviness",b,a))});v.a(V,"routing",V.prototype.cf);v.defineProperty(V,{cf:"routing"},s("Ni"),function(a){var b=this.Ni;b!==a&&(t&&v.Za(a,V,V,"routing"),this.Ni=a,this.Gh=n,this.Xb(),dm(this,b===Bh||b===Xf||a===Bh||a===Xf),this.d("routing",b,a))});v.a(V,"smoothness",V.prototype.rs);
v.defineProperty(V,{rs:"smoothness"},s("Vq"),function(a){var b=this.Vq;b!==a&&(t&&v.e(a,"number",V,"smoothness"),this.Vq=a,this.Bf(),this.d("smoothness",b,a))});
function Xl(a){var b=a.Jg;if(b!==n){var c=a.bh;if(c!==n){var d=a.Kg,a=a.dh,e;a:{if(!(c===n||b.Cg===n))for(e=b.Cg.f;e.next();){var g=e.value;if(g.io===b&&g.gs===c&&g.gv===d&&g.hv===a||g.io===c&&g.gs===b&&g.gv===a&&g.hv===d){e=g;break a}}e=n}for(var i=g=n,j=b.Bd.i,k=j.length,l=0;l<k;l++){var m=j[l];if(m.Jg===b&&m.Kg===d&&m.bh===c&&m.dh===a||m.Jg===c&&m.Kg===a&&m.bh===b&&m.dh===d)i===n?i=m:(g===n&&(g=new z(V),g.add(i)),g.add(m))}if(g!==n){e===n&&(e=new Jl,e.io=b,e.gv=d,e.gs=c,e.hv=a,Il(b,e),Il(c,e));
e.links=g;for(l=0;l<g.count;l++)if(m=g.i[l],0===m.ce){b=1;for(c=0;c<g.count;c++)Math.abs(g.i[c].ce)===b&&(b++,c=-1);m.Tk=e;m.ce=m.ja===e.io?b:-b;m.Xb()}}}}}
function Wl(a){var b=a.Tk;if(b!==n){var c=a.ce;a.Tk=n;a.ce=0;a.Xb();b.links.remove(a);if(2>b.links.count)1===b.links.count&&(c=b.links.i[0],c.Tk=n,c.ce=0,c.Xb()),c=b.io,b!==n&&c.Cg!==n&&c.Cg.remove(b),c=b.gs,b!==n&&c.Cg!==n&&c.Cg.remove(b);else{c=Math.abs(c);a=0===c%2;for(b=b.links.f;b.next();){var d=b.value,e=Math.abs(d.ce),g=0===e%2;e>c&&a===g&&(d.ce=0<d.ce?d.ce-2:d.ce+2,d.Xb())}}}}function Jl(){v.Tb(this);this.links=this.hv=this.gs=this.gv=this.io=n;this.nj=10}
v.yf(Jl,{io:h,gv:h,gs:h,hv:h,links:h,nj:h});function Li(){v.Tb(this);this.group=n;this.Pl=h;this.abort=p;this.fg=this.eg=1;this.zt=this.yt=-1;this.ad=this.nd=8;this.Ib=n;this.dE=p;this.HD=22;this.GC=111}v.yf(Li,{group:h,Pl:h,abort:h,dE:h,HD:h,GC:h});var na=0,sm=1,tm=1,oa=999999999,Am=oa;
function Mi(a,b){if(!(0>=b.width||0>=b.height)){var c=b.y,d=b.x+b.width,e=b.y+b.height;a.eg=Math.floor((b.x-a.nd)/a.nd)*a.nd;a.fg=Math.floor((c-a.ad)/a.ad)*a.ad;a.yt=Math.ceil((d+2*a.nd)/a.nd)*a.nd;a.zt=Math.ceil((e+2*a.ad)/a.ad)*a.ad;c=1+(Math.ceil((a.yt-a.eg)/a.nd)|0);d=1+(Math.ceil((a.zt-a.fg)/a.ad)|0);if(a.Ib===n||a.kn<c-1||a.ln<d-1){for(var e=[],g=0;g<=c;g++){for(var i=[],j=0;j<=d;j++)i[j]=0;e[g]=i}a.Ib=e;a.kn=c-1;a.ln=d-1}if(a.Ib!==n)for(c=0;c<=a.kn;c++)for(d=0;d<=a.ln;d++)a.Ib[c][d]=Am}}
v.m(Li,{rb:n},function(){return new E(this.eg,this.fg,this.yt-this.eg,this.zt-this.fg)});v.a(Li,"cellWidth",Li.prototype.Al);v.defineProperty(Li,{Al:n},s("nd"),function(a){0<a&&a!==this.nd&&(this.nd=a,Mi(this,this.rb))});v.a(Li,"cellHeight",Li.prototype.zl);v.defineProperty(Li,{zl:n},s("ad"),function(a){0<a&&a!==this.ad&&(this.ad=a,Mi(this,this.rb))});function Bm(a,b,c){return a.eg<=b&&b<=a.yt&&a.fg<=c&&c<=a.zt}
function im(a,b,c){if(!Bm(a,b,c))return 0;b-=a.eg;b/=a.nd;c-=a.fg;c/=a.ad;return a.Ib[b|0][c|0]}function Pi(a,b,c){Bm(a,b,c)&&(b-=a.eg,b/=a.nd,c-=a.fg,c/=a.ad,a.Ib[b|0][c|0]=na)}function Oi(a){if(a.Ib!==n)for(var b=0;b<=a.kn;b++)for(var c=0;c<=a.ln;c++)a.Ib[b][c]>=sm&&(a.Ib[b][c]|=oa)}
function Cm(a,b,c,d,e,g,i,j,k){if(!(b<g||b>i||c<j||c>k)){var l,m;l=b|0;m=c|0;var q=a.Ib[l][m];if(q>=sm&&q<oa){e?m+=d:l+=d;for(q+=tm;g<=l&&(l<=i&&j<=m&&m<=k)&&!(q>=a.Ib[l][m]);)a.Ib[l][m]=q,q+=tm,e?m+=d:l+=d}l=e?m:l;if(e)if(0<d)for(c+=d;c<l;c+=d)Cm(a,b,c,1,!e,g,i,j,k),Cm(a,b,c,-1,!e,g,i,j,k);else for(c+=d;c>l;c+=d)Cm(a,b,c,1,!e,g,i,j,k),Cm(a,b,c,-1,!e,g,i,j,k);else if(0<d)for(b+=d;b<l;b+=d)Cm(a,b,c,1,!e,g,i,j,k),Cm(a,b,c,-1,!e,g,i,j,k);else for(b+=d;b>l;b+=d)Cm(a,b,c,1,!e,g,i,j,k),Cm(a,b,c,-1,!e,g,
i,j,k)}}function Dm(a,b,c,d,e,g,i,j,k,l,m){for(var q=b|0,r=c|0,u=a.Ib[q][r];0===u&&q>j&&q<k&&r>l&&r<m;)if(i?r+=g:q+=g,u=a.Ib[q][r],1>=Math.abs(q-d)&&1>=Math.abs(r-e))return a.abort=h,0;q=b|0;r=c|0;u=a.Ib[q][r];b=sm;for(a.Ib[q][r]=b;0===u&&q>j&&q<k&&r>l&&r<m;)i?r+=g:q+=g,u=a.Ib[q][r],a.Ib[q][r]=b,b+=tm;return i?r:q}
function hm(a,b,c,d,e,g){if(a.Ib!==n){a.abort=p;var i=b.x,j=b.y;if(Bm(a,i,j)){var i=i-a.eg,i=i/a.nd,j=j-a.fg,j=j/a.ad,k=d.x,l=d.y;if(Bm(a,k,l))if(k-=a.eg,k/=a.nd,l-=a.fg,l/=a.ad,1>=Math.abs(i-k)&&1>=Math.abs(j-l))a.abort=h;else{var m=g.x,b=g.y,d=g.x+g.width,q=g.y+g.height,m=m-a.eg,m=m/a.nd,b=b-a.fg,b=b/a.ad,d=d-a.eg,d=d/a.nd,q=q-a.fg,q=q/a.ad,g=Math.max(0,Math.min(a.kn,m|0)),d=Math.min(a.kn,Math.max(0,d|0)),b=Math.max(0,Math.min(a.ln,b|0)),q=Math.min(a.ln,Math.max(0,q|0)),i=i|0,j=j|0,k=k|0,l=l|0,
m=i,r=j,u=0===c||90===c?1:-1;(c=90===c||270===c)?r=Dm(a,i,j,k,l,u,c,g,d,b,q):m=Dm(a,i,j,k,l,u,c,g,d,b,q);if(!a.abort){a:{for(var c=0===e||90===e?1:-1,e=90===e||270===e,u=k|0,x=l|0,y=a.Ib[u][x];0===y&&u>g&&u<d&&x>b&&x<q;)if(e?x+=c:u+=c,y=a.Ib[u][x],1>=Math.abs(u-i)&&1>=Math.abs(x-j)){a.abort=h;break a}u=k|0;x=l|0;y=a.Ib[u][x];for(a.Ib[u][x]=Am;0===y&&u>g&&u<d&&x>b&&x<q;)e?x+=c:u+=c,y=a.Ib[u][x],a.Ib[u][x]=Am}a.abort||(Cm(a,m,r,1,p,g,d,b,q),Cm(a,m,r,-1,p,g,d,b,q),Cm(a,m,r,1,h,g,d,b,q),Cm(a,m,r,-1,h,
g,d,b,q))}}}}}function nm(){v.Tb(this);this.Gf=this.port=this.yg=n;this.fs=p}v.yf(nm,{yg:h,port:h,Gf:h,fs:h});nm.prototype.toString=function(){for(var a=this.Gf,b=this.yg.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];d!==n&&(b+="\n  "+d.toString())}return b};
function Em(a,b,c,d){b=b.offsetY;switch(b){case v.Rc:return 90;case v.Hc:return 180;case v.$c:return 270;case v.Sc:return 0}switch(b){case v.Rc|v.$c:return 180<c?270:90;case v.Hc|v.Sc:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case v.Hc|v.$c:return c>a&&c<=180+a?180:270;case v.$c|v.Sc:return c>180-a&&c<=360-a?270:0;case v.Sc|v.Rc:return c>a&&c<=180+a?90:0;case v.Rc|v.Hc:return c>180-a&&c<=360-a?180:90;case v.Hc|v.$c|v.Sc:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
a?270:0;case v.$c|v.Sc|v.Rc:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case v.Sc|v.Rc|v.Hc:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case v.Rc|v.Hc|v.$c:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(v.Hc|v.$c|v.Sc|v.Rc)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}
function om(a,b){var c=a.Gf;if(c===n){if(!a.fs){c=a.fs;a.fs=h;var d=a.yg.qe;a.Gf=[];for(var e=0,g=new E(a.port.Fb(dc),a.port.Fb(mc)),d=d.f;d.next();){var i=d.value;if(i.ib()){var j=bc,j=i.Oc===a.port?em(i,a.port):fm(i,a.port);if(Xb(j)){var k;k=i.Oc===a.port?i.yd:i.Oc;if(k!==n&&k.ba!==n){var l=k.Fb(jc);k=k.sd;k=k!==n?om(k,i):n;k!==n&&(l=k.$n);k=g.Bu.fi(l);var j=Em(g,j,k,Qg(i)),m;0===j?(m=v.Sc,180<k&&(k-=360)):m=90===j?v.Rc:180===j?v.Hc:v.$c;(j=a.Gf[e])?(j.link=i,j.Wa=k,j.Nd=m):(j=new Fm(i,k,m),a.Gf[e]=
j);j.fv.set(l);e++}}}}a.Gf.sort(nm.prototype.EG);g=a.Gf.length;d=-1;for(e=i=0;e<g;e++)j=a.Gf[e],j!==n&&(j.Nd!==d&&(d=j.Nd,i=0),j.Nl=i,i++);d=-1;i=0;for(e=g-1;0<=e;e--)j=a.Gf[e],j!==n&&(j.Nd!==d&&(d=j.Nd,i=j.Nl+1),j.Br=i);e=a.Gf;for(g=0;g<e.length;g++)if(d=e[g],d!==n){l=d;j=a.port;i=d=f;switch(l.Nd){case v.Rc:d=j.Fb(mc);i=j.Fb(kc);break;case v.Hc:d=j.Fb(kc);i=j.Fb(dc);break;case v.$c:d=j.Fb(dc);i=j.Fb(ic);break;default:case v.Sc:d=j.Fb(ic),i=j.Fb(mc)}j=i.y-d.y;k=(l.Nl+1)/(l.Br+1);l=l.$n;l.x=d.x+(i.x-
d.x)*k;l.y=d.y+j*k}e=a.Gf;for(g=0;g<e.length;g++)if(i=e[g],i!==n){d=i;k=i;m=k.link;i=m.getEndSegmentLength(a.yg,a.port,bc,m.Oc===a.port);l=k.Nl;if(!(0>l)&&(j=k.Br,!(1>=j)&&Qg(m))){m=k.fv;var q=k.$n;if(k.Nd===v.Hc||k.Nd===v.Rc)l=j-1-l;i=((k=k.Nd===v.Hc||k.Nd===v.Sc)?m.y<q.y:m.x<q.x)?i+8*l:(k?m.y===q.y:m.x===q.x)?i:i+8*(j-1-l)}d.Nu=i}a.fs=c}c=a.Gf}for(e=0;e<c.length;e++)if(g=c[e],g!==n&&g.link===b)return g;return n}
nm.prototype.EG=function(a,b){return a===b?0:a===n?-1:b===n?1:a.Nd<b.Nd?-1:a.Nd>b.Nd?1:a.Wa<b.Wa?-1:a.Wa>b.Wa?1:0};function Fm(a,b,c){this.link=a;this.Wa=b;this.Nd=c;this.fv=new D;this.Nl=this.Br=this.Nl=0;this.$n=new D;this.Nu=0}v.yf(Fm,{link:h,Wa:h,Nd:h,fv:h,Nl:h,Br:h,$n:h,Nu:h});Fm.prototype.toString=function(){return this.link.toString()+" "+this.Wa.toString()+" "+this.Nd.toString()+":"+this.Nl.toString()+"/"+this.Br.toString()+" "+this.$n.toString()+" "+this.Nu.toString()+" "+this.fv.toString()};
function T(a){0===arguments.length?S.call(this,$g):S.call(this,a);this.cq=new va(R);this.ll=new va(T);this.bk=this.dq=this.bq=n;this.jr=p;this.Jp=h;this.mr=p;this.gb=this.$q=n;this.Qo=p;this.fd=new Rh;this.fd.group=this}v.J("Group",T);v.va(T,S);ea=T.prototype;
ea.qb=function(a){S.prototype.qb.call(this,a);a.bq=this.bq;a.dq=this.dq;a.bk=this.bk;a.jr=this.jr;a.Jp=this.Jp;a.mr=this.mr;a.$q=this.$q;var b=Kk(a,a,function(a){return a instanceof Ug});a.gb=b instanceof Ug?b:n;a.Qo=this.Qo;this.fd!==n?(a.fd=this.fd.copy(),a instanceof T&&(a.fd.group=a)):(a.fd!==n&&(a.fd.group=n),a.fd=n)};
ea.lh=function(a){S.prototype.lh.call(this,a);for(var b=a.Qu(),a=a.sc;a.next();){var c=a.value;c.L();c.v(Gj);c.jh();c instanceof T&&(c.zv=c.oe,Gm(c,b));if(c instanceof S)c.Af(b);else if(c instanceof V)for(c=c.oi;c.next();)c.value.Af(b)}};
ea.Xl=function(a,b,c,d,e,g,i){if(a===Ae&&"elements"===b)if(e instanceof Ug)this.gb===n?this.gb=e:this.gb!==e&&v.g("Cannot insert a second Placeholder into the visual tree of a Group.");else{if(e instanceof w){var j=Kk(e,e,function(a){return a instanceof Ug});j instanceof Ug&&(this.gb===n?this.gb=j:this.gb!==j&&v.g("Cannot insert a second Placeholder into the visual tree of a Group."))}}else a===Be&&"elements"===b&&(d===this.gb?this.gb=n:d instanceof w&&this.gb.ni(d)&&(this.gb=n));S.prototype.Xl.call(this,
a,b,c,d,e,g,i)};ea.Si=function(a,b,c,d){this.Gi=this.gb;w.prototype.Si.call(this,a,b,c,d);this.gb!==n&&(a=this.gb.Wm,this.location=new D(a.x,a.y))};ea.zk=function(){if(!S.prototype.zk.call(this))return p;for(var a=this.sc;a.next();){var b=a.value;if(b instanceof S){if(b.ib()&&b.Kc)return p}else if(b instanceof V&&b.ib()&&b.Kc&&b.ja!==this&&b.na!==this)return p}return h};v.m(T,{placeholder:"placeholder"},s("gb"));v.a(T,"computesBoundsAfterDrag",T.prototype.fy);
v.defineProperty(T,{fy:"computesBoundsAfterDrag"},s("Qo"),function(a){var b=this.Qo;b!==a&&(v.e(a,"boolean",T,"computesBoundsAfterDrag"),this.Qo=a,this.d("computesBoundsAfterDrag",b,a))});v.m(T,{sc:"memberParts"},function(){return this.cq.f});function Bl(a,b){if(a.cq.add(b)){b instanceof T&&a.ll.add(b);var c=a.RC;if(c!==n){var d=h,e=a.b;e!==n&&(d=e.Ca,e.Ca=h);c(a,b);e!==n&&(e.Ca=d)}}c=a.gb;c===n&&(c=a);c.L()}
function Al(a,b){if(a.cq.remove(b)){b instanceof T&&a.ll.remove(b);var c=a.SC;if(c!==n){var d=h,e=a.b;e!==n&&(d=e.Ca,e.Ca=h);c(a,b);e!==n&&(e.Ca=d)}}c=a.gb;c===n&&(c=a);c.L()}T.prototype.Gl=function(){if(0<this.cq.count){var a=this.b;if(a===n)return;for(var b=this.cq.copy().f;b.next();)a.remove(b.value)}S.prototype.Gl.call(this)};T.prototype.tv=function(){var a=this.za;a!==n&&a.tv(this)};v.a(T,"layout",T.prototype.Eb);
v.defineProperty(T,{Eb:"layout"},s("fd"),function(a){var b=this.fd;b!==a&&(a!==n&&v.c(a,Rh,T,"layout"),b!==n&&(b.b=n,b.group=n),this.fd=a,a!==n&&(a.b=this.b,a.group=this),this.d("layout",b,a))});v.a(T,"memberAdded",T.prototype.RC);v.defineProperty(T,{RC:"memberAdded"},s("bq"),function(a){var b=this.bq;b!==a&&(a!==n&&v.e(a,"function",T,"memberAdded"),this.bq=a,this.d("memberAdded",b,a))});v.a(T,"memberRemoved",T.prototype.SC);
v.defineProperty(T,{SC:"memberRemoved"},s("dq"),function(a){var b=this.dq;b!==a&&(a!==n&&v.e(a,"function",T,"memberRemoved"),this.dq=a,this.d("memberRemoved",b,a))});v.a(T,"memberValidation",T.prototype.as);v.defineProperty(T,{as:"memberValidation"},s("bk"),function(a){var b=this.bk;b!==a&&(a!==n&&v.e(a,"function",T,"memberValidation"),this.bk=a,this.d("memberValidation",b,a))});
T.prototype.canAddMembers=T.prototype.FH=function(a){var b=this.b;if(b===n)return p;b=b.Gd;for(a=b.sy(a).f;a.next();)if(!b.Hy(this,a.value))return p;return h};T.prototype.addMembers=T.prototype.CH=function(a,b){var c=this.b;if(c===n)return p;for(var c=c.Gd,d=h,e=c.sy(a).f;e.next();){var g=e.value;!b||c.Hy(this,g)?g.$a=this:d=p}return d};v.a(T,"ungroupable",T.prototype.$D);
v.defineProperty(T,{$D:"ungroupable"},s("jr"),function(a){var b=this.jr;b!==a&&(v.e(a,"boolean",T,"ungroupable"),this.jr=a,this.d("ungroupable",b,a))});T.prototype.canUngroup=T.prototype.fI=function(){if(!this.$D)return p;var a=this.za;if(a!==n&&!a.An)return p;a=a.b;return a!==n&&!a.An?p:h};T.prototype.findSubGraphParts=T.prototype.Qu=function(){var a=new va(R);rf(a,this,h,p);a.remove(this);return a};
T.prototype.collapseSubGraph=T.prototype.yr=function(){var a=this.b;if(a!==n&&!a.Cf){a.Cf=h;var b=this.Qu();Gm(this,b);a.Cf=p}};function Gm(a,b){a.oe=p;for(var c=a.sc;c.next();){var d=c.value;d.L();d.v(Gj);d.jh();d instanceof T&&(d.zv=d.oe,Gm(d,b));if(d instanceof S)d.Af(b);else if(d instanceof V)for(d=d.oi;d.next();)d.value.Af(b)}}T.prototype.expandSubGraph=T.prototype.Fr=function(){var a=this.b;if(a!==n&&!a.Cf){a.Cf=h;var b=this.Qu();Hm(this,b);a.Cf=p}};
function Hm(a,b){a.oe=h;for(var c=a.sc;c.next();){var d=c.value;d.L();d.v(yj);d.ti();d instanceof T&&d.zv&&Hm(d,b);if(d instanceof S)d.Af(b);else if(d instanceof V)for(d=d.oi;d.next();)d.value.Af(b)}}v.a(T,"isSubGraphExpanded",T.prototype.oe);
v.defineProperty(T,{oe:"isSubGraphExpanded"},s("Jp"),function(a){var b=this.Jp;if(b!==a){v.e(a,"boolean",T,"isSubGraphExpanded");this.Jp=a;var c=this.b;c!==n&&Ch(c);this.d("isSubGraphExpanded",b,a);b=this.LD;if(b!==n){var d=h;c!==n&&(d=c.Ca,c.Ca=h);b(this);c!==n&&(c.Ca=d)}c!==n&&c.ia.hb||(a?this.Fr():this.yr())}});v.a(T,"wasSubGraphExpanded",T.prototype.zv);
v.defineProperty(T,{zv:"wasSubGraphExpanded"},s("mr"),function(a){var b=this.mr;b!==a&&(v.e(a,"boolean",T,"wasSubGraphExpanded"),this.mr=a,this.d("wasSubGraphExpanded",b,a))});v.a(T,"subGraphExpandedChanged",T.prototype.LD);v.defineProperty(T,{LD:"subGraphExpandedChanged"},s("$q"),function(a){var b=this.$q;b!==a&&(a!==n&&v.e(a,"function",T,"subGraphExpandedChanged"),this.$q=a,this.d("subGraphExpandedChanged",b,a))});
T.prototype.move=T.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;S.prototype.move.call(this,a);for(a=this.Qu().f;a.next();){var d=a.value,e=d.position;S.prototype.move.call(d,new D(e.x+c,e.y+b))}};function Ug(){Q.call(this);this.Pd=(new Ib(0)).freeze();this.Wm=new E(NaN,NaN,NaN,NaN)}v.J("Placeholder",Ug);v.va(Ug,Q);Ug.prototype.qb=function(a){Q.prototype.qb.call(this,a);a.Pd=this.Pd.F();a.Wm=this.Wm.copy()};
Ug.prototype.Ui=function(a){if(this.background===n&&this.Zh===n)return p;var b=this.qa;return Kb(0,0,b.width,b.height,a.x,a.y)};
Ug.prototype.$r=function(){var a=this.ba;(a===n||!(a instanceof T)&&!(a instanceof sf))&&v.g("Placeholder is not inside a Group or Adornment.");if(a instanceof T){var b;a:{b=this.ba;if(b instanceof T&&b.fy&&this.Wm.ca()){var c=b.b;if(c!==n&&(c=c.ya,c instanceof Cf&&!c.hp&&c.Ob!==n&&!c.Ob.contains(b))){b=this.Wm;break a}}b=this.ba;if(b instanceof T){for(var d=c=Infinity,e=-Infinity,g=-Infinity,i=b.sc;i.next();){var j=i.value;if(j.ib()){if(j instanceof V){if(j.ec)continue;if(j.ja===b||j.na===b)continue}j=
j.pa;j.left<c&&(c=j.left);j.top<d&&(d=j.top);j.right>e&&(e=j.right);j.bottom>g&&(g=j.bottom)}}!isFinite(c)||!isFinite(d)?(b=b.location,c=this.padding,b=new E(b.x+c.left,b.y+c.top,0,0)):b=new E(c,d,e-c,g-d)}else b=new E;c=this.padding;b=new E(b.x-c.left,b.y-c.top,b.width+c.left+c.right,b.height+c.top+c.bottom)}this.Wm=b;c=this.vc;zb(c,b.width||0,b.height||0);fj(this,0,0,c.width,c.height);c=a.sc;for(d=p;c.next();)if(c.value.ib()){d=h;break}d&&(!isNaN(b.x)&&!isNaN(b.y))&&(a.location=new D(b.x,b.y))}else b=
this.ta,c=this.vc,a=this.padding,zb(c,b.width+(a.left+a.right)||0,b.height+(a.top+a.bottom)||0),fj(this,-a.left,-a.top,c.width,c.height)};Ug.prototype.Si=function(a,b,c,d){var e=this.pa;e.x=a;e.y=b;e.width=c;e.height=d};v.a(Ug,"padding",Ug.prototype.padding);v.defineProperty(Ug,{padding:"padding"},s("Pd"),function(a){"number"===typeof a?a=new Ib(a):v.c(a,Ib,w,"padding");var b=this.Pd;b.z(a)||(this.Pd=a=a.F(),this.d("padding",b,a))});
function Rh(){v.Tb(this);this.Jw=this.N=n;this.kt=this.Gp=h;this.Np=this.Mp=p;this.Io=(new D(0,0)).freeze();this.p=n}v.J("Layout",Rh);Rh.prototype.cloneProtected=Rh.prototype.qb=function(a){a.Gp=this.Gp;a.kt=this.kt;a.Np=this.Np;a.Io=this.Io.F()};Rh.prototype.copy=Rh.prototype.copy=function(){var a=new this.constructor;this.qb(a);return a};
Rh.prototype.toString=function(){var a=v.dj(Object.getPrototypeOf(this)),a=a+"(";this.group!==n&&(a+=" in "+this.group);this.b!==n&&(a+=" for "+this.b);return a+")"};v.a(Rh,"diagram",Rh.prototype.b);v.defineProperty(Rh,{b:"diagram"},s("N"),function(a){this.N!==a&&(a!==n&&v.c(a,A,Rh,"diagram"),this.N=a)});v.a(Rh,"group",Rh.prototype.group);v.defineProperty(Rh,{group:"group"},s("Jw"),function(a){this.Jw!==a&&(a!==n&&v.c(a,T,Rh,"group"),this.Jw=a)});v.a(Rh,"isOngoing",Rh.prototype.DC);
v.defineProperty(Rh,{DC:"isOngoing"},s("Gp"),function(a){this.Gp!==a&&(v.e(a,"boolean",Rh,"isOngoing"),this.Gp=a)});v.a(Rh,"isInitial",Rh.prototype.CC);v.defineProperty(Rh,{CC:"isInitial"},s("kt"),function(a){v.e(a,"boolean",Rh,"isInitial");this.kt=a;a||(this.Mp=h)});v.a(Rh,"isValidLayout",Rh.prototype.Ye);v.defineProperty(Rh,{Ye:"isValidLayout"},s("Mp"),function(a){this.Mp!==a&&(this.Mp=a,a||(a=this.b,a!==n&&(a.Fs=h)))});
Rh.prototype.invalidateLayout=Rh.prototype.v=function(){if(this.Mp){var a=this.b;if(a!==n&&!a.ia.hb&&(this.DC&&a.$f||this.CC&&!a.$f))this.Ye=p,a.kr=h,wf(a)}};v.a(Rh,"isViewportSized",Rh.prototype.cv);v.defineProperty(Rh,{cv:"isViewportSized"},s("Np"),function(a){this.Np!==a&&(this.Np=a)&&this.v()});v.a(Rh,"network",Rh.prototype.Qc);v.defineProperty(Rh,{Qc:"network"},s("p"),function(a){var b=this.p;b!==a&&(a!==n&&v.c(a,Im,Rh,"network"),b!==n&&Jm(b,n),this.p=a,a!==n&&Jm(a,this))});
Rh.prototype.createNetwork=Rh.prototype.Hu=function(){var a=new Im;Jm(a,this);return a};Rh.prototype.makeNetwork=Rh.prototype.xG=function(a){var b=this.createNetwork();a instanceof A?(b.sr(a.Ck,h),b.sr(a.links,h)):a instanceof T?b.sr(a.sc):a.f&&b.sr(a.f);return b};Rh.prototype.updateParts=Rh.prototype.WK=function(){var a=this.b;if(a===n&&this.p!==n)for(var b=this.p.V.f;b.next();){var c=b.value.Ja;if(c!==n&&(a=c.b,a!==n))break}a!==n&&a.Sb("Layout");this.commitLayout();a!==n&&a.Wd("Layout")};
Rh.prototype.commitLayout=Rh.prototype.Eu=aa();
Rh.prototype.doLayout=Rh.prototype.Dr=function(a){a===n&&v.g("Layout.doLayout(collection) argument must not be null");var b=new va(R);a===this.b?(Km(this,b,a.Ck,h,this.Ty,h,p,h),Km(this,b,a.kj,h,this.Ty,h,p,h)):a===this.group&&Km(this,b,a.sc,p,this.Ty,h,p,h);var c=b.count;if(0<c){a=this.b;a!==n&&a.Sb("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.Wc.x,e=d,g=this.Wc.y,i=0,j=0,b=b.f;b.next();){var k=b.value;k.ii();var l=k.pa.width,m=k.pa.height;k.move(new D(e,g));delete k.wA;e+=Math.max(l,50)+20;
j=Math.max(j,Math.max(m,50));i>=c-1?(i=0,e=d,g+=j+20,j=0):i++}a!==n&&a.Wd("Layout")}this.Ye=h};Rh.prototype.Ty=function(a){return!a.location.ca()||a instanceof T&&a.wA?h:p};function Km(a,b,c,d,e,g,i,j){for(c=c.f;c.next();){var k=c.value;if(!d||k.Wr)if(!e||e(k))k.wr()&&(g&&k instanceof S?k.fj||(k instanceof T&&k.Eb===n?Km(a,b,k.sc,p,e,g,i,j):b.add(k)):i&&k instanceof V?b.add(k):j&&(k.Zd()&&!(k instanceof S))&&b.add(k))}}v.a(Rh,"arrangementOrigin",Rh.prototype.Wc);
v.defineProperty(Rh,{Wc:"arrangementOrigin"},s("Io"),function(a){this.Io.z(a)||(t&&v.c(a,D,Rh,"arrangementOrigin"),this.Io.Xa(a),this.v())});function Lm(a,b){var c=a.group;if(c!==n){var d=c.location;if(isNaN(d.x)||isNaN(d.y))return b;var e=c.placeholder;e!==n?(d=e.Fb(dc),d.x+=e.padding.left,d.y+=e.padding.top):d=c.position.copy();return d}return b}function Im(){v.Tb(this);this.fd=n;this.clear()}v.J("LayoutNetwork",Im);
Im.prototype.clear=function(){if(this.lr)for(var a=this.lr.f;a.next();){var b=a.value;b.clear();b.p=n}if(this.jp)for(a=this.jp.f;a.next();)b=a.value,b.clear(),b.p=n;this.lr=new va(Mm);this.jp=new va(Nm);this.ax=new ra(S,Mm);this.Tw=new ra(V,Nm)};Im.prototype.toString=function(){return"LayoutNetwork"+(this.Eb!==n?"("+this.Eb.toString()+")":"")};v.m(Im,{Eb:"layout"},s("fd"));function Jm(a,b){t&&b!==n&&v.c(b,Rh,Im,"setLayout");a.fd=b}v.m(Im,{V:"vertexes"},s("lr"));v.m(Im,{Wb:"edges"},s("jp"));
Im.prototype.createVertex=Im.prototype.Vi=function(){return new Mm};Im.prototype.createEdge=Im.prototype.En=function(){return new Nm};
Im.prototype.addParts=Im.prototype.sr=function(a,b){if(a!==n){b===f&&(b=p);v.e(b,"boolean",Im,"addParts:toplevelonly");for(var c=a.f;c.next();){var d=c.value;if(d instanceof S&&(!b||d.Wr)&&d.wr()&&!d.fj)if(d instanceof T&&d.Eb===n)this.sr(d.sc,p);else if(this.ne(d)===n){var e=this.Vi();e.yg=d;this.ok(e)}}for(c.reset();c.next();)if(d=c.value,d instanceof V&&(!b||d.Wr)&&d.wr()&&this.Ou(d)===n){var g=d.ja,e=d.na;g!==e&&(g=this.Pu(g),e=this.Pu(e),g!==n&&e!==n&&this.Sl(g,e,d))}}};
Im.prototype.findGroupVertex=Im.prototype.Pu=function(a){if(a===n)return n;a=xl(a);if(a===n)return n;var b=this.ne(a);if(b!==n)return b;a=a.$a;return a!==n&&(b=this.ne(a),b!==n)?b:n};Im.prototype.addVertex=Im.prototype.ok=function(a){if(a!==n){t&&v.c(a,Mm,Im,"addVertex:vertex");this.lr.add(a);var b=a.Ja;b!==n&&this.ax.add(b,a);a.p=this}};Im.prototype.addNode=Im.prototype.qn=function(a){if(a===n)return n;t&&v.c(a,S,Im,"addNode:node");var b=this.ne(a);b===n&&(b=this.Vi(),b.yg=a,this.ok(b));return b};
Im.prototype.deleteVertex=Im.prototype.RB=function(a){if(a!==n&&(t&&v.c(a,Mm,Im,"deleteVertex:vertex"),Om(this,a))){for(var b=a.sf,c=b.count-1;0<=c;c--){var d=b.R(c);this.Fn(d)}b=a.Be;for(c=b.count-1;0<=c;c--)d=b.R(c),this.Fn(d)}};function Om(a,b){if(b===n)return p;var c=a.lr.remove(b);c&&(a.ax.remove(b.Ja),b.p=n);return c}Im.prototype.deleteNode=Im.prototype.EI=function(a){a!==n&&(t&&v.c(a,S,Im,"deleteNode:node"),a=this.ne(a),a!==n&&this.RB(a))};
Im.prototype.findVertex=Im.prototype.ne=function(a){if(a===n)return n;t&&v.c(a,S,Im,"findVertex:node");return this.ax.ga(a)};Im.prototype.addEdge=Im.prototype.pn=function(a){if(a!==n){t&&v.c(a,Nm,Im,"addEdge:edge");this.jp.add(a);var b=a.Ia;b!==n&&this.Ou(b)===n&&this.Tw.add(b,a);b=a.G;b!==n&&b.iB(a);b=a.I;b!==n&&b.eB(a);a.p=this}};
Im.prototype.addLink=Im.prototype.BH=function(a){if(a===n)return n;t&&v.c(a,V,Im,"addLink:link");var b=a.ja,c=a.na,d=this.Ou(a);d===n?(d=this.En(),d.Ia=a,b!==n&&(d.I=this.qn(b)),c!==n&&(d.G=this.qn(c)),this.pn(d)):(d.I=b!==n?this.qn(b):n,d.G=c!==n?this.qn(c):n);return d};Im.prototype.deleteEdge=Im.prototype.Fn=function(a){if(a!==n){t&&v.c(a,Nm,Im,"deleteEdge:edge");var b=a.G;b!==n&&b.QB(a);b=a.I;b!==n&&b.PB(a);Pm(this,a)}};function Pm(a,b){b!==n&&a.jp.remove(b)&&(a.Tw.remove(b.Ia),b.p=n)}
Im.prototype.deleteLink=Im.prototype.DI=function(a){a!==n&&(t&&v.c(a,V,Im,"deleteLink:link"),a=this.Ou(a),a!==n&&this.Fn(a))};Im.prototype.findEdge=Im.prototype.Ou=function(a){if(a===n)return n;t&&v.c(a,V,Im,"findEdge:link");return this.Tw.ga(a)};
Im.prototype.linkVertexes=Im.prototype.Sl=function(a,b,c){if(a===n||b===n)return n;t&&(v.c(a,Mm,Im,"linkVertexes:fromVertex"),v.c(b,Mm,Im,"linkVertexes:toVertex"),v.c(c,V,Im,"linkVertexes:link"));if(a.p===this&&b.p===this){var d=this.En();d.Ia=c;d.I=a;d.G=b;this.pn(d);return d}return n};Im.prototype.reverseEdge=Im.prototype.mv=function(a){if(a!==n){t&&v.c(a,Nm,Im,"reverseEdge:edge");var b=a.I,c=a.G;b===n||c===n||(b.PB(a),c.QB(a),a.mv(),b.iB(a),c.eB(a))}};
Im.prototype.deleteSelfEdges=Im.prototype.Ku=function(){for(var a=[],b=this.Wb.f;b.next();){var c=b.value;c.I===c.G&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.Fn(a[c])};Im.prototype.deleteArtificialVertexes=Im.prototype.zF=function(){for(var a=[],b=this.V.f;b.next();){var c=b.value;c.Ja===n&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.RB(a[b]);a=[];for(b=this.Wb.f;b.next();)c=b.value,c.Ia===n&&a.push(c);c=a.length;for(b=0;b<c;b++)this.Fn(a[b])};
Im.prototype.splitIntoSubNetworks=Im.prototype.eH=function(){this.zF();for(var a=[],b=this.Wb.f;b.next();){var c=b.value;(c.I===n||c.G===n)&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.Fn(a[c]);this.Ku();a=new z(Im);for(c=h;c;)for(var c=p,d=this.V.f;d.next();)if(b=d.value,0<b.sf.count||0<b.Be.count){c=this.Eb.createNetwork();a.add(c);Qm(this,c,b);c=h;break}a.sort(function(a,b){return a===n||b===n||a===b?0:b.V.count-a.V.count});return a};
function Qm(a,b,c){if(c!==n&&c.p!==b){Om(a,c);b.ok(c);for(var d=c.zb;d.next();){var e=d.value;e.p!==b&&(Pm(a,e),b.pn(e),Qm(a,b,e.I))}for(d=c.xb;d.next();)e=d.value,e.p!==b&&(Pm(a,e),b.pn(e),Qm(a,b,e.G))}}Im.prototype.getParts=Im.prototype.nJ=function(){for(var a=new va(R),b=this.V.f;b.next();)a.add(b.value.Ja);for(b=this.Wb.f;b.next();)a.add(b.value.Ia);return a};function Mm(){v.Tb(this);this.p=n;this.C=(new E(0,0,10,10)).freeze();this.B=(new D(5,5)).freeze();this.clear()}v.J("LayoutVertex",Mm);
Mm.prototype.clear=function(){this.Ja=n;this.sf=new z(Nm);this.Be=new z(Nm)};Mm.prototype.toString=function(){return"LayoutVertex#"+v.qc(this)+(this.Ja!==n?"("+this.Ja.toString()+")":"")};v.a(Mm,"network",Mm.prototype.Qc);v.defineProperty(Mm,{Qc:"network"},s("p"),function(a){this.p!==a&&(a!==n&&v.c(a,Im,Mm,"network"),this.p=a)});v.a(Mm,"node",Mm.prototype.yg);
v.defineProperty(Mm,{yg:"node"},s("Ja"),function(a){if(this.Ja!==a){t&&a!==n&&v.c(a,S,Mm,"node");this.Ja=a;a.ii();var b=a.pa;if(b.ca()&&(this.C.Xa(b),a=a.location,a.ca())){var c=this.B;c.wa();c.x=a.x-b.x;c.y=a.y-b.y;c.freeze()}}});v.a(Mm,"bounds",Mm.prototype.rb);v.defineProperty(Mm,{rb:"bounds"},s("C"),function(a){this.C.z(a)||(t&&v.c(a,E,Mm,"bounds"),this.C.Xa(a))});v.a(Mm,"focus",Mm.prototype.focus);v.defineProperty(Mm,{focus:"focus"},s("B"),function(a){this.B.z(a)||(t&&v.c(a,D,Mm,"focus"),this.B.Xa(a))});
v.a(Mm,"centerX",Mm.prototype.Da);v.defineProperty(Mm,{Da:"centerX"},function(){return this.C.x+this.B.x},function(a){var b=this.C;b.x+this.B.x!==a&&(t&&v.j(a,Mm,"centerX"),b.wa(),b.x=a-this.B.x,b.freeze())});v.a(Mm,"centerY",Mm.prototype.Ea);v.defineProperty(Mm,{Ea:"centerY"},function(){return this.C.y+this.B.y},function(a){var b=this.C;b.y+this.B.y!==a&&(t&&v.j(a,Mm,"centerY"),b.wa(),b.y=a-this.B.y,b.freeze())});v.a(Mm,"focusX",Mm.prototype.Su);
v.defineProperty(Mm,{Su:"focusX"},function(){return this.B.x},function(a){var b=this.B;b.x!==a&&(b.wa(),b.x=a,b.freeze())});v.a(Mm,"focusY",Mm.prototype.Tu);v.defineProperty(Mm,{Tu:"focusY"},function(){return this.B.y},function(a){var b=this.B;b.y!==a&&(b.wa(),b.y=a,b.freeze())});v.a(Mm,"x",Mm.prototype.x);v.defineProperty(Mm,{x:"x"},function(){return this.C.x},function(a){var b=this.C;b.x!==a&&(b.wa(),b.x=a,b.freeze())});v.a(Mm,"y",Mm.prototype.y);
v.defineProperty(Mm,{y:"y"},function(){return this.C.y},function(a){var b=this.C;b.y!==a&&(b.wa(),b.y=a,b.freeze())});v.a(Mm,"width",Mm.prototype.width);v.defineProperty(Mm,{width:"width"},function(){return this.C.width},function(a){var b=this.C;b.width!==a&&(b.wa(),b.width=a,b.freeze())});v.a(Mm,"height",Mm.prototype.height);v.defineProperty(Mm,{height:"height"},function(){return this.C.height},function(a){var b=this.C;b.height!==a&&(b.wa(),b.height=a,b.freeze())});
Mm.prototype.commit=Mm.prototype.ci=function(){var a=this.Ja;a!==n&&a.move(this.rb.position)};Mm.prototype.addSourceEdge=Mm.prototype.iB=function(a){a!==n&&(t&&v.c(a,Nm,Mm,"addSourceEdge:edge"),this.sf.contains(a)||this.sf.add(a))};Mm.prototype.deleteSourceEdge=Mm.prototype.QB=function(a){a!==n&&(t&&v.c(a,Nm,Mm,"deleteSourceEdge:edge"),this.sf.remove(a))};Mm.prototype.addDestinationEdge=Mm.prototype.eB=function(a){a!==n&&(t&&v.c(a,Nm,Mm,"addDestinationEdge:edge"),this.Be.contains(a)||this.Be.add(a))};
Mm.prototype.deleteDestinationEdge=Mm.prototype.PB=function(a){a!==n&&(t&&v.c(a,Nm,Mm,"deleteDestinationEdge:edge"),this.Be.remove(a))};v.m(Mm,{dH:"sourceVertexes"},function(){for(var a=new va(Mm),b=this.zb;b.next();){var c=b.value.I;c!==n&&!a.contains(c)&&a.add(c)}return a.f});v.m(Mm,{CF:"destinationVertexes"},function(){for(var a=new va(Mm),b=this.xb;b.next();){var c=b.value.G;c!==n&&!a.contains(c)&&a.add(c)}return a.f});
v.m(Mm,{V:"vertexes"},function(){for(var a=new va(Mm),b=this.zb;b.next();){var c=b.value,c=c.I;c!==n&&!a.contains(c)&&a.add(c)}for(b=this.xb;b.next();)c=b.value,c=c.G,c!==n&&!a.contains(c)&&a.add(c);return a.f});v.m(Mm,{zb:"sourceEdges"},function(){return this.sf.f});v.m(Mm,{xb:"destinationEdges"},function(){return this.Be.f});v.m(Mm,{Wb:"edges"},function(){for(var a=new z(Nm),b=this.zb;b.next();){var c=b.value;a.add(c)}for(b=this.xb;b.next();)c=b.value,a.add(c);return a.f});
v.m(Mm,{PF:"edgesCount"},function(){return this.sf.count+this.Be.count});var Rm;Mm.standardComparer=Rm=function(a,b){t&&v.c(a,Mm,Mm,"standardComparer:m");t&&v.c(b,Mm,Mm,"standardComparer:n");var c=a.Ja,d=b.Ja;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:d!==n?-1:0};
Mm.smartComparer=function(a,b){t&&v.c(a,Mm,Mm,"smartComparer:m");t&&v.c(b,Mm,Mm,"smartComparer:n");if(a!==n){if(b!==n){var c=a.Ja,d=b.Ja;if(c!==n){if(d!==n){var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;
else{if(isNaN(i))return-1;if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return d!==n?-1:0}return 1}return b!==n?-1:0};function Nm(){v.Tb(this);this.p=n;this.clear()}v.J("LayoutEdge",Nm);Nm.prototype.clear=function(){this.G=this.I=this.Ia=n};Nm.prototype.toString=function(){return"LayoutEdge#"+v.qc(this)+(this.Ia!==n?"("+this.Ia.toString()+")":"")};v.a(Nm,"network",Nm.prototype.Qc);
v.defineProperty(Nm,{Qc:"network"},s("p"),function(a){this.p!==a&&(t&&a!==n&&v.c(a,Im,Nm,"network"),this.p=a)});v.a(Nm,"link",Nm.prototype.link);v.defineProperty(Nm,{link:"link"},s("Ia"),function(a){this.Ia!==a&&(t&&a!==n&&v.c(a,V,Nm,"link"),this.Ia=a)});v.a(Nm,"fromVertex",Nm.prototype.WF);v.defineProperty(Nm,{WF:"fromVertex"},s("I"),function(a){this.I!==a&&(t&&a!==n&&v.c(a,Mm,Nm,"fromVertex"),this.I=a)});v.a(Nm,"toVertex",Nm.prototype.nH);
v.defineProperty(Nm,{nH:"toVertex"},s("G"),function(a){this.G!==a&&(t&&a!==n&&v.c(a,Mm,Nm,"toVertex"),this.G=a)});Nm.prototype.mv=function(){var a=this.I;this.I=this.G;this.G=a};Nm.prototype.commit=Nm.prototype.ci=aa();Nm.prototype.getOtherVertex=Nm.prototype.YF=function(a){t&&v.c(a,Mm,Nm,"getOtherVertex:v");return this.G===a?this.I:this.I===a?this.G:n};
function Wi(){Rh.call(this);this.cv=h;this.or=this.pr=NaN;this.vi=(new J(NaN,NaN)).freeze();this.Wg=(new J(10,10)).freeze();this.ra=hk;this.Ic=fk;this.fc=bk;this.cc=Sm}v.J("GridLayout",Wi);v.va(Wi,Rh);Wi.prototype.cloneProtected=Wi.prototype.qb=function(a){Rh.prototype.qb.call(this,a);a.pr=this.pr;a.or=this.or;a.vi=this.vi.F();a.Wg=this.Wg.F();a.ra=this.ra;a.Ic=this.Ic;a.fc=this.fc;a.cc=this.cc};
Wi.prototype.doLayout=Wi.prototype.Dr=function(a){var b=this.b;b===n&&v.g("The diagram for this layout is not set.");this.Wc=Lm(this,this.Wc);var c=new va(R);a===this.b?(Km(this,c,a.Ck,h,n,h,p,h),Km(this,c,a.links,h,n,h,p,h),Km(this,c,a.kj,h,n,h,p,h)):a===this.group&&Km(this,c,a.sc,p,n,h,p,h);for(a=c.copy().f;a.next();){var d=a.value;if(d instanceof V&&(d.ja!==n||d.na!==n))c.remove(d);else if(d.ii(),d instanceof T)for(d=d.sc;d.next();)c.remove(d.value)}c=c.Of();if(0!==c.length){switch(this.Kf){case ek:c.reverse();
break;case bk:c.sort(this.kh);break;case ck:c.sort(this.kh),c.reverse()}d=this.eE;isNaN(d)&&(d=0);a=this.yz;a=isNaN(a)?Math.max(this.b.ub.width-b.padding.left-b.padding.right,0):Math.max(this.yz,0);0>=d&&0>=a&&(d=1);var e=this.nj.width;isFinite(e)||(e=0);var g=this.nj.height;isFinite(g)||(g=0);b.Sb("Layout");switch(this.vb){case ik:var i=Math.max(this.tk.width,1);if(!isFinite(i))for(var j=i=0;j<c.length;j++)var k=c[j],l=k.qa,i=Math.max(i,l.width);var i=Math.max(i+e,1),m=Math.max(this.tk.height,1);
if(!isFinite(m))for(j=m=0;j<c.length;j++)k=c[j],l=k.qa,m=Math.max(m,l.height);for(var m=Math.max(m+g,1),q=this.Ud,r=this.Wc.x,u=r,x=this.Wc.y,y=0,C=0,j=0;j<c.length;j++){var k=c[j],l=k.qa,F=Math.ceil((l.width+e)/i)*i,H=Math.ceil((l.height+g)/m)*m,I;switch(q){case gk:I=Math.abs(u-l.width)+r;break;default:I=u+l.width-r}if(0<d&&y>d-1||0<a&&0<y&&I>a)y=0,u=r,x+=C,C=0;C=Math.max(C,H);switch(q){case gk:l=-l.width;break;default:l=0}k.move(new D(u+l,x));switch(q){case gk:u-=F;break;default:u+=F}y++}break;
case hk:i=Math.max(this.tk.width,1);for(k=j=y=x=0;k<c.length;k++)m=c[k],q=m.qa,r=yl(m,m.Gb,m.Ef),x=Math.max(x,r.x),y=Math.max(y,q.width-r.x),j=Math.max(j,r.y);u=this.Ud;switch(u){case gk:x+=e;break;default:y+=e}var i=isFinite(i)?Math.max(i+e,1):Math.max(x+y,1),M=x=this.Wc.x,y=this.Wc.y,F=C=0,l=Math.max(this.tk.height,1),H=j=0;I=h;for(k=0;k<c.length;k++){m=c[k];q=m.qa;r=yl(m,m.Gb,m.Ef);if(0<C)switch(u){case gk:M=Math.floor((M-x-(q.width-r.x))/i)*i+x;break;default:M=Math.ceil((M-x+r.x)/i)*i+x}else switch(u){case gk:F=
M+r.x+q.width;break;default:F=M-r.x}var U;switch(u){case gk:U=-(M+r.x)+x+F;break;default:U=M+q.width-r.x-x-F}if(0<d&&C>d-1||0<a&&0<C&&U>a){for(M=0;M<C&&k!==C;M++){U=c[k-C+M];var ma=yl(U,U.Gb,U.Ef);U.move(new D(U.position.x,U.position.y+j-ma.y))}H+=g;y=I?y+H:y+(H+j);C=H=j=0;M=x;I=p}j=Math.max(j,r.y);H=Math.max(H,q.height-r.y);isFinite(l)&&(H=Math.max(H,Math.max(q.height,l)-r.y));I?m.move(new D(M-r.x,y-r.y)):m.move(new D(M-r.x,y));switch(u){case gk:M-=r.x+e;break;default:M+=q.width-r.x+e}C++}for(M=
0;M<C&&k!==C;M++)U=c[k-C+M],ma=yl(U,U.Gb,U.Ef),U.move(new D(U.position.x,U.position.y+j-ma.y))}b.Wd("Layout");this.Ye=h}};v.a(Wi,"wrappingWidth",Wi.prototype.yz);v.defineProperty(Wi,{yz:"wrappingWidth"},s("pr"),function(a){if(this.pr!==a&&(0<a||isNaN(a)))this.pr=a,this.cv=isNaN(a),this.v()});v.a(Wi,"wrappingColumn",Wi.prototype.eE);v.defineProperty(Wi,{eE:"wrappingColumn"},s("or"),function(a){if(this.or!==a&&(0<a||isNaN(a)))this.or=a,this.v()});v.a(Wi,"cellSize",Wi.prototype.tk);
v.defineProperty(Wi,{tk:"cellSize"},s("vi"),function(a){this.vi.z(a)||(this.vi.Xa(a),this.v())});v.a(Wi,"spacing",Wi.prototype.nj);v.defineProperty(Wi,{nj:"spacing"},s("Wg"),function(a){this.Wg.z(a)||(this.Wg.Xa(a),this.v())});v.a(Wi,"alignment",Wi.prototype.vb);v.defineProperty(Wi,{vb:"alignment"},s("ra"),function(a){if(this.ra!==a&&(t&&v.c(a,pa,Wi,"alignment"),a===hk||a===ik))this.ra=a,this.v()});v.a(Wi,"arrangement",Wi.prototype.Ud);
v.defineProperty(Wi,{Ud:"arrangement"},s("Ic"),function(a){if(this.Ic!==a&&(t&&v.c(a,pa,Wi,"arrangement"),a===fk||a===gk))this.Ic=a,this.v()});v.a(Wi,"sorting",Wi.prototype.Kf);v.defineProperty(Wi,{Kf:"sorting"},s("fc"),function(a){if(this.fc!==a&&(t&&v.c(a,pa,Wi,"sorting"),a===dk||a===ek||a===bk||ck))this.fc=a,this.v()});v.a(Wi,"comparer",Wi.prototype.kh);v.defineProperty(Wi,{kh:"comparer"},s("cc"),function(a){this.cc!==a&&(t&&v.e(a,"function",Wi,"comparer"),this.cc=a,this.v())});var Sm;
Wi.standardComparer=Sm=function(a,b){t&&v.c(a,R,Wi,"standardComparer:a");t&&v.c(b,R,Wi,"standardComparer:b");var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
Wi.smartComparer=function(a,b){t&&v.c(a,R,Wi,"standardComparer:a");t&&v.c(b,R,Wi,"standardComparer:b");if(a!==n){if(b!==n){var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;else{if(isNaN(i))return-1;
if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return b!==n?-1:0};var ik;Wi.Position=ik=v.l(Wi,"Position",0);var hk;Wi.Location=hk=v.l(Wi,"Location",1);var fk;Wi.LeftToRight=fk=v.l(Wi,"LeftToRight",2);var gk;Wi.RightToLeft=gk=v.l(Wi,"RightToLeft",3);var dk;Wi.Forward=dk=v.l(Wi,"Forward",4);var ek;Wi.Reverse=ek=v.l(Wi,"Reverse",5);var bk;Wi.Ascending=bk=v.l(Wi,"Ascending",6);var ck;Wi.Descending=ck=v.l(Wi,"Descending",7);
function jk(){Rh.call(this);this.zw=this.xm=this.ic=0;this.ip=360;this.yw=vk;this.Ps=this.je=this.$A=this.Lj=0;this.ru=new Tm;this.Ss=this.Tm=0;this.FA=function(a){a||(a=(new Date).getTime());return(9301*a+49297)%233280/233280};this.AE=600;this.vq=NaN;this.Ko=1;this.Xg=0;this.Zg=360;this.Ic=vk;this.T=rk;this.fc=ok;this.cc=Rm;this.Wg=6;this.oq=yk}v.J("CircularLayout",jk);v.va(jk,Rh);
jk.prototype.cloneProtected=jk.prototype.qb=function(a){Rh.prototype.qb.call(this,a);a.vq=this.vq;a.Ko=this.Ko;a.Xg=this.Xg;a.Zg=this.Zg;a.Ic=this.Ic;a.T=this.T;a.fc=this.fc;a.cc=this.cc;a.Wg=this.Wg;a.oq=this.oq};jk.prototype.createNetwork=jk.prototype.Hu=function(){var a=new Um;Jm(a,this);return a};
jk.prototype.doLayout=jk.prototype.Dr=function(a){this.Qc===n&&(this.Qc=this.makeNetwork(a));if(1===this.p.V.count)a=this.p.V.R(0),a.Da=0,a.Ea=0;else{for(var a=this.p.V.f,b=new z(Vm);a.next();){var c=a.value,d=c.Ja;d!==n&&(c.width=d.ua.width,c.height=d.ua.height);b.add(c)}var a=new z(Vm),c=new z(Vm),b=this.sort(b),a=new z(Vm),c=new z(Vm),d=this.yw,e=this.sE,g=this.ic,i=this.xm,j=this.zw,k=this.ip,l=this.Lj,m=this.$A,q=this.je,r=this.Ps,d=this.Ud,e=this.hs,g=this.gD;if(!isFinite(g)||0>=g)g=NaN;i=this.oB;
if(!isFinite(i)||0>=i)i=1;j=this.qi;isFinite(j)||(j=0);k=this.pj;if(!isFinite(k)||360<k||1>k)k=360;l=this.nj;isFinite(l)||(l=NaN);d===wk&&e===xk?d=vk:d===wk&&e!==xk&&(e=xk,d=this.Ud);if((this.direction===pk||this.direction===qk)&&this.Kf!==ok){for(var u=0;!(u>=b.length);u+=2){a.add(b.R(u));if(u+1>=b.length)break;c.add(b.R(u+1))}this.direction===pk?(this.Ud===wk&&a.reverse(),b=new z(Vm),b.og(a),b.og(c)):(this.Ud===wk&&c.reverse(),b=new z(Vm),b.og(c),b.og(a))}for(var x=b.length,y=m=0,u=0;u<b.length;u++){var q=
j+k*y*(this.direction===rk?1:-1)/x,C=b.R(u).Se;isNaN(C)&&(C=Wm(b.R(u),q));if(360>k&&(0===u||u===b.length-1))C/=2;m+=C;y++}if(isNaN(g)||d===wk){isNaN(l)&&(l=6);if(d!==vk&&d!==wk){C=-Infinity;for(u=0;u<x;u++){var r=b.R(u),F=b.R(u===x-1?0:u+1);isNaN(r.Se)&&Wm(r,0);isNaN(F.Se)&&Wm(F,0);C=Math.max(C,(r.Se+F.Se)/2)}r=C+l;d===tk?(q=2*Math.PI/x,g=(C+l)/q):g=Xm(this,r*(360<=k?x:x-1),i,j*Math.PI/180,k*Math.PI/180)}else g=Xm(this,m+(360<=k?x:x-1)*(d!==wk?l:1.6*l),i,j*Math.PI/180,k*Math.PI/180);q=g*i}else if(q=
g*i,y=Ym(this,g,q,j*Math.PI/180,k*Math.PI/180),isNaN(l)){if(d===vk||d===wk)l=(y-m)/(360<=k?x:x-1)}else if(d===vk||d===wk)u=(y-m)/(360<=k?x:x-1),u<l?(g=Xm(this,m+l*(360<=k?x:x-1),i,j*Math.PI/180,k*Math.PI/180),q=g*i):l=u;else{C=-Infinity;for(u=0;u<x;u++)r=b.R(u),F=b.R(u===x-1?0:u+1),isNaN(r.Se)&&Wm(r,0),isNaN(F.Se)&&Wm(F,0),C=Math.max(C,(r.Se+F.Se)/2);r=C+l;u=Xm(this,r*(360<=k?x:x-1),i,j*Math.PI/180,k*Math.PI/180);u>g?(g=u,q=g*i):r=y/(360<=k?x:x-1)}this.yw=d;this.sE=e;this.ic=g;this.xm=i;this.zw=j;
this.ip=k;this.Lj=l;this.$A=m;this.je=q;this.Ps=r;c=[b,a,c];b=c[0];a=c[1];c=c[2];d=this.yw;e=this.ic;i=this.zw;j=this.ip;k=this.Lj;l=this.je;m=this.Ps;if((this.direction===pk||this.direction===qk)&&d===wk)Zm(this,b,j,i-j/2,rk);else if(this.direction===pk||this.direction===qk){g=0;switch(d){case uk:g=180*$m(this,e,l,i,m)/Math.PI;break;case vk:m=b=0;g=a.yb();g!==n&&(b=Wm(g,Math.PI/2));g=c.yb();g!==n&&(m=Wm(g,Math.PI/2));g=180*$m(this,e,l,i,k+(b+m)/2)/Math.PI;break;case tk:g=j/b.length}if(this.direction===
pk){switch(d){case uk:an(this,a,i,sk);break;case vk:bn(this,a,i,sk);break;case tk:cn(this,a,j/2,i,sk)}switch(d){case uk:an(this,c,i+g,rk);break;case vk:bn(this,c,i+g,rk);break;case tk:cn(this,c,j/2,i+g,rk)}}else{switch(d){case uk:an(this,c,i,sk);break;case vk:bn(this,c,i,sk);break;case tk:cn(this,c,j/2,i,sk)}switch(d){case uk:an(this,a,i+g,rk);break;case vk:bn(this,a,i+g,rk);break;case tk:cn(this,a,j/2,i+g,rk)}}}else switch(d){case uk:an(this,b,i,this.direction);break;case vk:bn(this,b,i,this.direction);
break;case tk:cn(this,b,j,i,this.direction);break;case wk:Zm(this,b,j,i,this.direction)}this.updateParts();this.Qc=n;this.Ye=h}};function cn(a,b,c,d,e){for(var g=a.ip,i=a.ic,a=a.je,d=d*Math.PI/180,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=d+(e===rk?k*c/(360<=g?j:j-1):-(k*c)/j),m=b.R(k),q=i*Math.tan(l)/a,q=Math.sqrt((i*i+a*a*q*q)/(1+q*q));m.Da=q*Math.cos(l);m.Ea=q*Math.sin(l);m.uu=180*l/Math.PI}}
function bn(a,b,c,d){for(var e=a.ic,g=a.je,i=a.Lj,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.R(k),m=b.R(k===j-1?0:k+1),q=g*Math.sin(c);l.Da=e*Math.cos(c);l.Ea=q;l.uu=180*c/Math.PI;isNaN(l.Se)&&Wm(l,0);isNaN(m.Se)&&Wm(m,0);l=$m(a,e,g,d===rk?c:-c,(l.Se+m.Se)/2+i);c+=d===rk?l:-l}}function an(a,b,c,d){for(var e=a.ic,g=a.je,i=a.Ps,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.R(k);l.Da=e*Math.cos(c);l.Ea=g*Math.sin(c);l.uu=180*c/Math.PI;l=$m(a,e,g,d===rk?c:-c,i);c+=d===rk?l:-l}}
function Zm(a,b,c,d,e){var g=a.Ss,g=a.ip;a.EA=0;a.ru=new Tm;if(360>c){for(g=d+(e===rk?g:-g);0>g;)g+=360;g%=360;180<g&&(g-=360);g*=Math.PI/180;a.Ss=g;dn(a,b,c,d,e)}else en(a,b,c,d,e);a.ru.ci(b)}
function en(a,b,c,d,e){for(var g=a.Lj,i=a.xm,j=a.ic*Math.cos(d*Math.PI/180),k=a.je*Math.sin(d*Math.PI/180),l=b.Of(),m=0;m<l.length;m++){l[m].Da=j;l[m].Ea=k;if(m===l.length-1)break;var q=[],q=fn(a,j,k,l,m,e);q[0]||(q=gn(a,j,k,l,m,e));j=q[1];k=q[2]}a.Tm++;if(!(128<a.Tm)){var j=l[0].Da,k=l[0].Ea,m=l[l.length-1].Da,q=l[l.length-1].Ea,r=Math.abs(j-m)-((l[0].width+l[l.length-1].width)/2+g),u=Math.abs(k-q)-((l[0].height+l[l.length-1].height)/2+g),g=0;2.5>Math.abs(u)?Math.abs(j-m)<(l[0].width+l[l.length-
1].width)/2&&(g=0):g=0<u?u:2.5>Math.abs(r)?0:r;r=p;r=Math.abs(m)>Math.abs(q)?0<m^k>q:0<q^j<m;if(r=e===rk?r:!r)g=-Math.abs(g),g=Math.min(g,-l[l.length-1].width),g=Math.min(g,-l[l.length-1].height);j=a.ru;if(0<g&&0>j.Bm||Math.abs(g)<Math.abs(j.Bm)&&!(0>g&&0<j.Bm)){j.Bm=g;j.wl=[];j.nn=[];for(k=0;k<l.length;k++)j.wl[k]=l[k].rb.x,j.nn[k]=l[k].rb.y}l=a.Tm;36<l&&0===l%13&&(a.ic*=(0===l%2?0.75:1.1)+0.15*a.FA(a.Tm),a.je=a.ic*i);2.5<Math.abs(g)&&(a.ic-=g/(2*Math.PI),a.je=a.ic*i,en(a,b,c,d,e))}}
function dn(a,b,c,d,e){for(var g=a.ic,i=a.je,j=a.xm,k=g*Math.cos(d*Math.PI/180),l=i*Math.sin(d*Math.PI/180),m=b.Of(),q=0;q<m.length;q++){m[q].Da=k;m[q].Ea=l;if(q===m.length-1)break;var r=[],r=fn(a,k,l,m,q,e);r[0]||(r=gn(a,k,l,m,q,e));k=r[1];l=r[2]}a.EA++;if(!(128<a.EA)){b.R(b.length-1);k=Math.atan2(l,k);k=e===rk?a.Ss-k:k-a.Ss;k=Math.abs(k)<Math.abs(k-2*Math.PI)?k:k-2*Math.PI;g=k*(g+i)/2;i=a.ru;if(Math.abs(g)<Math.abs(i.Bm)){i.Bm=g;i.wl=[];i.nn=[];for(k=0;k<m.length;k++)i.wl[k]=m[k].rb.x,i.nn[k]=m[k].rb.y}m=
a.Tm;36<m&&0===m%13&&(a.ic*=(0==m%2?0.75:1.1)+0.15*a.FA(a.Tm),a.je=a.ic*j);2.5<Math.abs(g)&&(a.ic-=g/(2*Math.PI),a.je=a.ic*j,dn(a,b,c,d,e))}}
function fn(a,b,c,d,e,g){var i=a.Lj,j=a.ic,a=a.je,k=0,l=0,m=p;if(0<=c^g===rk){if(k=b+((d[e].width+d[e+1].width)/2+i),k>j){k=b-((d[e].width+d[e+1].width)/2+i);if(k<-j)return[p,k,l];m=h}}else if(k=b-((d[e].width+d[e+1].width)/2+i),k<-j){k=b+((d[e].width+d[e+1].width)/2+i);if(k>j)return[p,k,l];m=h}l=Math.sqrt(1-k*k/(j*j))*a;0>c^m&&(l=-l);return Math.abs(c-l)>(d[e].height+d[e+1].height)/2?[p,k,l]:[h,k,l]}
function gn(a,b,c,d,e,g){var i=a.Lj,j=a.ic,a=a.je,k=0,l=0,m=p;if(0<=b^g===rk){if(l=c-((d[e].height+d[e+1].height)/2+i),l<-a){l=c+((d[e].height+d[e+1].height)/2+i);if(l>a)return[p,k,l];m=h}}else if(l=c+((d[e].height+d[e+1].height)/2+i),l>a){l=c-((d[e].height+d[e+1].height)/2+i);if(l<-a)return[p,k,l];m=h}k=Math.sqrt(1-l*l/(a*a))*j;0>b^m&&(k=-k);return Math.abs(b-k)>(d[e].width+d[e+1].width)/2?[p,k,l]:[h,k,l]}function Tm(){this.Bm=-Infinity;this.nn=this.wl=n}
Tm.prototype.ci=function(a){if(!(this.wl===n||this.nn===n))for(var b=0;b<this.wl.length;b++){var c=a.R(b);c.x=this.wl[b];c.y=this.nn[b]}};jk.prototype.commitLayout=jk.prototype.Eu=function(){this.commitNodes();this.commitLinks()};jk.prototype.commitNodes=jk.prototype.ey=function(){for(var a=this.LE,b=this.p.V.f,c;b.next();)c=b.value,c.x+=a.x,c.y+=a.y,c.ci()};jk.prototype.commitLinks=jk.prototype.dy=function(){for(var a=this.p.Wb.f;a.next();)a.value.ci()};
function Ym(a,b,c,d,e){var g=a.AE;if(0.0010>Math.abs(a.xm-1))return d!==f&&e!==f?e*b:2*Math.PI*b;var a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,j;j=d!==f&&e!==f?e/(g+1):Math.PI/(2*(g+1));for(var k=0;k<=g;k++)var l=Math.sin(d!==f&&e!==f?d+k*e/g:k*Math.PI/(2*g)),i=i+Math.sqrt(1-a*a*l*l)*j;return d!==f&&e!==f?(b>c?b:c)*i:4*(b>c?b:c)*i}function Xm(a,b,c,d,e){return b/(d!==f&&e!==f?Ym(a,1,c,d,e):Ym(a,1,c))}
function $m(a,b,c,d,e){if(0.0010>Math.abs(a.xm-1))return e/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,a=2*Math.PI/(700*a.p.V.count);b>c&&(d+=Math.PI/2);for(var j=0;;j++){var k=Math.sin(d+j*a),i=i+(b>c?b:c)*Math.sqrt(1-g*g*k*k)*a;if(i>=e)return j*a}return 0}
jk.prototype.sort=function(a){switch(this.Kf){case mk:break;case nk:a.reverse();break;case kk:a.sort(this.kh);break;case lk:a.sort(this.kh);a.reverse();break;case ok:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new z(Vm),c=0;c<a.length;c++){var e=-1,g=-1;if(0===c)for(var i=0;i<a.length;i++){var j=a.R(i).PF;j>e&&(e=j,g=i)}else for(i=0;i<a.length;i++)j=b[i],j>e&&(e=j,g=i);d.add(a.R(g));b[g]=-1;g=a.R(g);e=g.zb;for(g=g.xb;e.next();)i=e.value,i=i.I,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++;for(;g.next();)i=
g.value,i=i.G,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++}a=[];for(b=0;b<d.length;b++){j=d.R(b);a[b]=[];for(var c=j.xb,e=j.zb,k,l;c.next();)k=c.value,l=d.indexOf(k.G),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(;e.next();)k=e.value,l=d.indexOf(k.I),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}j=[];for(b=0;b<a.length;b++)j[b]=0;for(var c=[],m=[],q=[],e=[],g=new z(Vm),i=b=0;b<a.length;b++){var r=a[b].length;if(1===r)e.push(b);else if(0===r)g.add(d.R(b));else{if(0===i)c.push(b);else{for(var u=Infinity,x=Infinity,y=
-1,C=[],r=0;r<c.length;r++)if(0>a[c[r]].indexOf(c[r===c.length-1?0:r+1]))C.push(r===c.length-1?0:r+1);if(0===C.length)for(r=0;r<c.length;r++)C.push(r);for(r=0;r<C.length;r++){var F=C[r],H;l=a[b];k=m;H=q;for(var I=j,M=F,U=c,ma=0,da=0;da<k.length;da++){var Ba=I[k[da]],qa=I[H[da]],sa=0,Ga=0;Ba<qa?(sa=Ba,Ga=qa):(sa=qa,Ga=Ba);if(sa<M&&M<=Ga)for(Ba=0;Ba<l.length;Ba++)qa=l[Ba],0>U.indexOf(qa)||sa<I[qa]&&I[qa]<Ga||(sa===I[qa]||Ga===I[qa])||ma++;else for(Ba=0;Ba<l.length;Ba++)qa=l[Ba],0>U.indexOf(qa)||sa<
I[qa]&&I[qa]<Ga&&!(sa===I[qa]||Ga===I[qa])&&ma++}H=ma;for(k=I=0;k<a[b].length;k++)l=c.indexOf(a[b][k]),0<=l&&(l=Math.abs(F-(l>=F?l+1:l)),I+=l<c.length+1-l?l:c.length+1-l);for(k=0;k<m.length;k++)l=j[m[k]],M=j[q[k]],l>=F&&l++,M>=F&&M++,l>M&&(U=M,M=l,l=U),M-l<(c.length+2)/2^(l<F&&F<=M)||I++;if(H<u||H===u&&I<x)u=H,x=I,y=F}c.splice(y,0,b);for(r=0;r<c.length;r++)j[c[r]]=r;for(r=0;r<a[b].length;r++)u=a[b][r],0<=c.indexOf(u)&&(m.push(b),q.push(u))}i++}}m=p;for(q=c.length;;){m=h;for(j=0;j<e.length;j++)if(b=
e[j],r=a[b][0],l=c.indexOf(r),0<=l){for(i=x=0;i<a[r].length;i++)u=a[r][i],u=c.indexOf(u),0>u||u===l||(y=u>l?u-l:l-u,x+=u<l^y>q-y?1:-1);c.splice(0>x?l:l+1,0,b);e.splice(j,1);j--}else m=p;if(m)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],g.add(d.R(l));return g;default:v.g("Invalid sorting type.")}return a};v.a(jk,"radius",jk.prototype.gD);v.defineProperty(jk,{gD:"radius"},s("vq"),function(a){if(this.vq!==a&&(0<a||isNaN(a)))this.vq=a,this.v()});v.a(jk,"aspectRatio",jk.prototype.oB);
v.defineProperty(jk,{oB:"aspectRatio"},s("Ko"),function(a){this.Ko!==a&&0<a&&(this.Ko=a,this.v())});v.a(jk,"startAngle",jk.prototype.qi);v.defineProperty(jk,{qi:"startAngle"},s("Xg"),function(a){this.Xg!==a&&(this.Xg=a,this.v())});v.a(jk,"sweepAngle",jk.prototype.pj);v.defineProperty(jk,{pj:"sweepAngle"},s("Zg"),function(a){this.Zg!==a&&(this.Zg=0<a&&360>=a?a:360,this.v())});v.a(jk,"arrangement",jk.prototype.Ud);
v.defineProperty(jk,{Ud:"arrangement"},s("Ic"),function(a){if(this.Ic!==a&&(t&&v.c(a,pa,jk,"arrangement"),a===wk||a===vk||a===uk||a===tk))this.Ic=a,this.v()});v.a(jk,"direction",jk.prototype.direction);v.defineProperty(jk,{direction:"direction"},s("T"),function(a){if(this.T!==a&&(t&&v.c(a,pa,jk,"direction"),a===rk||a===sk||a===pk||a===qk))this.T=a,this.v()});v.a(jk,"sorting",jk.prototype.Kf);
v.defineProperty(jk,{Kf:"sorting"},s("fc"),function(a){if(this.fc!==a&&(t&&v.c(a,pa,jk,"sorting"),a===mk||a===nk||a===kk||lk||a===ok))this.fc=a,this.v()});v.a(jk,"comparer",jk.prototype.kh);v.defineProperty(jk,{kh:"comparer"},s("cc"),function(a){this.cc!==a&&(t&&v.e(a,"function",jk,"comparer"),this.cc=a,this.v())});v.a(jk,"spacing",jk.prototype.nj);v.defineProperty(jk,{nj:"spacing"},s("Wg"),function(a){this.Wg!==a&&(this.Wg=a,this.v())});v.a(jk,"nodeDiameterFormula",jk.prototype.hs);
v.defineProperty(jk,{hs:"nodeDiameterFormula"},s("oq"),function(a){if(this.oq!==a&&(t&&v.c(a,pa,jk,"nodeDiameterFormula"),a===yk||a===xk))this.oq=a,this.v()});v.m(jk,{ME:"actualXRadius"},s("ic"));v.m(jk,{NE:"actualYRadius"},s("je"));v.m(jk,{zH:"actualSpacing"},s("Lj"));v.m(jk,{LE:"actualCenter"},function(){return isNaN(this.Wc.x)||isNaN(this.Wc.y)?new D(0,0):new D(this.Wc.x+this.ME,this.Wc.y+this.NE)});var vk;jk.ConstantSpacing=vk=v.l(jk,"ConstantSpacing",0);var uk;
jk.ConstantDistance=uk=v.l(jk,"ConstantDistance",1);var tk;jk.ConstantAngle=tk=v.l(jk,"ConstantAngle",2);var wk;jk.Packed=wk=v.l(jk,"Packed",3);var rk;jk.Clockwise=rk=v.l(jk,"Clockwise",4);var sk;jk.Counterclockwise=sk=v.l(jk,"Counterclockwise",5);var pk;jk.BidirectionalLeft=pk=v.l(jk,"BidirectionalLeft",6);var qk;jk.BidirectionalRight=qk=v.l(jk,"BidirectionalRight",7);var mk;jk.Forwards=mk=v.l(jk,"Forwards",8);var nk;jk.Reverse=nk=v.l(jk,"Reverse",9);var kk;jk.Ascending=kk=v.l(jk,"Ascending",10);
var lk;jk.Descending=lk=v.l(jk,"Descending",11);var ok;jk.Optimized=ok=v.l(jk,"Optimized",12);var yk;jk.Pythagorean=yk=v.l(jk,"Pythagorean",13);var xk;jk.Circular=xk=v.l(jk,"Circular",14);function Um(){Im.call(this)}v.J("CircularNetwork",Um);v.va(Um,Im);Um.prototype.createVertex=Um.prototype.Vi=function(){return new Vm};Um.prototype.createEdge=Um.prototype.En=function(){return new hn};function Vm(){Mm.call(this);this.Gz=this.wm=NaN}v.J("CircularVertex",Vm);v.va(Vm,Mm);
function Wm(a,b){var c=a.p;if(c===n)return NaN;c=c.Eb;if(c===n)return NaN;if(c.Ud===wk)if(c.hs===xk)a.wm=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.wm=Math.min(a.height/c,a.width/d)}else a.wm=c.hs===xk?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.wm}v.a(Vm,"diameter",Vm.prototype.Se);v.defineProperty(Vm,{Se:"diameter"},s("wm"),ba("wm"));v.a(Vm,"actualAngle",Vm.prototype.uu);
v.defineProperty(Vm,{uu:"actualAngle"},s("Gz"),ba("Gz"));function hn(){Nm.call(this)}v.J("CircularEdge",hn);v.va(hn,Nm);function jn(){Rh.call(this);this.vf=n;this.Op=0;this.df=(new J(100,100)).freeze();this.Jo=p;this.pd=this.Vg=h;this.Rm=100;this.lp=1;this.zp=1E3;this.dp=0.05;this.cp=50;this.ap=150;this.bp=0;this.Zo=20;this.Yo=25}v.J("ForceDirectedLayout",jn);v.va(jn,Rh);
jn.prototype.cloneProtected=jn.prototype.qb=function(a){Rh.prototype.qb.call(this,a);a.df=this.df.F();a.Jo=this.Jo;a.Vg=this.Vg;a.pd=this.pd;a.Rm=this.Rm;a.lp=this.lp;a.zp=this.zp;a.dp=this.dp;a.cp=this.cp;a.ap=this.ap;a.bp=this.bp;a.Zo=this.Zo;a.Yo=this.Yo};jn.prototype.createNetwork=jn.prototype.Hu=function(){var a=new kn;Jm(a,this);return a};
jn.prototype.doLayout=jn.prototype.Dr=function(a){this.Qc===n&&(this.Qc=this.makeNetwork(a));a=this.dv;if(0<this.p.V.count){this.p.Ku();for(var b=this.p.V.f;b.next();){var c=b.value;c.xi=this.electricalCharge(c);c.Qm=this.gravitationalMass(c);var d=c.Ja;if(d!==n){var e=d.pa.width,d=d.pa.height;c.width=e;c.height=d;c.Su=0.5*e;c.Tu=0.5*d}}for(b=this.p.Wb.f;b.next();)c=b.value,c.Yq=this.springStiffness(c),c.Kh=this.springLength(c);this.Op=0;a:{if(!(3>this.p.V.count)){e=b=0;c=this.p.V.f;c.next();for(d=
c.value.C;c.next();){if(c.value.C.Xe(d)&&(b++,1<b)){b=h;break a}if(10<e)break;e++}}b=p}if(b){b=this.p;for(e=b.eH().f;e.next();){this.Qc=d=e.value;for(c=this.p.V.f;c.next();){for(var d=c.value,g=0,i=d.V;i.next();)g++;d.Fe=g;d.Li=1;d.Uk=n;d.lg=n}ln(this,0,a)}this.Qc=b;e.reset();t&&v.c(b,kn,jn,"arrangeConnectedGraphs:singletons");for(var c=this.zu,j=e.count,d=h,i=g=0,k=[],l=0;l<j+b.V.count+2;l++)k[l]=n;j=0;for(e.reset();e.next();){var m=e.value,l=this.Qe(m);if(d)d=p,g=l.x+l.width/2,i=l.y+l.height/2,
k[0]=new D(l.right+c.width,l.top),k[1]=new D(l.left,l.bottom+c.height),j=2;else{var q=mn(k,j,new D(g,i),new J(l.width,l.height),c),r=k[q],u=new D(r.x+l.width+c.width,r.y),x=new D(r.x,r.y+l.height+c.height);q+1<j&&k.splice(q+1,0,n);k[q]=u;k[q+1]=x;j++;q=r.x-l.x;l=r.y-l.y;for(m=m.V.f;m.next();){var y=m.value;y.Da+=q;y.Ea+=l}}}for(m=b.V.f;m.next();)y=m.value,l=y.C,2>j?(g=l.x+l.width/2,i=l.y+l.height/2,k[0]=new D(l.right+c.width,l.top),k[1]=new D(l.left,l.bottom+c.height),j=2):(q=mn(k,j,new D(g,i),new J(l.width,
l.height),c),r=k[q],u=new D(r.x+l.width+c.width,r.y),x=new D(r.x,r.y+l.height+c.height),q+1<j&&k.splice(q+1,0,n),k[q]=u,k[q+1]=x,j++,y.Da=r.x+y.width/2,y.Ea=r.y+y.height/2);for(e.reset();e.next();){d=e.value;for(g=d.V.f;g.next();)c=g.value,b.ok(c);for(d=d.Wb.f;d.next();)c=d.value,b.pn(c)}}nn(this,a);this.updateParts()}this.Rm=a;this.Qc=n;this.Ye=h};jn.prototype.Qe=function(a){t&&v.c(a,kn,jn,"computeBounds:net");for(var b=new E,c=h,a=a.V.f;a.next();){var d=a.value;c?(c=p,b.set(d.C)):b.rj(d.C)}return b};
function on(a,b,c){t&&(v.j(b,jn,"computeClusterLayoutIterations:level"),v.j(c,jn,"computeClusterLayoutIterations:maxiter"));return Math.max(Math.min(a.p.V.count,c*(b+1)/11),10)}
function ln(a,b,c){t&&(v.j(b,jn,"layoutClusters:level"),v.j(c,jn,"layoutClusters:maxiter"));var d;t&&v.j(b,jn,"hasClusters:level");if(10<b||3>a.p.V.count)d=p;else{a.vf===n?a.vf=new z(pn):a.vf.clear();a.vf.og(a.p.V);d=a.vf;d.sort(function(a,b){return a===n||b===n||a===b?0:b.Fe-a.Fe});for(var e=d.count-1;0<=e&&1>=d.i[e].Fe;)e--;d=1<d.count-e}if(d){d=a.Ol;a.Ol*=1+1/(b+1);t&&v.j(b,jn,"pushSubNetwork:level");for(var e=a.p,g=new kn,i=a.vf.f;i.next();){var j=i.value;if(1<j.Fe){g.ok(j);var k={Bz:j.Fe,Cz:j.width,
Az:j.height,gE:j.B.x,hE:j.B.y};j.lg===n&&(j.lg=new z);j.lg.add(k);j.nx=j.lg.count-1}else break}for(var l=e.Wb.f;l.next();){var m=l.value;if(m.I.p===g&&m.G.p===g)g.pn(m);else if(m.I.p===g){var q=m.I.Uk;q===n&&(q=new z(pn),m.I.Uk=q);q.add(m.G);m.I.Fe--;m.I.Li+=m.G.Li}else m.G.p===g&&(q=m.G.Uk,q===n&&(q=new z(pn),m.G.Uk=q),q.add(m.I),m.G.Fe--,m.G.Li+=m.I.Li)}for(l=g.Wb.f;l.next();)m=l.value,m.Kh*=Math.max(1,Math.sqrt((m.I.Li+m.G.Li)/(4*b+1)));for(i=g.V.f;i.next();)if(j=i.value,q=j.Uk,q!==n&&0<q.count&&
(k=j.lg.i[j.lg.count-1],k=k.Bz-j.Fe,!(0>=k))){for(var r=0,u=0,x=q.count-k;x<q.count;x++){for(var y=q.i[x],m=n,l=y.Wb.f;l.next();){var C=l.value;if(C.YF(y)===j){m=C;break}}m!==n&&(u+=m.Kh,r+=y.width*y.height)}q=j.Da;l=j.Ea;m=j.width;x=j.height;y=j.B;C=m*x;1>C&&(C=1);r=Math.sqrt((r+C+4*u*u/(k*k))/C);k=(r-1)*m/2;r=(r-1)*x/2;j.rb=new E(q-y.x-k,l-y.y-r,m+2*k,x+2*r);j.focus=new D(y.x+k,y.y+r)}a.Qc=g;g=Math.max(0,on(a,b,c));a.dv+=g;ln(a,b+1,c);nn(a,g);t&&(v.c(e,kn,jn,"popNetwork:oldnet"),v.j(b,jn,"popNetwork:level"));
for(c=a.p.V.f;c.next();)g=c.value,g.p=e,g.lg!==n&&(i=g.lg.i[g.nx],g.Fe=i.Bz,j=i.gE,k=i.hE,g.rb=new E(g.Da-j,g.Ea-k,i.Cz,i.Az),g.focus=new D(j,k),g.nx--);for(c=a.p.Wb.f;c.next();)c.value.p=e;a.Qc=e;c=a.vf;c===n?c=new z(pn):c.clear();c.og(e.V);c.sort(function(a,b){return a===n||b===n||a===b?0:b.Fe-a.Fe});for(e=c.f;e.next();)qn(a,e.value,b);a.Ol=d}}
function qn(a,b,c){t&&(v.c(b,pn,jn,"surroundNode:oldnet"),v.j(c,jn,"surroundNode:level"));var d=b.Uk;if(!(d===n||0===d.count)){var c=b.Da,e=b.Ea,g=b.width,i=b.height;b.lg!==n&&0<b.lg.count&&(i=b.lg.i[0],g=i.Cz,i=i.Az);for(var g=Math.sqrt(g*g+i*i)/2,j=p,k=i=0,l=0,m=b.V.f;m.next();){var q=m.value;1>=q.Fe?k++:(j=h,l++,i+=Math.atan2(b.Ea-q.Ea,b.Da-q.Da))}if(0!==k){0<l&&(i/=l);l=b=0;b=j?2*Math.PI/(k+1):2*Math.PI/k;0===k%2&&(l=b/2);1<d.count&&d.sort(function(a,b){return a===n||b===n||a===b?0:b.width*b.height-
a.width*a.height});j=0===k%2?0:1;for(m=d.f;m.next();)if(q=m.value,!(1<q.Fe)&&!a.isFixed(q)){d=n;for(k=q.Wb.f;k.next();){d=k.value;break}var k=q.width,r=q.height,d=g+d.Kh+Math.sqrt(k*k+r*r)/2,k=i+(b*(j/2>>1)+l)*(0==j%2?1:-1);q.Da=c+d*Math.cos(k);q.Ea=e+d*Math.sin(k);j++}}}}
function mn(a,b,c,d,e){var g=9E19,i=-1,j=0;a:for(;j<b;j++){var k=a[j],l=k.x-c.x,m=k.y-c.y,l=l*l+m*m;if(l<g){for(m=j-1;0<=m;m--)if(a[m].y>k.y&&a[m].x-k.x<d.width+e.width)continue a;for(m=j+1;m<b;m++)if(a[m].x>k.x&&a[m].y-k.y<d.height+e.height)continue a;i=j;g=l}}return i}jn.prototype.dB=function(a){var b=a.Ja;if(b!==n)for(b=b.dC();b.next();){var c=b.value;if("Comment"===c.vd){var d=this.p.ne(c);d===n&&(d=this.p.qn(c),d.xi=this.HB,c=this.p.Sl(a,d,n),c!==n&&(c.Kh=this.IB))}}};
function rn(a,b){t&&(v.c(a,pn,jn,"getNodeDistance:vertexA"),v.c(b,pn,jn,"getNodeDistance:vertexB"));var c=a.rb,d=c.x,e=c.y,g=c.width,c=c.height,i=b.rb,j=i.x,k=i.y,l=i.width,i=i.height;return d+g<j?e>k+i?(d=d+g-j,e=e-k-i,Math.sqrt(d*d+e*e)):e+c<k?(d=d+g-j,e=e+c-k,Math.sqrt(d*d+e*e)):j-(d+g):d>j+l?e>k+i?(d=d-j-l,e=e-k-i,Math.sqrt(d*d+e*e)):e+c<k?(d=d-j-l,e=e+c-k,Math.sqrt(d*d+e*e)):d-(j+l):e>k+i?e-(k+i):e+c<k?k-(e+c):0.1}
function nn(a,b){t&&v.j(b,jn,"performIterations:num");a.vf=n;for(var c=a.Op+b;a.Op<c&&!(a.Op++,!sn(a)););a.vf=n}
function sn(a){a.vf===n&&(a.vf=new z(pn),a.vf.og(a.p.V));var b=a.vf;if(0>=b.count)return p;var c=b.i[0];c.zd=0;c.Ad=0;for(var d=c.Da,e=d,g=c.Ea,i=g,c=1;c<b.count;c++){var j=b.i[c];j.zd=0;j.Ad=0;var k=j.Da,j=j.Ea,d=Math.min(d,k),e=Math.max(e,k),g=Math.min(g,j),i=Math.max(i,j)}(i=e-d>i-g)?b.sort(function(a,b){return a===n||b===n||a===b?0:a.Da-b.Da}):b.sort(function(a,b){return a===n||b===n||a===b?0:a.Ea-b.Ea});for(var l=0,m=k=0,c=0;c<b.count;c++){j=b.i[c];d=j.Da;e=j.Ea;k=j.xi*a.electricalFieldX(d,e);
m=j.xi*a.electricalFieldY(d,e);j.zd+=k;j.Ad+=m;k=j.Qm*a.gravitationalFieldX(d,e);m=j.Qm*a.gravitationalFieldY(d,e);j.zd+=k;j.Ad+=m;for(var q=a.Ol,r=c+1;r<b.count;r++)if(g=b.i[r],g!==j){var m=g.Da,u=g.Ea;if(Math.abs(d-m)>q){if(i)break}else if(Math.abs(e-u)>q){if(!i)break}else{var x=rn(j,g);1>x?(d>m?(k=Math.abs(g.C.right-j.C.left),k=tn(1+k)):d<m?(k=Math.abs(g.C.left-j.C.right),k=-tn(1+k)):(k=Math.max(g.width,j.width),k=tn(1+k)-k/2),e>u?(m=Math.abs(g.C.bottom-j.C.top),m=tn(1+m)):d<m?(m=Math.abs(g.C.top-
j.C.bottom),m=-tn(1+m)):(m=Math.max(g.height,j.height),m=tn(1+m)-m/2)):(l=-(j.xi*g.xi)/(x*x),k=l*((m-d)/x),m=l*((u-e)/x));j.zd+=k;j.Ad+=m;g.zd-=k;g.Ad-=m}}}for(c=a.p.Wb.f;c.next();)i=c.value,j=i.I,g=i.G,d=j.Da,e=j.Ea,m=g.Da,u=g.Ea,x=rn(j,g),1>x?(k=(d>m?1:-1)*tn(1+Math.max(g.width,j.width)),m=(e>u?1:-1)*tn(1+Math.max(g.height,j.height))):(l=i.Yq*(x-i.Kh),k=l*((m-d)/x),m=l*((u-e)/x)),j.zd+=k,j.Ad+=m,g.zd-=k,g.Ad-=m;c=0;d=Math.max(a.Ol/20,50);for(e=0;e<b.count;e++)j=b.i[e],a.isFixed(j)||(g=j.zd,i=j.Ad,
g<-d?g=-d:g>d&&(g=d),i<-d?i=-d:i>d&&(i=d),j.Da+=g,j.Ea+=i,c=Math.max(c,g*g+i*i));return c>a.qy*a.qy}function tn(a){t&&v.j(a,jn,"randNext:max");return Math.floor(a*Math.random())}jn.prototype.commitLayout=jn.prototype.Eu=function(){this.jz();this.commitNodes();this.commitLinks()};jn.prototype.jz=function(){if(this.am)for(var a=this.p.Wb.f;a.next();){var b=a.value.Ia;b!==n&&(b.bb=cc,b.eb=cc)}};
jn.prototype.commitNodes=jn.prototype.ey=function(){var a=0,b=0;if(this.nB)var b=this.Qe(this.p),c=this.Wc,a=c.x-b.x,b=c.y-b.y;for(var c=new E,d=this.p.V.f;d.next();){var e=d.value;if(0!==a||0!==b)c.set(e.C),c.x+=a,c.y+=b,e.rb=c;e.ci()}};jn.prototype.commitLinks=jn.prototype.dy=function(){for(var a=this.p.Wb.f;a.next();)a.value.ci()};jn.prototype.springStiffness=jn.prototype.JK=function(a){a=a.Yq;return!isNaN(a)?a:this.MB};
jn.prototype.springLength=jn.prototype.IK=function(a){a=a.Kh;return!isNaN(a)?a:this.LB};jn.prototype.electricalCharge=jn.prototype.RI=function(a){a=a.xi;return!isNaN(a)?a:this.JB};jn.prototype.electricalFieldX=jn.prototype.SI=ca(0);jn.prototype.electricalFieldY=jn.prototype.TI=ca(0);jn.prototype.gravitationalMass=jn.prototype.qJ=function(a){a=a.Qm;return!isNaN(a)?a:this.KB};jn.prototype.gravitationalFieldX=jn.prototype.oJ=ca(0);jn.prototype.gravitationalFieldY=jn.prototype.pJ=ca(0);
jn.prototype.isFixed=jn.prototype.BC=function(a){return a.Ow};v.m(jn,{BI:"currentIteration"},s("Op"));v.a(jn,"arrangementSpacing",jn.prototype.zu);v.defineProperty(jn,{zu:"arrangementSpacing"},s("df"),function(a){this.df.z(a)||(this.df.Xa(a),this.v())});v.a(jn,"arrangesToOrigin",jn.prototype.nB);v.defineProperty(jn,{nB:"arrangesToOrigin"},s("Jo"),function(a){this.Jo!==a&&(this.Jo=a,this.v())});v.a(jn,"setsPortSpots",jn.prototype.am);
v.defineProperty(jn,{am:"setsPortSpots"},s("Vg"),function(a){this.Vg!==a&&(this.Vg=a,this.v())});v.a(jn,"comments",jn.prototype.cy);v.defineProperty(jn,{cy:"comments"},s("pd"),function(a){this.pd!==a&&(this.pd=a,this.v())});v.a(jn,"maxIterations",jn.prototype.dv);v.defineProperty(jn,{dv:"maxIterations"},s("Rm"),function(a){this.Rm!==a&&0<=a&&(this.Rm=a,this.v())});v.a(jn,"epsilonDistance",jn.prototype.qy);
v.defineProperty(jn,{qy:"epsilonDistance"},s("lp"),function(a){this.lp!==a&&0<a&&(this.lp=a,this.v())});v.a(jn,"infinityDistance",jn.prototype.Ol);v.defineProperty(jn,{Ol:"infinityDistance"},s("zp"),function(a){this.zp!==a&&1<a&&(this.zp=a,this.v())});v.a(jn,"defaultSpringStiffness",jn.prototype.MB);v.defineProperty(jn,{MB:"defaultSpringStiffness"},s("dp"),function(a){this.dp!==a&&(this.dp=a,this.v())});v.a(jn,"defaultSpringLength",jn.prototype.LB);
v.defineProperty(jn,{LB:"defaultSpringLength"},s("cp"),function(a){this.cp!==a&&(this.cp=a,this.v())});v.a(jn,"defaultElectricalCharge",jn.prototype.JB);v.defineProperty(jn,{JB:"defaultElectricalCharge"},s("ap"),function(a){this.ap!==a&&(this.ap=a,this.v())});v.a(jn,"defaultGravitationalMass",jn.prototype.KB);v.defineProperty(jn,{KB:"defaultGravitationalMass"},s("bp"),function(a){this.bp!==a&&(this.bp=a,this.v())});v.a(jn,"defaultCommentSpringLength",jn.prototype.IB);
v.defineProperty(jn,{IB:"defaultCommentSpringLength"},s("Zo"),function(a){this.Zo!==a&&(this.Zo=a,this.v())});v.a(jn,"defaultCommentElectricalCharge",jn.prototype.HB);v.defineProperty(jn,{HB:"defaultCommentElectricalCharge"},s("Yo"),function(a){this.Yo!==a&&(this.Yo=a,this.v())});function kn(){Im.call(this)}v.J("ForceDirectedNetwork",kn);v.va(kn,Im);kn.prototype.createVertex=kn.prototype.Vi=function(){return new pn};kn.prototype.createEdge=kn.prototype.En=function(){return new un};
function pn(){Mm.call(this);this.Ow=p;this.Qm=this.xi=NaN;this.Li=this.Fe=this.Ad=this.zd=0;this.lg=this.Uk=n;this.nx=0}v.J("ForceDirectedVertex",pn);v.va(pn,Mm);v.a(pn,"isFixed",pn.prototype.BC);v.defineProperty(pn,{BC:"isFixed"},s("Ow"),ba("Ow"));v.a(pn,"charge",pn.prototype.nF);v.defineProperty(pn,{nF:"charge"},s("xi"),ba("xi"));v.a(pn,"mass",pn.prototype.zG);v.defineProperty(pn,{zG:"mass"},s("Qm"),ba("Qm"));v.a(pn,"forceX",pn.prototype.SF);v.defineProperty(pn,{SF:"forceX"},s("zd"),ba("zd"));
v.a(pn,"forceY",pn.prototype.TF);v.defineProperty(pn,{TF:"forceY"},s("Ad"),ba("Ad"));function un(){Nm.call(this);this.Kh=this.Yq=NaN}v.J("ForceDirectedEdge",un);v.va(un,Nm);v.a(un,"stiffness",un.prototype.gH);v.defineProperty(un,{gH:"stiffness"},s("Yq"),ba("Yq"));v.a(un,"length",un.prototype.length);v.defineProperty(un,{length:"length"},s("Kh"),ba("Kh"));
function Y(){Rh.call(this);this.bd=this.rd=25;this.T=0;this.rm=vn;this.Mm=wn;this.Gm=xn;this.fl=4;this.jm=yn;this.Rh=zn;this.Vg=h;this.fb=this.ut=this.Ta=-1;this.Ee=this.eq=0;this.ed=this.Ce=this.cg=this.Sg=this.dd=n;this.lq=0;this.Ft=this.kl=n;this.nf=0;this.mq=n;this.gg=[];this.gg.length=100}v.J("LayeredDigraphLayout",Y);v.va(Y,Rh);
Y.prototype.cloneProtected=Y.prototype.qb=function(a){Rh.prototype.qb.call(this,a);a.rd=this.rd;a.bd=this.bd;a.T=this.T;a.rm=this.rm;a.Mm=this.Mm;a.Gm=this.Gm;a.fl=this.fl;a.jm=this.jm;a.Rh=this.Rh;a.Vg=this.Vg};Y.prototype.createNetwork=Y.prototype.Hu=function(){var a=new An;Jm(a,this);return a};
Y.prototype.doLayout=Y.prototype.Dr=function(a){this.Qc===n&&(this.Qc=this.makeNetwork(a));this.Wc=Lm(this,this.Wc);this.ut=-1;this.Ee=this.eq=0;this.mq=this.Ft=this.kl=n;var b;for(b=0;b<this.gg.length;b++)this.gg[b]=n;if(0<this.p.V.count){this.p.Ku();for(var c=this.p.Wb.f;c.next();)c.value.pb=p;switch(this.rm){default:case Bn:var d=0,e=this.p.V.count-1,g=[];g.length=e+1;for(var i=this.p.V.f;i.next();)i.value.sa=h;for(;Cn(this.p)!==n;){var j;for(j=Dn(this.p);j!==n;)g[e]=j,e--,j.sa=p,j=Dn(this.p);
for(j=En(this.p);j!==n;)g[d]=j,d++,j.sa=p,j=En(this.p);t&&v.c(this.p,Im,Y,"greedyCycleRemovalFindNodeMaxDegDiff:network");for(var k=n,l=0,m=this.p.V.f;m.next();){var q=m.value;if(q.sa){for(var r=0,u=q.xb;u.next();)u.value.G.sa&&r++;for(var x=0,y=q.zb;y.next();)y.value.I.sa&&x++;if(k===n||l<r-x)k=q,l=r-x}}j=k;j!==n&&(g[d]=j,d++,j.sa=p)}var C;for(C=0;C<this.p.V.count;C++)g[C].U=C;for(var F=this.p.Wb.f;F.next();){var H=F.value;H.I.U>H.G.U&&(this.p.mv(H),H.pb=h)}break;case vn:for(var I=this.p.V.f;I.next();)I.value.Kj=
-1,I.value.zm=-1;for(var M=this.p.Wb.f;M.next();)M.value.op=p;this.lq=0;for(I.reset();I.next();)0===I.value.zb.count&&Fn(this,I.value);for(I.reset();I.next();)-1===I.value.Kj&&Fn(this,I.value);for(M.reset();M.next();){var U=M.value;if(!U.op){var ma=U.I,da=ma.zm,Ba=U.G,qa=Ba.zm;Ba.Kj<ma.Kj&&da<qa&&(this.p.mv(U),U.pb=h)}}}for(var sa=this.p.V.f,Ga;sa.next();){Ga=sa.value;Ga.w=-1;var mb=Ga.Ja;if("undefined"!==typeof mb&&mb!==n){var db=mb.pa.width,vb=mb.pa.height;Ga.width=db;Ga.height=vb;Ga.Su=0.5*db;
Ga.Tu=0.5*vb}}this.Ta=-1;switch(this.Mm){case Gn:Hn(this);break;case In:for(var gb,Ra=this.p.V.f;Ra.next();)gb=Jn(this,Ra.value),this.Ta=Math.max(gb,this.Ta);Ra.reset();for(var Db;Ra.next();)Db=Ra.value,Db.w=this.Ta-Db.w;break;default:case wn:Hn(this);for(var Ta=this.p.V.f;Ta.next();)Ta.value.sa=p;for(Ta.reset();Ta.next();)0===Ta.value.zb.count&&Kn(this,Ta.value);var bd=Infinity;for(Ta.reset();Ta.next();)bd=Math.min(bd,Ta.value.w);this.Ta=-1;for(Ta.reset();Ta.next();)Ta.value.w-=bd,this.Ta=Math.max(this.Ta,
Ta.value.w)}for(sa.reset();sa.next();)this.Ta=Math.max(this.Ta,sa.value.w);for(var Ld=this.p.Wb.f,Xa,Lf=[];Ld.next();)Xa=Ld.value,Xa.sa=p,Lf.push(Xa);for(var md=0;md<Lf.length;md++)if(Xa=Lf[md],!Xa.sa&&!((Xa.I.Ja===n||Xa.G.Ja===n)&&Xa.I.w===Xa.G.w)){var Od,Vc,he,He;Od=Vc=he=He=0;var ec=Xa.I,Ic=Xa.G;if(Xa.Ia!==n){var fc=Xa.Ia;if(fc===n)continue;var yd=ec.Ja,dd=Ic.Ja;if(yd===n||dd===n)continue;var ie=fc.ja,je=fc.na,ke=fc.Oc,gf=fc.yd;if(Xa.pb)var lg=ie,Fg=ke,ie=je,ke=gf,je=lg,gf=Fg;var le=ec.B.copy(),
nd=Xa.G.B.copy(),Mf=Xa.pb?Ic.C.copy():ec.C.copy(),Pd=isNaN(Mf.x)?le.copy():yl(ie,ke,jc);if(yd!==ie&&!isNaN(Mf.x)&&ie.ib()){var ed=ec.C.copy();isNaN(ed.x)||(Pd.x+=Mf.x-ed.x,Pd.y+=Mf.y-ed.y)}var nb=Xa.pb?ec.C.copy():Ic.C.copy(),nc=isNaN(nb.x)?nd.copy():yl(je,gf,jc);if(dd!==je&&!isNaN(nb.x)&&je.ib()){var od=Ic.C;isNaN(od.x)||(nc.x+=nb.x-od.x,nc.y+=nb.y-od.y)}90===this.T||270===this.T?(Od=Math.round((Pd.x-le.x)/this.bd),he=Pd.x,Vc=Math.round((nc.x-nd.x)/this.bd),He=nc.x):(Od=Math.round((Pd.y-le.y)/this.bd),
he=Pd.y,Vc=Math.round((nc.y-nd.y)/this.bd),He=nc.y);Xa.Ge=Od;Xa.He=he;Xa.ge=Vc;Xa.Je=He}else Xa.Ge=0,Xa.He=0,Xa.ge=0,Xa.Je=0;var Wc=ec.w,mg=Ic.w,ab,$b=Xa;t&&v.c($b,Ln,Y,"_goesAround:edge");var Jc=0,Kc=$b.Ia;if(Kc!==n){if(Kc.Oc!==n){var Qd=Kc.ja;em(Kc)===Mn(this,$b,h)?Jc+=1:this.am&&Qd!==n&&1===Qd.ports.count&&$b.pb&&(Jc+=1)}if(Kc.yd!==n){var Rd=Kc.na;fm(Kc)===Mn(this,$b,p)?Jc+=2:this.am&&Rd!==n&&1===Rd.ports.count&&$b.pb&&(Jc+=2)}}ab=Jc;var Tb=1===ab||3===ab?h:p,Ub=2===ab||3===ab?h:p,$a,yb;Ub&&(yb=
this.p.Vi(),yb.Ja=n,yb.Qk=1,yb.w=Wc,yb.Ii=ec,this.p.ok(yb),$a=this.p.Sl(ec,yb,Xa.Ia),$a.sa=p,$a.pb=Xa.pb,$a.Ge=Od,$a.ge=0,$a.He=he,$a.Je=0,ec=yb);var Sd=1;Tb&&Sd--;if(Wc-mg>Sd&&0<Wc){Xa.sa=p;yb=this.p.Vi();yb.Ja=n;yb.Qk=2;yb.w=Wc-1;this.p.ok(yb);$a=this.p.Sl(ec,yb,Xa.Ia);$a.sa=h;$a.pb=Xa.pb;$a.Ge=Ub?0:Od;$a.ge=0;$a.He=Ub?0:he;$a.Je=0;ec=yb;for(Wc--;Wc-mg>Sd&&0<Wc;)yb=this.p.Vi(),yb.Ja=n,yb.Qk=3,yb.w=Wc-1,this.p.ok(yb),$a=this.p.Sl(ec,yb,Xa.Ia),$a.sa=h,$a.pb=Xa.pb,$a.Ge=0,$a.ge=0,$a.He=0,$a.Je=0,ec=
yb,Wc--;$a=this.p.Sl(yb,Ic,Xa.Ia);$a.sa=!Tb;Tb&&(yb.Ii=Ic);$a.pb=Xa.pb;$a.Ge=0;$a.ge=Vc;$a.He=0;$a.Je=He}else Xa.sa=h}var vc=this.dd=[],Bb;for(Bb=0;Bb<=this.Ta;Bb++)vc[Bb]=0;for(var oc=this.p.V.f;oc.next();)oc.value.U=-1;switch(this.Gm){default:case Nn:for(var Gb,zd=this.p.V.f;zd.next();){var fd=zd.value;Gb=fd.w;fd.U=this.dd[Gb];this.dd[Gb]++}break;case xn:var hf,Ad=this.p.V.f;for(hf=this.Ta;0<=hf;hf--){for(;Ad.next();)Ad.value.w===hf&&-1===Ad.value.U&&On(this,Ad.value);Ad.reset()}break;case Pn:var Td,
wc=this.p.V.f;for(Td=0;Td<=this.Ta;Td++){for(;wc.next();)wc.value.w===Td&&-1===wc.value.U&&Qn(this,wc.value);wc.reset()}}this.ut=-1;for(Bb=this.Ee=this.eq=0;Bb<=this.Ta;Bb++)vc[Bb]>vc[this.Ee]&&(this.ut=vc[Bb]-1,this.Ee=Bb),vc[Bb]<vc[this.eq]&&(this.eq=Bb);this.mq=[];for(Bb=0;Bb<vc.length;Bb++)this.mq[Bb]=[];oc.reset();for(var Nf,Ie;oc.next();)Ie=oc.value,Nf=Ie.w,this.mq[Nf][Ie.U]=Ie;this.fb=-1;for(var Bd=0;Bd<=this.Ta;Bd++){for(var Ud=Rn(this,Bd),Cb=0,pd=this.dd[Bd],Of=0;Of<pd;Of++){var Lc=Ud[Of],
Cb=Cb+Sn(this,Lc,h);Lc.K=Cb;Cb+=1;Cb+=Sn(this,Lc,p)}this.fb=Math.max(this.fb,Cb-1);co(this,Bd,Ud)}var hb=lo(this),ib=mo(this),gc,ua,Ua;for(gc=0;gc<this.fl;gc++){for(ua=0;ua<=this.Ta;ua++)no(this,ua,1),oo(this,ua,1,1);Ua=lo(this);Ua<hb&&(hb=Ua,ib=mo(this));for(ua=this.Ta;0<=ua;ua--)no(this,ua,-1),oo(this,ua,-1,-1);Ua=lo(this);Ua<hb&&(hb=Ua,ib=mo(this))}po(this,ib);for(gc=0;gc<this.fl;gc++){for(ua=0;ua<=this.Ta;ua++)no(this,ua,0),oo(this,ua,0,0);Ua=lo(this);Ua<hb&&(hb=Ua,ib=mo(this));for(ua=this.Ta;0<=
ua;ua--)no(this,ua,0),oo(this,ua,0,0);Ua=lo(this);Ua<hb&&(hb=Ua,ib=mo(this))}po(this,ib);var Da,Lb,Sa,Mc,xc;switch(this.jm){case qo:break;case ro:for(Mc=hb+1;(xc=lo(this))<Mc;){Mc=xc;for(Lb=this.Ta;0<=Lb;Lb--)for(Sa=0;Sa<=Lb;Sa++){for(Da=h;Da;){Da=p;for(ua=Lb;ua>=Sa;ua--)Da=oo(this,ua,-1,-1)||Da}Ua=lo(this);Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Lb;ua>=Sa;ua--)Da=oo(this,ua,1,1)||Da}Ua=lo(this);Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Sa;ua<=Lb;ua++)Da=
oo(this,ua,1,1)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Sa;ua<=Lb;ua++)Da=oo(this,ua,-1,-1)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Lb;ua>=Sa;ua--)Da=oo(this,ua,0,0)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Sa;ua<=Lb;ua++)Da=oo(this,ua,0,0)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this))}}break;default:case yn:Lb=this.Ta;Sa=0;for(Mc=hb+1;(xc=lo(this))<Mc;){Mc=xc;for(Da=h;Da;){Da=p;for(ua=Lb;ua>=Sa;ua--)Da=oo(this,ua,
-1,-1)||Da}Ua=lo(this);Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Lb;ua>=Sa;ua--)Da=oo(this,ua,1,1)||Da}Ua=lo(this);Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Sa;ua<=Lb;ua++)Da=oo(this,ua,1,1)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Sa;ua<=Lb;ua++)Da=oo(this,ua,-1,-1)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=p;for(ua=Lb;ua>=Sa;ua--)Da=oo(this,ua,0,0)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this));for(Da=h;Da;){Da=
p;for(ua=Sa;ua<=Lb;ua++)Da=oo(this,ua,0,0)||Da}Ua>=hb?po(this,ib):(hb=Ua,ib=mo(this))}}po(this,ib);var Oa,tb,Pf=0!==(this.Rh&so),ng=this.Rh===zn;1E3<this.p.Wb.count&&!ng&&(Pf=p);if(Pf){var me=[],wa;for(wa=0;wa<=this.Ta;wa++)me[wa]=0;for(var ta=this.p.V.f,Cd,Qf;ta.next();){Cd=ta.value;Oa=Cd.w;Qf=Cd.K;var yc=Sn(this,Cd,p);me[Oa]=Math.max(me[Oa],Qf+yc)}for(ta.reset();ta.next();)Cd=ta.value,Oa=Cd.w,Qf=Cd.K,Cd.K=(8*(this.fb-me[Oa])>>1)+8*Qf;this.fb*=8}if(0!==(this.Rh&to))for(tb=h;tb;){tb=p;for(Oa=this.Ee+
1;Oa<=this.Ta;Oa++)tb=uo(this,Oa,1)||tb;for(Oa=this.Ee-1;0<=Oa;Oa--)tb=uo(this,Oa,-1)||tb;tb=uo(this,this.Ee,0)||tb}if(0!==(this.Rh&vo)){for(Oa=this.Ee+1;Oa<=this.Ta;Oa++)wo(this,Oa,1);for(Oa=this.Ee-1;0<=Oa;Oa--)wo(this,Oa,-1);wo(this,this.Ee,0)}Pf&&(xo(this,-1),xo(this,1));if(0!==(this.Rh&to))for(tb=h;tb;){tb=p;tb=uo(this,this.Ee,0)||tb;for(Oa=this.Ee+1;Oa<=this.Ta;Oa++)tb=uo(this,Oa,0)||tb;for(Oa=this.Ee-1;0<=Oa;Oa--)tb=uo(this,Oa,0)||tb}this.updateParts()}this.Qc=n;this.Ye=h};
function yo(a){t&&v.c(a,Nm,Y,"linkMinLength:edge");for(var b=a.G,c=0,a=a.I.xb;a.next();)a.value.G===b&&c++;return 1<c?2:1}function zo(a){t&&v.c(a,Nm,Y,"linkLengthWeight:edge");return 1}function Ao(a){t&&v.c(a,Nm,Y,"linkStraightenWeight:edge");var b=a.I.Ja,a=a.G.Ja;return b===n&&a===n?8:b===n||a===n?4:1}
function Bo(a,b,c){t&&(v.c(b,Co,Y,"nodeMinLayerSpace:v"),v.e(c,"boolean",Y,"nodeMinLayerSpace:topleft"));return b.Ja===n?0:90===a.T||270===a.T?c?b.B.y+10:b.C.height-b.B.y+10:c?b.B.x+10:b.C.width-b.B.x+10}
function Sn(a,b,c){t&&(v.c(b,Co,Y,"nodeMinColumnSpace:v"),v.e(c,"boolean",Y,"nodeMinColumnSpace:topleft"));if(b.Ja===n)return 0;var d=c?b.Zw:b.Yw;if(d!==f)return d;d=a.T;return 90===d||270===d?c?b.Zw=b.B.x/a.bd+1|0:b.Yw=(b.C.width-b.B.x)/a.bd+1|0:c?b.Zw=b.B.y/a.bd+1|0:b.Yw=(b.C.height-b.B.y)/a.bd+1|0}function mo(a){a.kl===n&&(a.kl=[]);for(var b=0,c=a.p.V.f,d;c.next();)d=c.value,a.kl[b]=d.w,b++,a.kl[b]=d.K,b++,a.kl[b]=d.U,b++;return a.kl}
function po(a,b){t&&v.c(b,Array,Y,"restoreLayout:layout");for(var c=0,d=a.p.V.f,e;d.next();)e=d.value,e.w=b[c],c++,e.K=b[c],c++,e.U=b[c],c++}
function Do(a,b,c){t&&(v.j(b,Y,"crossingMatrix:unfixedLayer"),v.j(c,Y,"crossingMatrix:direction"));var d=Rn(a,b),e=a.dd[b];a.Ft||(a.Ft=[]);for(var g=a.Ft,i,j=0;j<e;j++){i=0;var k=d[j],l=k.Ii,m,q;if(l!==n&&l.w===k.w)if(k=l.U,k>j)for(q=j+1;q<k;q++)m=d[q],(m.Ii!==l||m.Qk!==l.Qk)&&i++;else for(q=j-1;q>k;q--)m=d[q],(m.Ii!==l||m.Qk!==l.Qk)&&i++;var r,u,x,y,C,F;if(0<=c){k=d[j].sf;for(l=0;l<k.count;l++)if(r=k.i[l],r.sa&&r.I.w!==b){m=r.I.U;q=r.Je;r=r.He;for(u=l+1;u<k.count;u++)x=k.i[u],x.sa&&x.I.w!==b&&(y=
x.I.U,C=x.Je,x=x.He,q<C&&(m>y||m===y&&r>x)&&i++,C<q&&(y>m||y===m&&x>r)&&i++)}}if(0>=c){k=d[j].Be;for(l=0;l<k.count;l++)if(r=k.i[l],r.sa&&r.G.w!==b){m=r.G.U;q=r.Je;r=r.He;for(u=l+1;u<k.count;u++)x=k.i[u],x.sa&&x.G.w!==b&&(y=x.G.U,C=x.Je,x=x.He,r<x&&(m>y||m===y&&q>C)&&i++,x<r&&(y>m||y===m&&C>q)&&i++)}}g[j*e+j]=i;for(k=j+1;k<e;k++){var H=0,I=0;if(0<=c){i=d[j].sf;F=d[k].sf;for(l=0;l<i.count;l++)if(r=i.i[l],r.sa&&r.I.w!==b){m=r.I.U;r=r.He;for(u=0;u<F.count;u++)x=F.i[u],x.sa&&x.I.w!==b&&(y=x.I.U,x=x.He,
(m<y||m===y&&r<x)&&I++,(y<m||y===m&&x<r)&&H++)}}if(0>=c){i=d[j].Be;F=d[k].Be;for(l=0;l<i.count;l++)if(r=i.i[l],r.sa&&r.G.w!==b){m=r.G.U;q=r.Je;for(u=0;u<F.count;u++)x=F.i[u],x.sa&&x.G.w!==b&&(y=x.G.U,C=x.Je,(m<y||m===y&&q<C)&&I++,(y<m||y===m&&C<q)&&H++)}}g[j*e+k]=H;g[k*e+j]=I}}co(a,b,d);return g}function lo(a){var b,c=0,d,e;for(b=0;b<=a.Ta;b++){d=Do(a,b,1);e=a.dd[b];for(var g=0;g<e;g++)for(var i=g;i<e;i++)c+=d[g*e+i]}return c}
function Eo(a){t&&v.e(h,"boolean",Y,"countBends:weighted");for(var b=0,c=0;c<=a.Ta;c++){var d=a,e=c;t&&(v.j(e,Y,"bends:unfixedLayer"),v.j(1,Y,"bends:direction"),v.e(h,"boolean",Y,"bends:weighted"));for(var g=Rn(d,e),i=d.dd[e],j=0,k=f,k=0;k<i;k++){var l=g[k].Be,m,q,r;if("undefined"!==typeof l)for(var u=0;u<l.count;u++)m=l.i[u],m.sa&&m.G.w!==e&&(q=m.I.K+m.Ge,r=m.G.K+m.ge,j+=(Math.abs(q-r)+1)*Ao(m))}co(d,e,g);b+=j}return b}
Y.prototype.normalize=function(){var a=Infinity;this.fb=-1;for(var b=this.p.V.f,c;b.next();)c=b.value,a=Math.min(a,c.K-Sn(this,c,h)),this.fb=Math.max(this.fb,c.K+Sn(this,c,p));for(b.reset();b.next();)b.value.K-=a;this.fb-=a};
function Fo(a,b,c){t&&(v.j(b,Y,"barycenters:unfixedLayer"),v.j(c,Y,"barycenters:direction"));var d=Rn(a,b),e=a.dd[b],g=[],i;for(i=0;i<e;i++){var j=d[i],k=n;0>=c&&(k=j.sf);var l=n;0<=c&&(l=j.Be);var m=0,q=0,r=j.Ii;r!==n&&r.w===j.w&&(m+=r.K-1,q++);if(k!==n)for(r=0;r<k.count;r++){var j=k.i[r],u=j.I;j.sa&&(!j.pb&&u.w!==b)&&(m+=u.K+j.Ge,q++)}if(l!==n)for(k=0;k<l.count;k++)j=l.i[k],r=j.G,j.sa&&(!j.pb&&r.w!==b)&&(m+=r.K+j.ge,q++);g[i]=0===q?-1:m/q}co(a,b,d);return g}
function Go(a,b,c){t&&(v.j(b,Y,"medians:unfixedLayer"),v.j(c,Y,"medians:direction"));for(var d=Rn(a,b),e=a.dd[b],g=[],i=0;i<e;i++){var j=d[i],k=n;0>=c&&(k=j.sf);var l=n;0<=c&&(l=j.Be);var m=0,q=[],r=j.Ii;r!==n&&r.w===j.w&&(q[m]=r.K-1,m++);if(k!==n)for(r=0;r<k.count;r++){var j=k.i[r],u=j.I;j.sa&&(!j.pb&&u.w!==b)&&(q[m]=u.K+j.Ge,m++)}if(l!==n)for(k=0;k<l.count;k++)j=l.i[k],r=j.G,j.sa&&(!j.pb&&r.w!==b)&&(q[m]=r.K+j.ge,m++);0===m?g[i]=-1:(q.sort(function(a,b){return a-b}),l=m>>1,g[i]=m&1?q[l]:q[l-1]+
q[l]>>1)}co(a,b,d);return g}function Ho(a,b,c,d,e,g){t&&(v.c(b,Co,Y,"tightComponentUnset:v"),v.j(c,Y,"tightComponentUnset:component"),v.j(d,Y,"tightComponentUnset:unset"),v.e(e,"boolean",Y,"tightComponentUnset:forward"),v.e(g,"boolean",Y,"tightComponentUnset:backward"));if(b.Bb===d){b.Bb=c;var i,j;if(e)for(var k=b.xb;k.next();){var l=k.value.G;i=b.w-l.w;j=yo(k.value);i===j&&Ho(a,l,c,d,e,g)}if(g)for(k=b.zb;k.next();)l=k.value.I,i=l.w-b.w,j=yo(k.value),i===j&&Ho(a,l,c,d,e,g)}}
function Io(a,b,c,d,e,g){t&&(v.c(b,Co,Y,"componentUnset:v"),v.j(c,Y,"componentUnset:component"),v.j(d,Y,"componentUnset:unset"),v.e(e,"boolean",Y,"componentUnset:forward"),v.e(g,"boolean",Y,"componentUnset:backward"));if(b.Bb===d){b.Bb=c;if(e)for(var i=b.xb,j;i.next();)j=i.value.G,Io(a,j,c,d,e,g);if(g)for(b=b.zb;b.next();)i=b.value.I,Io(a,i,c,d,e,g)}}function Cn(a){t&&v.c(a,Im,Y,"greedyCycleRemovalFindNode:network");for(a=a.V.f;a.next();){var b=a.value;if(b.sa)return b}return n}
function Dn(a){t&&v.c(a,Im,Y,"greedyCycleRemovalFindSink:network");for(a=a.V.f;a.next();){var b=a.value;if(b.sa){for(var c=h,d=b.xb;d.next();)if(d.value.G.sa){c=p;break}if(c)return b}}return n}function En(a){t&&v.c(a,Im,Y,"greedyCycleRemovalFindSource:network");for(a=a.V.f;a.next();){var b=a.value;if(b.sa){for(var c=h,d=b.zb;d.next();)if(d.value.I.sa){c=p;break}if(c)return b}}return n}
function Fn(a,b){t&&v.c(b,Co,Y,"depthFirstSearchCycleRemovalVisit:v");b.Kj=a.lq;a.lq++;for(var c=b.xb;c.next();){var d=c.value,e=d.G;-1===e.Kj&&(d.op=h,Fn(a,e))}b.zm=a.lq;a.lq++}function Hn(a){for(var b=a.p.V.f;b.next();){var c=Jo(a,b.value);a.Ta=Math.max(c,a.Ta)}}function Jo(a,b){t&&v.c(b,Co,Y,"longestPathSinkLayeringLength:v");var c=0;if(-1===b.w){for(var d=b.xb;d.next();)var e=d.value,g=yo(e),c=Math.max(c,Jo(a,e.G)+g);b.w=c}else c=b.w;return c}
function Jn(a,b){t&&v.c(b,Co,Y,"longestPathSourceLayeringLength:v");var c=0;if(-1===b.w){for(var d,e,g=b.zb;g.next();)e=g.value,d=yo(e),c=Math.max(c,Jn(a,e.I)+d);b.w=c}else c=b.w;return c}
function Kn(a,b){t&&v.c(b,Co,Y,"optimalLinkLengthLayeringDepthFirstSearch:v");if(!b.sa){b.sa=h;for(var c=b.xb;c.next();)Kn(a,c.value.G);t&&v.c(b,Co,Y,"optimalLinkLengthLayeringPull:v");for(c=a.p.V.f;c.next();)c.value.Bb=-1;for(var d=b.zb;d.next();){var e=d.value,g=yo(e);e.I.w-e.G.w>g&&Ho(a,e.I,0,-1,h,p)}for(Ho(a,b,1,-1,h,h);0!==b.Bb;){for(var g=0,d=Infinity,i=0,j=n,k=a.p.V.f;k.next();){var l=k.value;if(1===l.Bb){for(var m=0,q=p,r=l.zb;r.next();){var e=r.value,u=e.I,m=m+zo(e);1!==u.Bb&&(g+=zo(e),u=
u.w-l.w,e=yo(e),d=Math.min(d,u-e))}for(e=l.xb;e.next();)r=e.value,u=r.G,m-=zo(r),1!==u.Bb?g-=zo(r):q=h;if((j===n||m<i)&&!q)j=l,i=m}}if(0<g){for(c.reset();c.next();)g=c.value,1===g.Bb&&(g.w+=d);b.Bb=0}else j.Bb=0}t&&v.c(b,Co,Y,"optimalLinkLengthLayeringPush:v");for(c=a.p.V.f;c.next();)c.value.Bb=-1;for(Ho(a,b,1,-1,h,p);0!==b.Bb;){g=0;d=Infinity;i=0;j=n;for(k=a.p.V.f;k.next();)if(l=k.value,1===l.Bb){m=0;q=p;for(e=l.zb;e.next();)r=e.value.I,m+=zo(e.value),1!==r.Bb?g+=zo(e.value):q=h;for(e=k.value.xb;e.next();)r=
e.value,u=r.G,m-=zo(r),1!==u.Bb&&(g-=zo(r),u=l.w-u.w,r=yo(r),d=Math.min(d,u-r));if((j===n||m>i)&&!q)j=l,i=m}if(0>g){for(c.reset();c.next();)g=c.value,1===g.Bb&&(g.w-=d);b.Bb=0}else j.Bb=0}}}function Mn(a,b,c){t&&(v.c(b,Ln,Y,"_oppositeSpotDir:edge"),v.e(c,"boolean",Y,"_oppositeSpotDir:from"));return 90===a.T?c&&!b.pb||!c&&b.pb?hc:lc:180===a.T?c&&!b.pb||!c&&b.pb?tc:sc:270===a.T?c&&!b.pb||!c&&b.pb?lc:hc:c&&!b.pb||!c&&b.pb?sc:tc}
function On(a,b){t&&v.c(b,Co,Y,"depthFirstOutInitializeIndicesVisit:v");var c=b.w;b.U=a.dd[c];a.dd[c]++;for(var c=b.Be.Of(),d=h,e;d;){d=p;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.Ge>i.Ge&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.sa&&(d=d.G,-1===d.U&&On(a,d))}
function Qn(a,b){t&&v.c(b,Co,Y,"depthFirstInInitializeIndicesVisit:v");var c=b.w;b.U=a.dd[c];a.dd[c]++;for(var c=b.sf.Of(),d=h,e;d;){d=p;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.ge>i.ge&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.sa&&(d=d.I,-1===d.U&&Qn(a,d))}
function no(a,b,c){t&&(v.j(b,Y,"medianBarycenterCrossingReduction:unfixedLayer"),v.j(c,Y,"medianBarycenterCrossingReduction:direction"));for(var d=Rn(a,b),e=a.dd[b],g=Go(a,b,c),i=Fo(a,b,c),c=0;c<e;c++)-1===i[c]&&(i[c]=d[c].K),-1===g[c]&&(g[c]=d[c].K);for(var j=h,k;j;){j=p;for(c=0;c<e-1;c++)if(g[c+1]<g[c]||g[c+1]===g[c]&&i[c+1]<i[c])j=h,k=g[c],g[c]=g[c+1],g[c+1]=k,k=i[c],i[c]=i[c+1],i[c+1]=k,k=d[c],d[c]=d[c+1],d[c+1]=k}for(c=g=0;c<e;c++)k=d[c],k.U=c,g+=Sn(a,k,h),k.K=g,g+=1,g+=Sn(a,k,p);co(a,b,d)}
function oo(a,b,c,d){t&&(v.j(b,Y,"adjacentExchangeCrossingReductionBendStraighten:unfixedLayer"),v.j(c,Y,"adjacentExchangeCrossingReductionBendStraighten:directionCR"),v.e(p,"boolean",Y,"adjacentExchangeCrossingReductionBendStraighten:straighten"),v.j(d,Y,"adjacentExchangeCrossingReductionBendStraighten:directionBS"));var d=Rn(a,b),e=a.dd[b],c=Do(a,b,c),g,i;i=[];for(g=0;g<e;g++)i[g]=-1;var j;j=[];for(g=0;g<e;g++)j[g]=-1;for(var k=p,l=h;l;){l=p;for(g=0;g<e-1;g++){var m=c[d[g].U*e+d[g+1].U],q=c[d[g+
1].U*e+d[g].U],r=0,u=0,x=d[g].K,y=d[g+1].K,C=Sn(a,d[g],h),F=Sn(a,d[g],p),H=Sn(a,d[g+1],h),I=Sn(a,d[g+1],p),C=x-C+H,F=y-F+I,M=d[g].zb.f;for(M.reset();M.next();)if(I=M.value,I.sa&&I.I.w===b){I=I.I;for(H=0;d[H]!==I;)H++;H<g&&(r+=2*(g-H),u+=2*(g+1-H));H===g+1&&(r+=1);H>g+1&&(r+=4*(H-g),u+=4*(H-(g+1)))}M=d[g].xb.f;for(M.reset();M.next();)if(I=M.value,I.sa&&I.G.w===b){I=I.G;for(H=0;d[H]!==I;)H++;H===g+1&&(u+=1)}M=d[g+1].zb.f;for(M.reset();M.next();)if(I=M.value,I.sa&&I.I.w===b){I=I.I;for(H=0;d[H]!==I;)H++;
H<g&&(r+=2*(g+1-H),u+=2*(g-H));H===g&&(u+=1);H>g+1&&(r+=4*(H-(g+1)),u+=4*(H-g))}M=d[g+1].xb.f;for(M.reset();M.next();)if(I=M.value,I.sa&&I.G.w===b){I=I.G;for(H=0;d[H]!==I;)H++;H===g&&(r+=1)}var H=I=0,M=i[d[g].U],U=j[d[g].U],ma=i[d[g+1].U],da=j[d[g+1].U];-1!==M&&(I+=Math.abs(M-x),H+=Math.abs(M-F));-1!==U&&(I+=Math.abs(U-x),H+=Math.abs(U-F));-1!==ma&&(I+=Math.abs(ma-y),H+=Math.abs(ma-C));-1!==da&&(I+=Math.abs(da-y),H+=Math.abs(da-C));if(u<r-0.5||u===r&&q<m-0.5||u===r&&q===m&&H<I-0.5)l=k=h,d[g].K=F,
d[g+1].K=C,m=d[g],d[g]=d[g+1],d[g+1]=m}}for(g=0;g<e;g++)d[g].U=g;co(a,b,d);return k}function uo(a,b,c){t&&(v.j(b,Y,"bendStraighten:unfixedLayer"),v.j(c,Y,"bendStraighten:direction"));for(var d=p;Ko(a,b,c);)d=h;return d}
function Ko(a,b,c){t&&(v.j(b,Y,"shiftbendStraighten:unfixedLayer"),v.j(c,Y,"shiftbendStraighten:direction"));var d,e=Rn(a,b),g=a.dd[b],i=Fo(a,b,-1);if(0<c)for(d=0;d<g;d++)i[d]=-1;var j=Fo(a,b,1);if(0>c)for(d=0;d<g;d++)j[d]=-1;for(var k=p,l=h;l;){l=p;for(d=0;d<g;d++){var m=e[d].K,q=Sn(a,e[d],h),r=Sn(a,e[d],p),q=0>d-1||m-e[d-1].K-1>q+Sn(a,e[d-1],p)?m-1:m,r=d+1>=g||e[d+1].K-m-1>r+Sn(a,e[d+1],h)?m+1:m,u=0,x=0,y=0,C,F,H,I;if(0>=c)for(var M=e[d].zb.f;M.next();)C=M.value,C.sa&&C.I.w!==b&&(F=Ao(C),H=C.Ge,
I=C.ge,C=C.I.K,u+=(Math.abs(m+I-(C+H))+1)*F,x+=(Math.abs(q+I-(C+H))+1)*F,y+=(Math.abs(r+I-(C+H))+1)*F);if(0<=c)for(M=e[d].xb.f;M.next();)C=M.value,C.sa&&C.G.w!==b&&(F=Ao(C),H=C.Ge,I=C.ge,C=C.G.K,u+=(Math.abs(m+H-(C+I))+1)*F,x+=(Math.abs(q+H-(C+I))+1)*F,y+=(Math.abs(r+H-(C+I))+1)*F);I=H=F=0;C=i[e[d].U];M=j[e[d].U];-1!==C&&(F+=Math.abs(C-m),H+=Math.abs(C-q),I+=Math.abs(C-r));-1!==M&&(F+=Math.abs(M-m),H+=Math.abs(M-q),I+=Math.abs(M-r));if(x<u||x===u&&H<F)l=k=h,e[d].K=q;if(y<u||y===u&&I<F)l=k=h,e[d].K=
r}}co(a,b,e);a.normalize();return k}
function wo(a,b,c){t&&(v.j(b,Y,"medianStraighten:unfixedLayer"),v.j(c,Y,"medianStraighten:direction"));for(var d=Rn(a,b),e=a.dd[b],g=Go(a,b,c),i=[],c=0;c<e;c++)i[c]=g[c];for(g=h;g;){g=p;for(c=0;c<e;c++){var j=d[c].K,k=Sn(a,d[c],h),l=Sn(a,d[c],p),m=0,q;-1===i[c]?0===c&&c===e-1?m=j:0===c?(q=d[c+1].K,m=q-j===l+Sn(a,d[c+1],h)?j-1:j):c===e-1?(q=d[c-1].K,m=j-q===k+Sn(a,d[c-1],p)?j+1:j):(q=d[c-1].K,k=q+Sn(a,d[c-1],p)+k+1,q=d[c+1].K,l=q-Sn(a,d[c+1],h)-l-1,m=(k+l)/2|0):0===c&&c===e-1?m=i[c]:0===c?(q=d[c+1].K,
l=q-Sn(a,d[c+1],h)-l-1,m=Math.min(i[c],l)):c===e-1?(q=d[c-1].K,k=q+Sn(a,d[c-1],p)+k+1,m=Math.max(i[c],k)):(q=d[c-1].K,k=q+Sn(a,d[c-1],p)+k+1,q=d[c+1].K,l=q-Sn(a,d[c+1],h)-l-1,k<i[c]&&i[c]<l?m=i[c]:k>=i[c]?m=k:l<=i[c]&&(m=l));m!==j&&(g=h,d[c].K=m)}}co(a,b,d);a.normalize()}
function Lo(a,b){t&&(v.j(b,Y,"packAux:column"),v.j(1,Y,"packAux:direction"));for(var c=h,d=a.p.V.f,e;d.next();){e=d.value;var g=Sn(a,e,h),i=Sn(a,e,p);if(e.K-g<=b&&e.K+i>=b){c=p;break}}g=p;if(c)for(d.reset();d.next();)e=d.value,e.K>b&&(e.K-=1,g=h);return g}
function Mo(a,b){t&&(v.j(b,Y,"tightPackAux:column"),v.j(1,Y,"tightPackAux:direction"));var c=b,c=b+1,d,e=[],g=[];for(d=0;d<=a.Ta;d++)e[d]=p,g[d]=p;for(var i=a.p.V.f;i.next();){d=i.value;var j=d.K-Sn(a,d,h),k=d.K+Sn(a,d,p);j<=b&&k>=b&&(e[d.w]=h);j<=c&&k>=c&&(g[d.w]=h)}j=h;c=p;for(d=0;d<=a.Ta;d++)j=j&&!(e[d]&&g[d]);if(j)for(i.reset();i.next();)d=i.value,d.K>b&&(d.K-=1,c=h);return c}
function xo(a,b){t&&v.j(b,Y,"componentPack:direction");for(var c=0;c<=a.fb;c++)for(;Lo(a,c););a.normalize();for(c=0;c<a.fb;c++)for(;Mo(a,c););a.normalize();var d,e,g,i;if(0<b)for(c=0;c<=a.fb;c++){d=mo(a);e=Eo(a);for(g=e+1;e<g;)g=e,No(a,c,1),i=Eo(a),i>e?po(a,d):i<e&&(e=i,d=mo(a))}if(0>b)for(c=a.fb;0<=c;c--){d=mo(a);e=Eo(a);for(g=e+1;e<g;)g=e,No(a,c,-1),i=Eo(a),i>e?po(a,d):i<e&&(e=i,d=mo(a))}a.normalize()}
function No(a,b,c){t&&(v.j(b,Y,"componentPackAux:column"),v.j(c,Y,"componentPackAux:direction"));a.nf=0;for(var d=a.p.V.f,e;d.next();)d.value.Bb=-1;if(0<c)for(d.reset();d.next();)e=d.value,e.K-Sn(a,e,h)<=b&&(e.Bb=a.nf);if(0>c)for(d.reset();d.next();)e=d.value,e.K+Sn(a,e,p)>=b&&(e.Bb=a.nf);a.nf++;for(d.reset();d.next();)e=d.value,-1===e.Bb&&(Io(a,e,a.nf,-1,h,h),a.nf++);b=[];for(e=0;e<a.nf*a.nf;e++)b[e]=p;var g=[];for(e=0;e<(a.Ta+1)*(a.fb+1);e++)g[e]=-1;for(d.reset();d.next();){e=d.value;for(var i=
e.w,j=Math.max(0,e.K-Sn(a,e,h)),k=Math.min(a.fb,e.K+Sn(a,e,p));j<=k;j++)g[i*(a.fb+1)+j]=e.Bb}for(e=0;e<=a.Ta;e++){if(0<c)for(j=0;j<a.fb;j++)-1!==g[e*(a.fb+1)+j]&&(-1!==g[e*(a.fb+1)+j+1]&&g[e*(a.fb+1)+j]!==g[e*(a.fb+1)+j+1])&&(b[g[e*(a.fb+1)+j]*a.nf+g[e*(a.fb+1)+j+1]]=h);if(0>c)for(j=a.fb;0<j;j--)-1!==g[e*(a.fb+1)+j]&&(-1!==g[e*(a.fb+1)+j-1]&&g[e*(a.fb+1)+j]!==g[e*(a.fb+1)+j-1])&&(b[g[e*(a.fb+1)+j]*a.nf+g[e*(a.fb+1)+j-1]]=h)}g=[];for(e=0;e<a.nf;e++)g[e]=h;i=new z("number");for(i.add(0);0!==i.count;)if(k=
i.i[i.count-1],i.ue(i.count-1),g[k]){g[k]=p;for(e=0;e<a.nf;e++)b[k*a.nf+e]&&i.rc(0,e)}if(0<c)for(d.reset();d.next();)e=d.value,g[e.Bb]&&(e.K-=1);if(0>c)for(d.reset();d.next();)e=d.value,g[e.Bb]&&(e.K+=1)}Y.prototype.commitLayout=Y.prototype.Eu=function(){if(this.am){var a,b;270===this.T?(a=rc,b=uc):90===this.T?(a=uc,b=rc):180===this.T?(a=sc,b=tc):(a=tc,b=sc);for(var c=this.p.Wb.f,d;c.next();)d=c.value.Ia,d!==n&&(d.bb=a,d.eb=b)}this.commitNodes();this.commitLinks()};
Y.prototype.commitNodes=Y.prototype.ey=function(){this.Sg=[];this.cg=[];this.Ce=[];this.ed=[];for(var a=0;a<=this.Ta;a++)this.Sg[a]=0,this.cg[a]=0,this.Ce[a]=0,this.ed[a]=0;for(var a=this.p.V.f,b,c;a.next();)b=a.value,c=b.w,this.Sg[c]=Math.max(this.Sg[c],Bo(this,b,h)),this.cg[c]=Math.max(this.cg[c],Bo(this,b,p));b=0;for(var d=this.rd,e=0;e<=this.Ta;e++)c=d,0>=this.Sg[e]+this.cg[e]&&(c=0),0<e&&(b+=c/2),90===this.T||0===this.T?(b+=this.cg[e],this.Ce[e]=b,b+=this.Sg[e]):(b+=this.Sg[e],this.Ce[e]=b,b+=
this.cg[e]),e<this.Ta&&(b+=c/2),this.ed[e]=b;d=this.Wc.copy();for(e=0;e<=this.Ta;e++)270===this.T?(this.Ce[e]=d.y+this.Ce[e],this.ed[e]=d.y+this.ed[e]):90===this.T?(this.Ce[e]=d.y+b-this.Ce[e],this.ed[e]=d.y+b-this.ed[e]):180===this.T?(this.Ce[e]=d.x+this.Ce[e],this.ed[e]=d.x+this.ed[e]):(this.Ce[e]=d.x+b-this.Ce[e],this.ed[e]=d.x+b-this.ed[e]);for(a.reset();a.next();){b=a.value;c=b.w;var g=b.K|0;270===this.T||90===this.T?(e=d.x+this.bd*g,c=this.Ce[c]):(e=this.Ce[c],c=d.y+this.bd*g);b.Da=e;b.Ea=c;
b.ci()}};
Y.prototype.commitLinks=Y.prototype.dy=function(){for(var a=this.p.Wb.f,b,c;a.next();)c=a.value.Ia,"undefined"!==typeof c&&c!==n&&(c.Hk(),c.Bn(),c.di());for(a.reset();a.next();)c=a.value.Ia,"undefined"!==typeof c&&c!==n&&Zl(c);for(a.reset();a.next();)if(b=a.value,c=b.Ia){c.Hk();var d=c,e=d.ja,g=d.na,i=d.Oc,j=d.yd;if(b.sa){if(c.Re===Vj&&4===c.da){b.pb&&(d=e,e=g,g=d,d=i,i=j,j=d);var k,l,m,q;if(b.I.K===b.G.K)k=c.getLinkPoint(e,i,em(c),h,p,g,j).copy(),l=c.getLinkPoint(g,j,fm(c),p,p,e,i).copy(),m=new D((2*
k.x+l.x)/3,(2*k.y+l.y)/3),q=new D((k.x+2*l.x)/3,(k.y+2*l.y)/3),c.Bn(),c.jd(k),c.jd(m),c.jd(q),c.jd(l);else{d=b=p;i!==n&&em(c)===bc&&(b=h);j!==n&&fm(c)===bc&&(d=h);if(b||d)k=c.h(0).copy(),m=c.h(1).copy(),q=c.h(2).copy(),l=c.h(3).copy();b&&(90===this.T||270===this.T?(m.x=k.x,m.y=(k.y+l.y)/2):(m.x=(k.x+l.x)/2,m.y=k.y),c.A(1,m),c.A(0,c.getLinkPoint(e,i,em(c),h,p,g,j).copy()));d&&(90===this.T||270===this.T?(q.x=l.x,q.y=(k.y+l.y)/2):(q.x=(k.x+l.x)/2,q.y=l.y),c.A(2,q),c.A(3,c.getLinkPoint(g,j,fm(c),p,p,
e,i).copy()))}}c.di()}else if(b.I.w===b.G.w)c.di();else{var r=p,u=p,x,y=c.Ru+1;if(Qg(c))u=h,x=c.da,4<x&&c.sb.removeRange(2,x-3);else if(c.Re===Vj)r=h,x=c.da,4<x&&c.sb.removeRange(2,x-3),y=2;else{x=c.da;var C=em(c)===bc,F=fm(c)===bc;2<x&&C&&F?c.sb.removeRange(1,x-2):3<x&&C&&!F?c.sb.removeRange(1,x-3):3<x&&!C&&F?c.sb.removeRange(2,x-2):4<x&&(!C&&!F)&&c.sb.removeRange(2,x-3)}x=b.I;var F=b.G,H;if(b.pb){for(;F!==n&&x!==F;){H=C=n;for(var I=F.zb.f;I.next()&&!(M=I.value,M.Ia===b.Ia&&(C=M.I,H=M.G,C.Ja===n)););
C!==x&&(M=c.h(y-1).copy(),I=new D(C.Da,C.Ea),u?180===this.T||0===this.T?2===y?(c.q(y++,new D(M.x,M.y)),c.q(y++,new D(M.x,I.y))):(H=H!==n?new D(H.Da,H.Ea):M.copy(),H.y!==I.y&&(H=this.ed[C.w-1],c.q(y++,new D(H,M.y)),c.q(y++,new D(H,I.y)))):2===y?(c.q(y++,new D(M.x,M.y)),c.q(y++,new D(I.x,M.y))):(H=H!==n?new D(H.Da,H.Ea):M.copy(),H.x!==I.x&&(H=this.ed[C.w-1],c.q(y++,new D(M.x,H)),c.q(y++,new D(I.x,H)))):2===y?r?(H=Math.max(10,this.Sg[F.w]),U=Math.max(10,this.cg[F.w]),180===this.T?(F=F.C.x,c.q(y++,new D(F-
H,I.y)),c.q(y++,new D(F,I.y)),c.q(y++,new D(F+U,I.y))):90===this.T?(F=F.C.y+F.C.height,c.q(y++,new D(I.x,F+U)),c.q(y++,new D(I.x,F)),c.q(y++,new D(I.x,F-H))):270===this.T?(F=F.C.y,c.q(y++,new D(I.x,F-H)),c.q(y++,new D(I.x,F)),c.q(y++,new D(I.x,F+U))):(F=F.C.x+F.C.width,c.q(y++,new D(F+U,I.y)),c.q(y++,new D(F,I.y)),c.q(y++,new D(F-H,I.y)))):(c.q(y++,M),180===this.T||0===this.T?c.q(y++,new D(M.x,I.y)):c.q(y++,new D(I.x,M.y)),c.q(y++,new D(I.x,I.y))):(H=Math.max(10,this.Sg[C.w]),U=Math.max(10,this.cg[C.w]),
180===this.T?(r&&c.q(y++,new D(I.x-H,I.y)),c.q(y++,I),r&&c.q(y++,new D(I.x+U,I.y))):90===this.T?(r&&c.q(y++,new D(I.x,I.y+U)),c.q(y++,I),r&&c.q(y++,new D(I.x,I.y-H))):270===this.T?(r&&c.q(y++,new D(I.x,I.y-H)),c.q(y++,I),r&&c.q(y++,new D(I.x,I.y+U))):(r&&c.q(y++,new D(I.x+U,I.y)),c.q(y++,I),r&&c.q(y++,new D(I.x-H,I.y)))));F=C}if(j===n||!fm(c).z(bc))M=c.h(y-1).copy(),I=c.h(y).copy(),u?(C=this.cg[x.w],180===this.T||0===this.T?(u=M.y,u>=x.C.y&&u<=x.C.bottom&&(F=x.Da+C,u=u<x.C.y+x.C.height/2?x.C.y-this.bd/
2:x.C.bottom+this.bd/2,c.q(y++,new D(F,M.y)),c.q(y++,new D(F,u))),c.q(y++,new D(I.x,u))):(u=M.x,u>=x.C.x&&u<=x.C.right&&(F=x.Ea+C,u=u<x.C.x+x.C.width/2?x.C.x-this.bd/2:x.C.right+this.bd/2,c.q(y++,new D(M.x,F)),c.q(y++,new D(u,F))),c.q(y++,new D(u,I.y))),c.q(y++,I)):r?(H=Math.max(10,this.Sg[x.w]),U=Math.max(10,this.cg[x.w]),180===this.T?(F=x.C.x+x.C.width,c.A(y-2,new D(F,M.y)),c.A(y-1,new D(F+U,M.y))):90===this.T?(F=x.C.y,c.A(y-2,new D(M.x,F)),c.A(y-1,new D(M.x,F-H))):270===this.T?(F=x.C.y+x.C.height,
c.A(y-2,new D(M.x,F)),c.A(y-1,new D(M.x,F+U))):(F=x.C.x,c.A(y-2,new D(F,M.y)),c.A(y-1,new D(F-H,M.y)))):(180===this.T||0===this.T?c.q(y++,new D(I.x,M.y)):c.q(y++,new D(M.x,I.y)),c.q(y++,I))}else{for(;x!==n&&x!==F;){H=C=n;x=x.xb.f;for(var M;x.next()&&!(M=x.value,M.Ia===b.Ia&&(C=M.G,H=M.I,H.Ja!==n&&(H=n),C.Ja===n)););var U;C!==F&&(M=c.h(y-1).copy(),I=new D(C.Da,C.Ea),u?180===this.T||0===this.T?(H=H!==n?new D(H.Da,H.Ea):M.copy(),H.y!==I.y&&(H=this.ed[C.w],2===y&&(H=0===this.T?Math.max(H,M.x):Math.min(H,
M.x)),c.q(y++,new D(H,M.y)),c.q(y++,new D(H,I.y)))):(H=H!==n?new D(H.Da,H.Ea):M.copy(),H.x!==I.x&&(H=this.ed[C.w],2===y&&(H=90===this.T?Math.max(H,M.y):Math.min(H,M.y)),c.q(y++,new D(M.x,H)),c.q(y++,new D(I.x,H)))):(H=Math.max(10,this.Sg[C.w]),U=Math.max(10,this.cg[C.w]),180===this.T?(c.q(y++,new D(I.x+U,I.y)),r&&c.q(y++,I),c.q(y++,new D(I.x-H,I.y))):90===this.T?(c.q(y++,new D(I.x,I.y-H)),r&&c.q(y++,I),c.q(y++,new D(I.x,I.y+U))):270===this.T?(c.q(y++,new D(I.x,I.y+U)),r&&c.q(y++,I),c.q(y++,new D(I.x,
I.y-H))):(c.q(y++,new D(I.x-H,I.y)),r&&c.q(y++,I),c.q(y++,new D(I.x+U,I.y)))));x=C}u&&(M=c.h(y-1).copy(),I=c.h(y).copy(),180===this.T||0===this.T?M.y!==I.y&&(H=0===this.T?Math.min(Math.max((I.x+M.x)/2,this.ed[F.w]),I.x):Math.max(Math.min((I.x+M.x)/2,this.ed[F.w]),I.x),c.q(y++,new D(H,M.y)),c.q(y++,new D(H,I.y))):M.x!==I.x&&(H=90===this.T?Math.min(Math.max((I.y+M.y)/2,this.ed[F.w]),I.y):Math.max(Math.min((I.y+M.y)/2,this.ed[F.w]),I.y),c.q(y++,new D(M.x,H)),c.q(y++,new D(I.x,H))))}d!==n&&r&&(i!==n&&
(Yb(em(c))&&(d=c.h(0).copy(),r=c.h(2).copy(),d.z(r)||c.A(1,new D((d.x+r.x)/2,(d.y+r.y)/2))),c.A(0,c.getLinkPoint(e,i,bc,h,p,g,j))),j!==n&&(Yb(fm(c))&&(d=c.h(c.da-1),r=c.h(c.da-3),d.z(r)||c.A(c.da-2,new D((d.x+r.x)/2,(d.y+r.y)/2))),c.A(c.da-1,c.getLinkPoint(g,j,bc,p,p,e,i))));c.di();b.ci()}}e=new z(V);for(a=this.p.Wb.f;a.next();)c=a.value.Ia,c!==n&&(Qg(c)&&!e.contains(c))&&e.add(c);if(0<e.count)if(90===this.T||270===this.T){t&&v.c(e,z,Y,"adjustOverlapsH:routables");a=0;c=new z(Oo);for(k=e.f;k.next();)if(g=
k.value,g!==n&&Qg(g))for(e=2;e<g.da-3;e++)i=g.h(e).copy(),j=g.h(e+1).copy(),Po(i.y,j.y)&&!Po(i.x,j.x)&&(l=new Oo,l.w=Math.floor(i.y/2),m=g.h(0).copy(),q=g.h(g.da-1).copy(),l.yb=m.x*m.x+m.y,l.ld=q.x*q.x+q.y,l.Fd=Math.min(i.x,j.x),l.kd=Math.max(i.x,j.x),l.U=e,l.Ia=g,e+2<g.da&&(m=g.h(e-1).copy(),q=g.h(e+2).copy(),b=0,m.y<i.y?b=q.y<i.y?3:i.x<j.x?2:1:m.y>i.y&&(b=q.y>i.y?0:j.x<i.x?2:1),l.yh=b),c.add(l));if(1<c.count){c.sort(this.AD);for(k=0;k<c.count;){e=c.i[k].w;for(l=k+1;l<c.count&&c.i[l].w===e;)l++;
if(1<l-k)for(g=k;g<l;){e=c.i[g].kd;for(m=k+1;m<l&&c.i[m].Fd<e;)e=Math.max(e,c.i[m].kd),m++;i=m-g;if(1<i){c.to(this.pv,g,g+i);j=1;q=c.i[g].ld;for(e=g;e<m;e++)b=c.i[e],b.ld!==q&&(j++,q=b.ld);c.to(this.zD,g,g+i);r=1;q=c.i[g].yb;for(e=g;e<m;e++)b=c.i[e],b.yb!==q&&(r++,q=b.yb);j<r?(d=p,r=j,q=c.i[g].ld,c.to(this.pv,g,g+i)):(d=h,q=c.i[g].yb);y=0;for(e=g;e<m;e++){b=c.i[e];if((d?b.yb:b.ld)!==q)y++,q=d?b.yb:b.ld;g=b.Ia;i=g.h(b.U).copy();j=g.h(b.U+1).copy();u=4*(y-(r-1)/2);if(g.cf!==Xf||Qo(i.x,i.y+u,j.x,j.y+
u))a++,g.Hk(),g.A(b.U,new D(i.x,i.y+u)),g.A(b.U+1,new D(j.x,j.y+u)),g.di()}}g=m}k=l}}}else{t&&v.c(e,z,Y,"adjustOverlapsV:routables");a=0;c=new z(Oo);for(k=e.f;k.next();)if(g=k.value,g!==n&&Qg(g))for(e=2;e<g.da-3;e++)i=g.h(e).copy(),j=g.h(e+1).copy(),Po(i.x,j.x)&&!Po(i.y,j.y)&&(l=new Oo,l.w=Math.floor(i.x/2),m=g.h(0).copy(),q=g.h(g.da-1).copy(),l.yb=m.x+m.y*m.y,l.ld=q.x+q.y*q.y,l.Fd=Math.min(i.y,j.y),l.kd=Math.max(i.y,j.y),l.U=e,l.Ia=g,e+2<g.da&&(m=g.h(e-1).copy(),q=g.h(e+2).copy(),b=0,m.x<i.x?b=q.x<
i.x?3:i.y<j.y?2:1:m.x>i.x&&(b=q.x>i.x?0:j.y<i.y?2:1),l.yh=b),c.add(l));if(1<c.count){c.sort(this.AD);for(k=0;k<c.count;){e=c.i[k].w;for(l=k+1;l<c.count&&c.i[l].w===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.i[g].kd;for(m=k+1;m<l&&c.i[m].Fd<e;)e=Math.max(e,c.i[m].kd),m++;i=m-g;if(1<i){c.to(this.pv,g,g+i);j=1;q=c.i[g].ld;for(e=g;e<m;e++)b=c.i[e],b.ld!==q&&(j++,q=b.ld);c.to(this.zD,g,g+i);r=1;q=c.i[g].yb;for(e=g;e<m;e++)b=c.i[e],b.yb!==q&&(r++,q=b.yb);j<r?(d=p,r=j,q=c.i[g].ld,c.to(this.pv,g,g+i)):(d=h,q=c.i[g].yb);
y=0;for(e=g;e<m;e++){b=c.i[e];if((d?b.yb:b.ld)!==q)y++,q=d?b.yb:b.ld;g=b.Ia;i=g.h(b.U).copy();j=g.h(b.U+1).copy();u=4*(y-(r-1)/2);if(g.cf!==Xf||Qo(i.x+u,i.y,j.x+u,j.y))a++,g.Hk(),g.A(b.U,new D(i.x+u,i.y)),g.A(b.U+1,new D(j.x+u,j.y)),g.di()}}g=m}k=l}}}};function Oo(){this.U=this.kd=this.Fd=this.ld=this.yb=this.w=0;this.Ia=n;this.yh=0}v.yf(Oo,{za:h,yb:h,ld:h,Fd:h,kd:h,index:h,link:h,yh:h});
Y.prototype.AD=function(a,b){return!(a instanceof Oo)||!(b instanceof Oo)||a===b?0:a.w<b.w?-1:a.w>b.w?1:a.Fd<b.Fd?-1:a.Fd>b.Fd?1:a.kd<b.kd?-1:a.kd>b.kd?1:0};Y.prototype.zD=function(a,b){return!(a instanceof Oo)||!(b instanceof Oo)||a===b?0:a.yb<b.yb?-1:a.yb>b.yb||a.yh<b.yh?1:a.yh>b.yh||a.Fd<b.Fd?-1:a.Fd>b.Fd?1:a.kd<b.kd?-1:a.kd>b.kd?1:0};
Y.prototype.pv=function(a,b){return!(a instanceof Oo)||!(b instanceof Oo)||a===b?0:a.ld<b.ld?-1:a.ld>b.ld||a.yh<b.yh?1:a.yh>b.yh||a.Fd<b.Fd?-1:a.Fd>b.Fd?1:a.kd<b.kd?-1:a.kd>b.kd?1:0};function Po(a,b){t&&(v.j(a,Y,"isApprox:a"),v.j(b,Y,"isApprox:b"));var c=a-b;return-1<c&&1>c}function Qo(a,b,c,d){t&&(v.j(a,Y,"isUnoccupied2:px"),v.j(b,Y,"isUnoccupied2:py"),v.j(c,Y,"isUnoccupied2:qx"),v.j(d,Y,"isUnoccupied2:qy"));return h}
function Rn(a,b){var c,d=a.dd[b];if(d>=a.gg.length){c=[];var e;for(e=0;e<a.gg.length;e++)c[e]=a.gg[e];a.gg=c}"undefined"===typeof a.gg[d]||a.gg[d]===n?c=[]:(c=a.gg[d],a.gg[d]=n);var d=a.mq[b],g;for(e=0;e<d.length;e++)g=d[e],g instanceof Co&&(c[g.U]=g);return c}function co(a,b,c){a.gg[a.dd[b]]=c}v.a(Y,"layerSpacing",Y.prototype.Yr);v.defineProperty(Y,{Yr:"layerSpacing"},s("rd"),function(a){this.rd!==a&&("number"===typeof a&&0<=a)&&(this.rd=a,this.v())});v.a(Y,"columnSpacing",Y.prototype.rF);
v.defineProperty(Y,{rF:"columnSpacing"},s("bd"),function(a){this.bd!==a&&("number"===typeof a&&0<=a)&&(this.bd=a,this.v())});v.a(Y,"direction",Y.prototype.direction);v.defineProperty(Y,{direction:"direction"},s("T"),function(a){this.T!==a&&"number"===typeof a&&(this.T=a,this.v())});v.a(Y,"cycleRemoveOption",Y.prototype.GB);v.defineProperty(Y,{GB:"cycleRemoveOption"},s("rm"),function(a){if(this.rm!==a&&(t&&v.c(a,pa,An,"cycleRemoveOption"),a===Bn||a===vn))this.rm=a,this.v()});
v.a(Y,"layeringOption",Y.prototype.HC);v.defineProperty(Y,{HC:"layeringOption"},s("Mm"),function(a){if(this.Mm!==a&&(t&&v.c(a,pa,An,"layeringOption"),a===wn||a===Gn||a===In))this.Mm=a,this.v()});v.a(Y,"initializeOption",Y.prototype.zC);v.defineProperty(Y,{zC:"initializeOption"},s("Gm"),function(a){if(this.Gm!==a&&(t&&v.c(a,pa,An,"initializeOption"),a===xn||a===Pn||a===Nn))this.Gm=a,this.v()});v.a(Y,"iterations",Y.prototype.qG);
v.defineProperty(Y,{qG:"iterations"},s("fl"),function(a){t&&v.j(a,An,"iterations");this.fl!==a&&("number"===typeof a&&0<=a)&&(this.fl=a,this.v())});v.a(Y,"aggressiveOption",Y.prototype.jB);v.defineProperty(Y,{jB:"aggressiveOption"},s("jm"),function(a){if(this.jm!==a&&(t&&v.c(a,pa,An,"cycleRemoveOption"),a===qo||a===yn||a===ro))this.jm=a,this.v()});v.a(Y,"packOption",Y.prototype.IG);v.defineProperty(Y,{IG:"packOption"},s("Rh"),function(a){this.Rh!==a&&("number"===typeof a&&0<=a&&8>a)&&(this.Rh=a,this.v())});
v.a(Y,"setsPortSpots",Y.prototype.am);v.defineProperty(Y,{am:"setsPortSpots"},s("Vg"),function(a){this.Vg!==a&&"boolean"===typeof a&&(this.Vg=a,this.v())});v.m(Y,{XJ:"maxLayer"},s("Ta"));v.m(Y,{VJ:"maxIndex"},s("ut"));v.m(Y,{UJ:"maxColumn"},s("fb"));v.m(Y,{cK:"minIndexLayer"},s("eq"));v.m(Y,{WJ:"maxIndexLayer"},s("Ee"));var vn;Y.CycleDepthFirst=vn=v.l(Y,"CycleDepthFirst",0);var Bn;Y.CycleGreedy=Bn=v.l(Y,"CycleGreedy",1);var wn;Y.LayerOptimalLinkLength=wn=v.l(Y,"LayerOptimalLinkLength",0);var Gn;
Y.LayerLongestPathSink=Gn=v.l(Y,"LayerLongestPathSink",1);var In;Y.LayerLongestPathSource=In=v.l(Y,"LayerLongestPathSource",2);var xn;Y.InitDepthFirstOut=xn=v.l(Y,"InitDepthFirstOut",0);var Pn;Y.InitDepthFirstIn=Pn=v.l(Y,"InitDepthFirstIn",1);var Nn;Y.InitNaive=Nn=v.l(Y,"InitNaive",2);var qo;Y.AggressiveNone=qo=v.l(Y,"AggressiveNone",0);var yn;Y.AggressiveLess=yn=v.l(Y,"AggressiveLess",1);var ro;Y.AggressiveMore=ro=v.l(Y,"AggressiveMore",2);Y.PackNone=0;var so;Y.PackExpand=so=1;var to;
Y.PackStraighten=to=2;var vo;Y.PackMedian=vo=4;var zn;Y.PackAll=zn=7;function An(){Im.call(this)}v.J("LayeredDigraphNetwork",An);v.va(An,Im);An.prototype.createVertex=An.prototype.Vi=function(){return new Co};An.prototype.createEdge=An.prototype.En=function(){return new Ln};function Co(){Mm.call(this);this.U=this.K=this.w=-1;this.sa=p;this.Bb=this.zm=this.Kj=NaN;this.Ii=n;this.Qk=0;this.Yw=this.Zw=f}v.J("LayeredDigraphVertex",Co);v.va(Co,Mm);v.a(Co,"layer",Co.prototype.za);
v.defineProperty(Co,{za:"layer"},s("w"),ba("w"));v.a(Co,"column",Co.prototype.nc);v.defineProperty(Co,{nc:"column"},s("K"),ba("K"));v.a(Co,"index",Co.prototype.index);v.defineProperty(Co,{index:"index"},s("U"),ba("U"));v.a(Co,"valid",Co.prototype.valid);v.defineProperty(Co,{valid:"valid"},s("sa"),ba("sa"));v.a(Co,"discover",Co.prototype.DF);v.defineProperty(Co,{DF:"discover"},s("Kj"),ba("Kj"));v.a(Co,"finish",Co.prototype.finish);v.defineProperty(Co,{finish:"finish"},s("zm"),ba("zm"));
v.a(Co,"component",Co.prototype.sF);v.defineProperty(Co,{sF:"component"},s("Bb"),ba("Bb"));v.a(Co,"near",Co.prototype.FG);v.defineProperty(Co,{FG:"near"},s("Ii"),function(a){a!==n&&v.c(a,Co,Co,"layeredDigraphVertex");this.Ii=a});function Ln(){Nm.call(this);this.op=this.pb=this.sa=p;this.Je=this.He=NaN;this.ge=this.vH=0}v.J("LayeredDigraphEdge",Ln);v.va(Ln,Nm);v.a(Ln,"valid",Ln.prototype.valid);v.defineProperty(Ln,{valid:"valid"},s("sa"),ba("sa"));v.a(Ln,"rev",Ln.prototype.rev);
v.defineProperty(Ln,{rev:"rev"},s("pb"),ba("pb"));v.a(Ln,"forest",Ln.prototype.UF);v.defineProperty(Ln,{UF:"forest"},s("op"),ba("op"));v.a(Ln,"portFromPos",Ln.prototype.KG);v.defineProperty(Ln,{KG:"portFromPos"},s("He"),ba("He"));v.a(Ln,"portToPos",Ln.prototype.MG);v.defineProperty(Ln,{MG:"portToPos"},s("Je"),ba("Je"));v.a(Ln,"portFromColOffset",Ln.prototype.JG);v.defineProperty(Ln,{JG:"portFromColOffset"},s("Ge"),ba("Ge"));v.a(Ln,"portToColOffset",Ln.prototype.LG);
v.defineProperty(Ln,{LG:"portToColOffset"},s("ge"),ba("ge"));function X(){Rh.call(this);this.zc=new z(S);this.mc=Ro;this.Zq=So;this.Ic=To;this.df=(new J(10,10)).freeze();this.aa=new Z;this.Z=new Z}v.J("TreeLayout",X);v.va(X,Rh);X.prototype.cloneProtected=X.prototype.qb=function(a){Rh.prototype.qb.call(this,a);a.mc=this.mc;a.Zq=this.Zq;a.Ic=this.Ic;a.df=this.df.F();Uo(a.aa,this.aa);Uo(a.Z,this.Z)};X.prototype.createNetwork=X.prototype.Hu=function(){var a=new Vo;Jm(a,this);return a};
X.prototype.makeNetwork=X.prototype.xG=function(a){var b=this.createNetwork();a instanceof A?(Wo(this,b,a.Ck,h),Wo(this,b,a.links,h)):a instanceof T?Wo(this,b,a.sc,p):a.f&&Wo(this,b,a.f,p);return b};
function Wo(a,b,c,d){for(c=c.f;c.next();){var e=c.value;if(e instanceof S&&e.wr()&&"Comment"!==e.vd&&(!d||e.Wr))e.fj||(e instanceof T&&e.Eb===n?Wo(a,b,e.sc,p):b.qn(e))}for(c.reset();c.next();)if(e=c.value,e instanceof V&&e.wr()&&"Comment"!==e.vd&&(!d||e.Wr)){var g=e.ja,a=e.na;if(!(g===n||a===n||g===a)&&"Comment"!==g.vd&&"Comment"!==a.vd)g=b.Pu(g),a=b.Pu(a),g!==n&&a!==n&&b.Sl(g,a,e)}}
X.prototype.doLayout=X.prototype.Dr=function(a){this.Qc===n&&(this.Qc=this.makeNetwork(a));this.zc===n&&(this.zc=new z(S));this.Ud!==Xo&&(this.Wc=Lm(this,this.Wc));if(0<this.p.V.count){this.p.Ku();for(var b=this.p.V.f;b.next();)a=b.value,a.Sj=p,a.gl=0,a.mb=n,a.Lb=[];for(var c=this.zc.f;c.next();)b=c.value,a=this.p.ne(b),a===n&&this.zc.remove(b);if(0===this.zc.length){for(a=this.p.V.f;a.next();)switch(b=a.value,this.mc){case Ro:0===b.zb.count&&this.zc.add(b.Ja);break;case Yo:0===b.xb.count&&this.zc.add(b.Ja);
break;default:v.g("Unhandled path value "+this.mc.toString())}if(0===this.zc.count){a=999999;b=n;for(c=this.p.V.f;c.next();){var d=c.value;switch(this.mc){case Ro:d.zb.count<a&&(a=d.zb.count,b=d);break;case Yo:d.xb.count<a&&(a=d.xb.count,b=d);break;default:v.g("Unhandled path value "+this.mc.toString())}}b!==n&&this.zc.add(b.Ja)}}for(c=this.zc.f;c.next();)b=c.value,a=this.p.ne(b),a!==n&&!a.Sj&&(a.Sj=h,Zo(this,a));for(a=this.zc.f;a.next();)b=this.p.ne(a.value),$o(this,b);for(a=this.zc.f;a.next();)b=
this.p.ne(a.value),ap(this,b);for(a=this.zc.f;a.next();)bp(this,this.p.ne(a.value));for(a=this.p.V.f;a.next();)this.dB(a.value);for(a=this.zc.f;a.next();)cp(this,this.p.ne(a.value));if(this.Ic===Xo)for(a=this.zc.f;a.next();)c=a.value,b=this.p.ne(c),d=c.position,c=d.x,d=d.y,isFinite(c)||(c=0),isFinite(d)||(d=0),dp(this,b,c,d);else{d=this.Wc.copy();for(a=this.zc.f;a.next();)if(c=a.value,b=this.p.ne(c),b!==n)switch(dp(this,b,d.x+b.xa.x,d.y+b.xa.y),this.Ic){case To:d.y+=b.Ka.height+this.df.height;break;
case ep:d.x+=b.Ka.width+this.df.width;break;default:v.g("Unhandled arrangement value "+this.Ic.toString())}d.freeze()}this.updateParts()}this.zc=this.Qc=n;this.Ye=h};
function Zo(a,b){t&&v.c(b,Z,X,"walkTree:v");if(b!==n){var c,d,e;switch(a.mc){case Ro:if(0<b.xb.count){c=new z(Z);for(d=b.CF;d.next();)e=d.value,fp(a,b,e)&&c.add(e);0<c.count&&(b.Lb=c.Of())}break;case Yo:if(0<b.zb.count){c=new z(Z);for(d=b.dH;d.next();)e=d.value,fp(a,b,e)&&c.add(e);0<c.count&&(b.Lb=c.Of())}break;default:v.g("Unhandled path value"+a.mc.toString())}d=b.Lb;var g=d.length;for(c=0;c<g;c++)e=d[c],e.Sj=h,e.gl=b.gl+1,e.mb=b,a.zc.remove(e.Ja);for(c=0;c<g;c++)e=d[c],Zo(a,e)}}
function fp(a,b,c){t&&v.c(b,Z,X,"walkOK:v");t&&v.c(c,Z,X,"walkOK:c");if(c.Sj){var d;t&&v.c(c,Z,X,"isAncestor:a");t&&v.c(b,Z,X,"isAncestor:b");if(b===n)d=p;else{for(d=b.mb;d!==n&&d!==c;)d=d.mb;d=d===c}if(d||c.gl>b.gl)return p;a.removeChild(c.mb,c)}return h}
X.prototype.removeChild=function(a,b){t&&v.c(a,Z,X,"removeChild:p");t&&v.c(b,Z,X,"removeChild:c");if(a!==n&&b!==n){var c=a.Lb,d=0,e;for(e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){var d=Array(c.length-d),g=0;for(e=0;e<c.length;e++)c[e]!==b&&(d[g++]=c[e]);a.Lb=d}}};
function $o(a,b){t&&v.c(b,Z,X,"initializeTree:v");if(b!==n){t&&v.c(b,Z,X,"initializeTreeVertexValues:v");var c=gp(a,b);Uo(b,c);if(b.mb!==n&&b.mb.ra===hp){for(var c=b.Wa,d=b.mb.Lb,e=0;e<d.length&&b!==d[e];)e++;0===e%2?e!==d.length-1&&(c=90===c?180:180===c?270:270===c?180:270):c=90===c?0:180===c?90:270===c?0:90;b.Wa=c}d=b.Ja;d!==n&&(c=d.ua.width,d=d.ua.height,b.width=c,b.height=d,b.Su=c/2,b.Tu=d/2);b.Sj=h;b.ra===hp&&ip(b);for(var c=0,d=b.Bl,e=0,g=b.Lb,i=g.length,j=0;j<i;j++){var k=g[j];$o(a,k);c+=k.Xs+
1;d=Math.max(d,k.tt);e=Math.max(e,k.Mh)}b.Xs=c;b.tt=d;b.Mh=0<d?e+1:0}}function gp(a,b){t&&v.c(b,Z,X,"mom:v");switch(a.Zq){default:case So:return b.mb!==n?b.mb:a.aa;case jp:return b.mb===n?a.aa:b.mb.mb===n?a.Z:b.mb;case kp:if(b.mb!==n)return b.mb.mb!==n?b.mb.mb:a.Z;case lp:var c=h;if(0===b.Bl)c=p;else for(var d=b.Lb,e=d.length,g=0;g<e;g++)if(0<d[g].Bl){c=p;break}return c&&b.mb!==n?a.Z:b.mb!==n?b.mb:a.aa}}
function ap(a,b){t&&v.c(b,Z,X,"assignTree:v");if(b!==n){t&&v.c(b,Z,X,"assignTreeVertexValues:v");for(var c=b.Lb,d=c.length,e=0;e<d;e++)ap(a,c[e])}}function bp(a,b){t&&v.c(b,Z,X,"sortTree:v");if(b!==n){b.ra!==hp&&ip(b);for(var c=b.Lb,d=c.length,e=0;e<d;e++)bp(a,c[e])}}
function ip(a){t&&v.c(a,Z,X,"sortTreeVertexChildren:v");switch(a.fc){case mp:break;case np:a.Lb.reverse();break;case op:a.Lb.sort(a.cc);break;case pp:a.Lb.sort(a.cc);a.Lb.reverse();break;default:v.g("Unhandled sorting value "+a.fc.toString())}}
X.prototype.dB=function(a){t&&v.c(a,Z,X,"addComments:v");var b=a.$b,c=a.mb,d=0,e=qp,e=p;c!==n&&(d=c.$b,e=c.ra,e=rp(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.Bl,g=new E,i=g.width,g=g.height,j=0,k=a.od;if(a.Ja!==n)for(var l=a.Ja.dC();l.next();){var m=l.value;"Comment"===m.vd&&m.ib()&&(a.pd===n&&(a.pd=[]),a.pd.push(m),m.ii(),m=m.ua,b&&!c||!e&&!d&&c||e&&d&&c?(i=Math.max(i,m.width),g+=m.height+Math.abs(j)):(i+=m.width+Math.abs(j),g=Math.max(g,m.height)),j=k)}a.pd!==n&&(b&&!c||!e&&!d&&c||e&&d&&
c?(i+=Math.abs(a.bc),g=Math.max(0,g-a.height)):(g+=Math.abs(a.bc),i=Math.max(0,i-a.width)),a.rb=new E(0,0,a.C.width+i,a.C.height+g))};function rp(a){return a===sp||a===hp||a===tp||a===up}function vp(a){return a===sp||a===hp}function wp(a){t&&v.c(a,Z,X,"isLeftSideBus:v");var b=a.mb;if(b!==n){var c=b.vb;if(rp(c)){if(vp(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===tp)return h}}return p}
function cp(a,b){t&&v.c(b,Z,X,"layoutTree:v");if(b!==n){var c=b.Lb,d=c.length,e,g;for(g=0;g<d;g++)e=c[g],cp(a,e);switch(b.Vf){case xp:yp(a,b);break;case zp:if(b.ra===hp)yp(a,b);else if(t&&v.c(b,Z,X,"layoutTreeBlock:v"),0===b.Bl)e=b.mb,c=p,d=0,g=qp,e!==n&&(d=e.$b,g=e.ra,c=rp(g)),e=wp(b),b.O=new D(0,0),b.Ka=new J(b.width,b.height),b.xa=b.mb!==n&&b.pd!==n&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?new D(b.width-2*b.B.x,0):new D(0,b.height-2*b.B.y):new D(0,0),b.Rp=n,b.Eq=n;else{var i=
Ap(b),c=90===i||270===i,j=0,k,l,m=b.Lb,q=m.length;for(k=0;k<q;k++)l=m[k],j=Math.max(j,c?l.Ka.width:l.Ka.height);var r=b.ra;e=r===Bp;var u=r===Cp,x=rp(r),y=Math.max(0,b.Sf),d=Dp(b),C=b.hd,F=Ep(b),H=b.he,I=0;if(e||u||b.hk||b.ik&&1===b.Mh)I=Math.max(0,b.Vc);e=b.width;g=b.height;var M=0,U=0,ma=0,da=n,Ba=n,qa=new J(0,0),sa=0,Ga=0,mb=0,db=0,vb=0,gb=0;l=0;x&&!vp(r)&&135<i&&m.reverse();if(vp(r))if(1<q)for(k=0;k<q;k++)0===k%2&&k!==q-1?gb=Math.max(gb,c?m[k].Ka.width:m[k].Ka.height):0!==k%2&&(l=Math.max(l,c?
m[k].Ka.width:m[k].Ka.height));else 1===q&&(gb=c?m[0].Ka.width:m[0].Ka.height);var Ra;if(x){switch(r){case sp:k=135>i?Fp(b,m,gb,M,U):Gp(b,m,gb,M,U);gb=k[0];M=k[1];U=k[2];break;case tp:for(k=0;k<q;k++)l=m[k],Ra=l.Ka,da=0===db?0:H,c?(l.O=new D(j-Ra.width,Ga+da),M=Math.max(M,Ra.width),U=Math.max(U,Ga+da+Ra.height),Ga+=da+Ra.height):(l.O=new D(sa+da,j-Ra.height),M=Math.max(M,sa+da+Ra.width),U=Math.max(U,Ra.height),sa+=da+Ra.width),db++;break;case up:for(k=0;k<q;k++)l=m[k],Ra=l.Ka,da=0===db?0:H,c?(l.O=
new D(C/2+b.B.x,Ga+da),M=Math.max(M,Ra.width),U=Math.max(U,Ga+da+Ra.height),Ga+=da+Ra.height):(l.O=new D(sa+da,C/2+b.B.y),M=Math.max(M,sa+da+Ra.width),U=Math.max(U,Ra.height),sa+=da+Ra.width),db++}da=[];Ba=[];c?(da[0]=new D(0,0),da[1]=new D(0,U),Ba[0]=new D(M,0)):(da[0]=new D(0,0),da[1]=new D(M,0),Ba[0]=new D(0,U));Ba[1]=new D(M,U)}else for(var Db,Ta=0;Ta<q;Ta++){l=m[Ta];Ra=l.Ka;if(c){0<y&&(0<db&&sa+C+Ra.width>y)&&(sa<j&&Hp(b,r,j-sa,0,vb,Ta-1),mb++,db=0,vb=Ta,ma=U,sa=0,Ga=135<i?-U-H:U+H);Ip(a,l,new D(0,
Ga));Db=0;if(0===db){if(da=l.Rp,Ba=l.Eq,qa=Ra.copy(),da===n||Ba===n||i!==Ap(l))da=[],Ba=[],da[0]=new D(0,0),da[1]=new D(0,qa.height),Ba[0]=new D(qa.width,0),Ba[1]=new D(qa.width,qa.height)}else k=Op(b,l,da,Ba,qa.width,qa.height),Db=k[0],da=k[1],Ba=k[2],qa.width=k[3],qa.height=k[4],sa<Ra.width&&0>Db&&(Pp(b,-Db,0,vb,Ta-1),Qp(da,-Db,0),Qp(Ba,-Db,0),Db=0);l.O=new D(Db,Ga);M=Math.max(M,qa.width);U=Math.max(U,ma+(0===mb?0:H)+Ra.height);sa=qa.width}else{0<y&&(0<db&&Ga+C+Ra.height>y)&&(Ga<j&&Hp(b,r,0,j-Ga,
vb,Ta-1),mb++,db=0,vb=Ta,ma=M,Ga=0,sa=135<i?-M-H:M+H);Ip(a,l,new D(sa,0));Db=0;if(0===db){if(da=l.Rp,Ba=l.Eq,qa=Ra.copy(),da===n||Ba===n||i!==Ap(l))da=[],Ba=[],da[0]=new D(0,0),da[1]=new D(qa.width,0),Ba[0]=new D(0,qa.height),Ba[1]=new D(qa.width,qa.height)}else k=Op(b,l,da,Ba,qa.width,qa.height),Db=k[0],da=k[1],Ba=k[2],qa.width=k[3],qa.height=k[4],Ga<Ra.height&&0>Db&&(Pp(b,0,-Db,vb,Ta-1),Qp(da,0,-Db),Qp(Ba,0,-Db),Db=0);l.O=new D(sa,Db);U=Math.max(U,qa.height);M=Math.max(M,ma+(0===mb?0:H)+Ra.width);
Ga=qa.height}db++}0<mb&&(c?(U+=Math.max(0,d),sa<M&&Hp(b,r,M-sa,0,vb,q-1),0<I&&(u||Pp(b,I,0,0,q-1),M+=I)):(M+=Math.max(0,d),Ga<U&&Hp(b,r,0,U-Ga,vb,q-1),0<I&&(u||Pp(b,0,I,0,q-1),U+=I)));j=new D(0,0);switch(r){case Rp:c?j.x+=M/2-b.B.x-F/2:j.y+=U/2-b.B.y-F/2;break;case qp:0<mb?c?j.x+=M/2-b.B.x-F/2:j.y+=U/2-b.B.y-F/2:c?(k=m[0].O.x+m[0].xa.x,u=m[q-1].O.x+m[q-1].xa.x+2*m[q-1].B.x,j.x+=(u+k)/2-b.B.x-F/2):(k=m[0].O.y+m[0].xa.y,u=m[q-1].O.y+m[q-1].xa.y+2*m[q-1].B.y,j.y+=(u+k)/2-b.B.y-F/2);break;case Bp:c?(j.x-=
F,M+=F):(j.y-=F,U+=F);break;case Cp:c?(j.x+=M-b.width+F,M+=F):(j.y+=U-b.height+F,U+=F);break;case sp:c?j.x=1<q?j.x+(gb+C/2-b.B.x):j.x+(m[0].B.x-b.B.x+m[0].xa.x):j.y=1<q?j.y+(gb+C/2-b.B.y):j.y+(m[0].B.y-b.B.y+m[0].xa.y);break;case tp:c?j.x+=M+C/2-b.B.x:j.y+=U+C/2-b.B.y;break;case up:break;default:v.g("Unhandled alignment value "+r.toString())}for(k=0;k<q;k++)l=m[k],l.O=c?new D(l.O.x+l.xa.x-j.x,l.O.y+(135<i?(x?-U:-l.Ka.height)+l.xa.y-d:g+d+l.xa.y)):new D(l.O.x+(135<i?(x?-M:-l.Ka.width)+l.xa.x-d:e+d+
l.xa.x),l.O.y+l.xa.y-j.y);m=new J(0,0);x?c?(M=Sp(b,M,j.x),0>j.x&&(j.x=0),135<i&&(j.y+=U+d),U+=g+d,r===up&&(m.width+=C/2+b.B.x),m.height+=g+d):(135<i&&(j.x+=M+d),M+=e+d,U=Tp(b,U,j.y),0>j.y&&(j.y=0),r===up&&(m.height+=C/2+b.B.y),m.width+=e+d):c?(b.pd===n?e>M&&(r=Up(r,e-M,0),m.width=r[0],m.height=r[1],M=e,j.x=0):M=Sp(b,M,j.x),0>j.x&&(m.width-=j.x,j.x=0),135<i&&(j.y+=U+d),U=Math.max(Math.max(U,g),U+g+d),m.height+=g+d):(135<i&&(j.x+=M+d),M=Math.max(Math.max(M,e),M+e+d),b.pd===n?g>U&&(r=Up(r,0,g-U),m.width=
r[0],m.height=r[1],U=g,j.y=0):U=Tp(b,U,j.y),0>j.y&&(m.height-=j.y,j.y=0),m.width+=e+d);if(0<mb)i=[],r=[],c?(i[2]=new D(0,g+d),i[3]=new D(i[2].x,U),r[2]=new D(M,i[2].y),r[3]=new D(r[2].x,i[3].y)):(i[2]=new D(e+d,0),i[3]=new D(M,i[2].y),r[2]=new D(i[2].x,U),r[3]=new D(i[3].x,r[2].y));else{i=[];r=[];for(k=0;k<da.length;k++)x=da[k],i[k+2]=new D(x.x+m.width,x.y+m.height);for(k=0;k<Ba.length;k++)x=Ba[k],r[k+2]=new D(x.x+m.width,x.y+m.height)}c?(i[0]=new D(j.x,0),i[1]=new D(i[0].x,g),i[2].y<i[1].y&&(i[2].x>
i[0].x?i[2]=i[1].copy():i[1]=i[2].copy()),i[3].y<i[2].y&&(i[3].x>i[0].x?i[3]=i[2].copy():i[2]=i[3].copy()),r[0]=new D(j.x+e,0),r[1]=new D(r[0].x,g),r[2].y<r[1].y&&(r[2].x<r[0].x?r[2]=r[1].copy():r[1]=r[2].copy()),r[3].y<r[2].y&&(r[3].x<r[0].x?r[3]=r[2].copy():r[2]=r[3].copy()),i[2].y-=d/2,r[2].y-=d/2):(i[0]=new D(0,j.y),i[1]=new D(e,i[0].y),i[2].x<i[1].x&&(i[2].y>i[0].y?i[2]=i[1].copy():i[1]=i[2].copy()),i[3].x<i[2].x&&(i[3].y>i[0].y?i[3]=i[2].copy():i[2]=i[3].copy()),r[0]=new D(0,j.y+g),r[1]=new D(e,
r[0].y),r[2].x<r[1].x&&(r[2].y<r[0].y?r[2]=r[1].copy():r[1]=r[2].copy()),r[3].x<r[2].x&&(r[3].y<r[0].y?r[3]=r[2].copy():r[2]=r[3].copy()),i[2].x-=d/2,r[2].x-=d/2);b.Rp=i;b.Eq=r;b.xa=j;b.Ka=new J(M,U)}break;default:v.g("Unhandled compaction value "+b.Vf.toString())}}}
function yp(a,b){t&&v.c(b,Z,X,"layoutTreeNone:v");if(0===b.Bl){var c=b.mb,d=p,e=0,g=qp;c!==n&&(e=c.$b,g=c.ra,d=rp(g));c=wp(b);b.O=new D(0,0);b.Ka=new J(b.width,b.height);b.xa=b.mb!==n&&b.pd!==n&&((180===e||270===e)&&!d||c)?180===e&&!d||(90===e||270===e)&&c?new D(b.width-2*b.B.x,0):new D(0,b.height-2*b.B.y):new D(0,0)}else{var d=Ap(b),e=90===d||270===d,i=0,j,k,c=b.Lb,g=c.length,l;for(j=0;j<g;j++)k=c[j],i=Math.max(i,e?k.Ka.width:k.Ka.height);var m=b.ra,q=m===Bp,r=m===Cp,u=rp(m),x=Math.max(0,b.Sf),y=
Dp(b),C=b.hd,F=Ep(b),H=q||r?0:F/2,I=b.he,M=0;if(q||r||b.hk||b.ik&&1===b.Mh)M=Math.max(0,b.Vc);var q=b.width,U=b.height,ma=0,da=0,Ba=0,qa=0,sa=0,Ga=0,mb=0,db=0,vb=0,gb=0;u&&!vp(m)&&135<d&&c.reverse();if(vp(m))if(1<g)for(j=0;j<g;j++)k=c[j],l=k.Ka,0===j%2&&j!==g-1?vb=Math.max(vb,(e?l.width:l.height)+Vp(k)-C):0!==j%2&&(gb=Math.max(gb,(e?l.width:l.height)+Vp(k)-C));else 1===g&&(vb=e?c[0].Ka.width:c[0].Ka.height);if(u)switch(m){case sp:case hp:k=[];k=135>d?Fp(b,c,vb,ma,da):Gp(b,c,vb,ma,da);vb=k[0];ma=k[1];
da=k[2];break;case tp:for(j=0;j<g;j++)k=c[j],l=k.Ka,x=0===mb?0:I,e?(k.O=new D(i-l.width,sa+x),ma=Math.max(ma,l.width),da=Math.max(da,sa+x+l.height),sa+=x+l.height):(k.O=new D(qa+x,i-l.height),ma=Math.max(ma,qa+x+l.width),da=Math.max(da,l.height),qa+=x+l.width),mb++;break;case up:for(i=0;i<g;i++)k=c[i],l=k.Ka,x=0===mb?0:I,e?(k.O=new D(C/2+b.B.x,sa+x),ma=Math.max(ma,l.width),da=Math.max(da,sa+x+l.height),sa+=x+l.height):(k.O=new D(qa+x,C/2+b.B.y),ma=Math.max(ma,qa+x+l.width),da=Math.max(da,l.height),
qa+=x+l.width),mb++}else for(gb=0;gb<g;gb++)k=c[gb],l=k.Ka,e?(0<x&&(0<mb&&qa+C+l.width>x)&&(qa<i&&Hp(b,m,i-qa,0,db,gb-1),Ga++,mb=0,db=gb,Ba=da,qa=0,sa=135<d?-da-I:da+I),j=0===mb?H:C,Ip(a,k,new D(0,sa)),k.O=new D(qa+j,sa),ma=Math.max(ma,qa+j+l.width),da=Math.max(da,Ba+(0===Ga?0:I)+l.height),qa+=j+l.width):(0<x&&(0<mb&&sa+C+l.height>x)&&(sa<i&&Hp(b,m,0,i-sa,db,gb-1),Ga++,mb=0,db=gb,Ba=ma,sa=0,qa=135<d?-ma-I:ma+I),j=0===mb?H:C,Ip(a,k,new D(qa,0)),k.O=new D(qa,sa+j),da=Math.max(da,sa+j+l.height),ma=Math.max(ma,
Ba+(0===Ga?0:I)+l.width),sa+=j+l.height),mb++;0<Ga&&(e?(da+=Math.max(0,y),qa<ma&&Hp(b,m,ma-qa,0,db,g-1),0<M&&(r||Pp(b,M,0,0,g-1),ma+=M)):(ma+=Math.max(0,y),sa<da&&Hp(b,m,0,da-sa,db,g-1),0<M&&(r||Pp(b,0,M,0,g-1),da+=M)));r=new D(0,0);switch(m){case Rp:e?r.x+=ma/2-b.B.x-F/2:r.y+=da/2-b.B.y-F/2;break;case qp:0<Ga?e?r.x+=ma/2-b.B.x-F/2:r.y+=da/2-b.B.y-F/2:e?(m=c[0].O.x+c[0].xa.x,C=c[g-1].O.x+c[g-1].xa.x+2*c[g-1].B.x,r.x+=m+(C-m)/2-b.B.x-F/2):(m=c[0].O.y+c[0].xa.y,C=c[g-1].O.y+c[g-1].xa.y+2*c[g-1].B.y,
r.y+=m+(C-m)/2-b.B.y-F/2);break;case Bp:e?(r.x-=F,ma+=F):(r.y-=F,da+=F);break;case Cp:e?(r.x+=ma-b.width+F,ma+=F):(r.y+=da-b.height+F,da+=F);break;case sp:case hp:e?r.x=1<g?r.x+(vb+C/2-b.B.x):r.x+(c[0].B.x-b.B.x+c[0].xa.x):r.y=1<g?r.y+(vb+C/2-b.B.y):r.y+(c[0].B.y-b.B.y+c[0].xa.y);break;case tp:e?r.x+=ma+C/2-b.B.x:r.y+=da+C/2-b.B.y;break;case up:break;default:v.g("Unhandled alignment value "+m.toString())}for(j=0;j<g;j++)k=c[j],k.O=e?new D(k.O.x+k.xa.x-r.x,k.O.y+(135<d?(u?-da:-k.Ka.height)+k.xa.y-
y:U+y+k.xa.y)):new D(k.O.x+(135<d?(u?-ma:-k.Ka.width)+k.xa.x-y:q+y+k.xa.x),k.O.y+k.xa.y-r.y);e?(ma=Sp(b,ma,r.x),0>r.x&&(r.x=0),135<d&&(r.y+=da+y),da+=U+y):(135<d&&(r.x+=ma+y),ma+=q+y,da=Tp(b,da,r.y),0>r.y&&(r.y=0));b.xa=r;b.Ka=new J(ma,da)}}
function Fp(a,b,c,d,e){t&&v.c(a,Z,X,"layoutBusChildrenPosDir:v");var g=b.length,i,j;if(0===g)return a=[c,d,e];if(1===g)return i=b[0],j=i.Ka,d=j.width,e=j.height,a=[c,d,e];var k=a.hd,l=a.he,m=90===Ap(a),q=0,r=0,u=0,x=0,y=0,C=0,x=C=0,F,H;for(F=0;F<g;F++)0!==F%2||1<g&&F===g-1||(i=b[F],j=i.Ka,H=0===q?0:l,m?(C=Vp(i)-k,i.O=new D(c-(j.width+C),u+H),d=Math.max(d,j.width+C),e=Math.max(e,u+H+j.height),u+=H+j.height):(C=Vp(i)-k,i.O=new D(r+H,c-(j.height+C)),e=Math.max(e,j.height+C),d=Math.max(d,r+H+j.width),
r+=H+j.width),q++);q=0;x=r;y=u;m?(r=c+k,u=0):(r=0,u=c+k);for(F=0;F<g;F++)0!==F%2&&(i=b[F],j=i.Ka,H=0===q?0:l,m?(C=Vp(i)-k,i.O=new D(r+C,u+H),d=Math.max(d,r+j.width+C),e=Math.max(e,u+H+j.height),u+=H+j.height):(C=Vp(i)-k,i.O=new D(r+H,u+C),d=Math.max(d,r+H+j.width),e=Math.max(e,u+j.height+C),r+=H+j.width),q++);1<g&&1===g%2&&(i=b[g-1],j=i.Ka,m?(b=Wp(i,Math.max(Math.abs(y),Math.abs(u))),i.O=new D(c+k/2-i.B.x-i.xa.x,e+b),x=c+k/2-i.B.x-i.xa.x,d=Math.max(d,x+j.width),0>x&&(d-=x),e=Math.max(e,Math.max(y,
u)+b+j.height),0>i.O.x&&(c=Xp(a,i.O.x,p,c,k))):(b=Wp(i,Math.max(Math.abs(x),Math.abs(r))),i.O=new D(d+b,c+k/2-i.B.y-i.xa.y),d=Math.max(d,Math.max(x,r)+b+j.width),x=c+k/2-i.B.y-i.xa.y,e=Math.max(e,x+j.height),0>x&&(e-=x),0>i.O.y&&(c=Xp(a,i.O.y,h,c,k))));return a=[c,d,e]}
function Gp(a,b,c,d,e){t&&v.c(a,Z,X,"layoutBusChildrenNegDir:v");var g=b.length,i,j;if(0===g)return a=[c,d,e];if(1===g)return i=b[0],j=i.Ka,d=j.width,e=j.height,a=[c,d,e];var k=a.hd,l=a.he,m=270===Ap(a),q=0,r=0,u=0,x=0,y=0,C=0,x=C=0,F,H;for(F=0;F<g;F++)0!==F%2||1<g&&F===g-1||(i=b[F],j=i.Ka,H=0===q?0:l,m?(C=Vp(i)-k,u-=H+j.height,i.O=new D(c-(j.width+C),u),d=Math.max(d,j.width+C),e=Math.max(e,Math.abs(u))):(C=Vp(i)-k,r-=H+j.width,i.O=new D(r,c-(j.height+C)),e=Math.max(e,j.height+C),d=Math.max(d,Math.abs(r))),
q++);q=0;x=r;y=u;m?(r=c+k,u=0):(r=0,u=c+k);for(F=0;F<g;F++)0!==F%2&&(i=b[F],j=i.Ka,H=0===q?0:l,m?(C=Vp(i)-k,u-=H+j.height,i.O=new D(r+C,u),d=Math.max(d,r+j.width+C),e=Math.max(e,Math.abs(u))):(C=Vp(i)-k,r-=H+j.width,i.O=new D(r,u+C),e=Math.max(e,u+j.height+C),d=Math.max(d,Math.abs(r))),q++);1<g&&1===g%2&&(i=b[g-1],j=i.Ka,m?(l=Wp(i,Math.max(Math.abs(y),Math.abs(u))),i.O=new D(c+k/2-i.B.x-i.xa.x,-e-j.height-l),x=c+k/2-i.B.x-i.xa.x,d=Math.max(d,x+j.width),0>x&&(d-=x),e=Math.max(e,Math.abs(Math.min(y,
u))+l+j.height),0>i.O.x&&(c=Xp(a,i.O.x,p,c,k))):(l=Wp(i,Math.max(Math.abs(r),Math.abs(r))),i.O=new D(-d-j.width-l,c+k/2-i.B.y-i.xa.y),d=Math.max(d,Math.abs(Math.min(x,r))+l+j.width),x=c+k/2-i.B.y-i.xa.y,e=Math.max(e,x+j.height),0>x&&(e-=x),0>i.O.y&&(c=Xp(a,i.O.y,h,c,k))));for(F=0;F<g;F++)i=b[F],i.O=m?new D(i.O.x,i.O.y+e):new D(i.O.x+d,i.O.y);return a=[c,d,e]}function Vp(a){t&&v.c(a,Z,X,"fixRelativePostions:child");return a.parent===n?0:a.parent.ev}
function Wp(a){t&&v.c(a,Z,X,"fixRelativePostions:lastchild");return a.parent===n?0:a.parent.ov}function Xp(a,b,c,d,e){t&&v.c(a,Z,X,"fixRelativePostions:v");for(var a=a.Lb,g=a.length,i=0;i<g;i++)a[i].O=c?new D(a[i].O.x,a[i].O.y-b):new D(a[i].O.x-b,a[i].O.y);b=a[g-1];return Math.max(d,c?b.xa.y-b.B.y-e/2:b.xa.x-b.B.x-e/2)}
function Sp(a,b,c){t&&v.c(a,Z,X,"calculateSubwidth:v");switch(a.ra){case qp:case Rp:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case Bp:return a.width>b?a.width:b;case Cp:return 2*a.B.x>b?a.width:b+a.width-2*a.B.x;case sp:case hp:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case tp:return a.width-a.B.x+a.hd/2+b;case up:return Math.max(a.width,a.B.x+a.hd/2+b);default:return b}}
function Tp(a,b,c){t&&v.c(a,Z,X,"calculateSubheight:v");switch(a.ra){case qp:case Rp:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case Bp:return a.height>b?a.height:b;case Cp:return 2*a.B.y>b?a.height:b+a.height-2*a.B.y;case sp:case hp:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case tp:return a.height-a.B.y+a.hd/2+b;case up:return Math.max(a.height,a.B.y+a.hd/2+b);default:return b}}
function Up(a,b,c){t&&v.c(a,pa,X,"alignOffset:align");switch(a){case Rp:b/=2;c/=2;break;case qp:b/=2;c/=2;break;case Bp:c=b=0;break;case Cp:break;default:v.g("Unhandled alignment value "+a.toString())}return[b,c]}function Hp(a,b,c,d,e,g){t&&v.c(a,Z,X,"shiftRelPosAlign:v");t&&v.c(b,pa,X,"shiftRelPosAlign:align");b=Up(b,c,d);Pp(a,b[0],b[1],e,g)}function Pp(a,b,c,d,e){t&&v.c(a,Z,X,"shiftRelPos:v");if(!(0===b&&0===c))for(a=a.Lb;d<=e;d++){var g=a[d];g.O.x+=b;g.O.y+=c}}
function Ip(a,b,c){t&&v.c(b,Z,X,"recordMidPoints:v");t&&v.c(c,D,X,"recordMidPoints:p");var d=b.mb;switch(a.mc){case Ro:for(a=b.zb;a.next();)b=a.value,b.I===d&&(b.wq=c);break;case Yo:for(a=b.xb;a.next();)b=a.value,b.G===d&&(b.wq=c);break;default:v.g("Unhandled path value "+a.mc.toString())}}function Qp(a,b,c){for(var d=0;d<a.length;d++)a[d].x+=b,a[d].y+=c}
function Op(a,b,c,d,e,g){t&&v.c(a,Z,X,"mergeFringes:parent");t&&v.c(b,Z,X,"mergeFringes:child");var i=Ap(a),j=90===i||270===i,k=a.hd,l=e,m=g,q=b.Rp,e=b.Eq,g=b.Ka,a=j?Math.max(m,g.height):Math.max(l,g.width);if(q===n||i!==Ap(b))q=[],e=[],j?(q[0]=new D(0,0),q[1]=new D(0,g.height),e[0]=new D(g.width,0),e[1]=new D(e[0].x,q[1].y)):(q[0]=new D(0,0),q[1]=new D(g.width,0),e[0]=new D(0,g.height),e[1]=new D(q[1].x,e[0].y));if(j){b=j=l;i=q;l=9999999;if(!(d===n||2>d.length||i===n||2>i.length))for(var r=m=0;m<
d.length&&r<i.length;){var u=d[m],x=i[r].copy();x.x+=j;var y=u;m+1<d.length&&(y=d[m+1]);var C=x;r+1<i.length&&(C=i[r+1].copy(),C.x+=j);var F=l;u.y===x.y?F=x.x-u.x:u.y>x.y&&u.y<C.y?F=x.x+(u.y-x.y)/(C.y-x.y)*(C.x-x.x)-u.x:x.y>u.y&&x.y<y.y&&(F=x.x-(u.x+(x.y-u.y)/(y.y-u.y)*(y.x-u.x)));F<l&&(l=F);y.y<=u.y?m++:C.y<=x.y?r++:(y.y<=C.y&&m++,C.y<=y.y&&r++)}b-=l;b+=k;k=q;q=b;if(c===n||2>c.length||k===n||2>k.length)c=n;else{i=[];for(l=j=r=0;j<k.length&&k[j].y<c[0].y;)m=k[j++].copy(),m.x+=q,i[l++]=m;for(;r<c.length;)m=
c[r++],i[l++]=m;for(c=c[c.length-1].y;j<k.length&&k[j].y<=c;)j++;for(;j<k.length&&k[j].y>c;)m=k[j++].copy(),m.x+=q,i[l++]=m;c=i}j=e;l=b;if(d===n||2>d.length||j===n||2>j.length)d=n;else{e=[];for(q=m=k=0;k<d.length&&d[k].y<j[0].y;)i=d[k++],e[q++]=i;for(;m<j.length;)i=j[m++].copy(),i.x+=l,e[q++]=i;for(j=j[j.length-1].y;k<d.length&&d[k].y<=j;)k++;for(;k<d.length&&d[k].y>j;)i=d[k++],e[q++]=i;d=e}e=Math.max(0,b)+g.width;g=a}else{b=j=m;i=q;l=9999999;if(!(d===n||2>d.length||i===n||2>i.length))for(r=m=0;m<
d.length&&r<i.length;)u=d[m],x=i[r].copy(),x.y+=j,y=u,m+1<d.length&&(y=d[m+1]),C=x,r+1<i.length&&(C=i[r+1].copy(),C.y+=j),F=l,u.x===x.x?F=x.y-u.y:u.x>x.x&&u.x<C.x?F=x.y+(u.x-x.x)/(C.x-x.x)*(C.y-x.y)-u.y:x.x>u.x&&x.x<y.x&&(F=x.y-(u.y+(x.x-u.x)/(y.x-u.x)*(y.y-u.y))),F<l&&(l=F),y.x<=u.x?m++:C.x<=x.x?r++:(y.x<=C.x&&m++,C.x<=y.x&&r++);b-=l;b+=k;k=q;q=b;if(c===n||2>c.length||k===n||2>k.length)c=n;else{i=[];for(l=j=r=0;j<k.length&&k[j].x<c[0].x;)m=k[j++].copy(),m.y+=q,i[l++]=m;for(;r<c.length;)m=c[r++],
i[l++]=m;for(c=c[c.length-1].x;j<k.length&&k[j].x<=c;)j++;for(;j<k.length&&k[j].x>c;)m=k[j++].copy(),m.y+=q,i[l++]=m;c=i}j=e;l=b;if(d===n||2>d.length||j===n||2>j.length)d=n;else{e=[];for(q=m=k=0;k<d.length&&d[k].x<j[0].x;)i=d[k++],e[q++]=i;for(;m<j.length;)i=j[m++].copy(),i.y+=l,e[q++]=i;for(j=j[j.length-1].x;k<d.length&&d[k].x<=j;)k++;for(;k<d.length&&d[k].x>j;)i=d[k++],e[q++]=i;d=e}e=a;g=Math.max(0,b)+g.height}return[b,c,d,e,g]}
function dp(a,b,c,d){t&&v.c(b,Z,X,"assignAbsolutePositions:v");if(b!==n){b.x=c;b.y=d;for(var b=b.Lb,e=b.length,g=0;g<e;g++){var i=b[g];dp(a,i,c+i.O.x,d+i.O.y)}}}X.prototype.commitLayout=X.prototype.Eu=function(){this.jz();this.commitNodes();this.commitLinks()};
X.prototype.commitNodes=X.prototype.ey=function(){for(var a=this.p.V.f,b;a.next();)b=a.value,b.commit();for(a.reset();a.next();)if(b=a.value,t&&v.c(b,Z,X,"layoutComments:v"),b.pd!==n){var c=b.yg.pa,d=b.mb,e=f,e=f,e=b.$b,g=0,i=qp,i=p;d!==n&&(g=d.$b,i=d.ra,i=rp(i));for(var d=90===e||270===e,j=90===g||270===g,k=0===b.Bl,l=wp(b),m=0,q=b.pd,r=q.length,u=0;u<r;u++){var e=q[u],x=e.ua,y;if(d&&!k||!i&&!j&&k||i&&j&&k){if(135<g&&!i||j&&l)if(0<=b.bc){e.location=new D(b.C.x-b.bc-x.width,b.C.y+m);for(y=e.Ue();y.next();)e=
y.value,e.bb=sc,e.eb=tc}else{e.location=new D(b.C.x+2*b.B.x-b.bc,b.C.y+m);for(y=e.Ue();y.next();)e=y.value,e.bb=tc,e.eb=sc}else if(0<=b.bc){e.location=new D(b.C.x+2*b.B.x+b.bc,b.C.y+m);for(y=e.Ue();y.next();)e=y.value,e.bb=tc,e.eb=sc}else{e.location=new D(b.C.x+b.bc-x.width,b.C.y+m);for(y=e.Ue();y.next();)e=y.value,e.bb=sc,e.eb=tc}m=0<=b.od?m+(x.height+b.od):m+(b.od-x.height)}else{if(135<g&&!i||!j&&l)if(0<=b.bc){e.location=new D(b.C.x+m,b.C.y-b.bc-x.height);for(y=e.Ue();y.next();)e=y.value,e.bb=hc,
e.eb=lc}else{e.location=new D(b.C.x+m,b.C.y+2*b.B.y-b.bc);for(y=e.Ue();y.next();)e=y.value,e.bb=lc,e.eb=hc}else if(0<=b.bc){e.location=new D(b.C.x+m,b.C.y+2*b.B.y+b.bc);for(y=e.Ue();y.next();)e=y.value,e.bb=lc,e.eb=hc}else{e.location=new D(b.C.x+m,b.C.y+b.bc-x.height);for(y=e.Ue();y.next();)e=y.value,e.bb=hc,e.eb=lc}m=0<=b.od?m+(x.width+b.od):m+(b.od-x.width)}}c=m-b.od-(d?c.height:c.width);if(this.path===Ro)for(b=b.xb;b.next();){if(e=b.value,(e=e.link)&&e.cf!==Xf)e.xk=0<c?c:NaN}else for(b=b.zb;b.next();)if(e=
b.value,(e=e.link)&&e.cf!==Xf)e.Ik=0<c?c:NaN}};X.prototype.commitLinks=X.prototype.dy=function(){for(var a=this.p.Wb.f;a.next();)a.value.commit()};X.prototype.jz=function(){for(var a=this.zc.f;a.next();){var b=this.p.ne(a.value);Yp(this,b)}};
function Yp(a,b){t&&v.c(b,Z,X,"setPortSpotsTree:v");if(b!==n){t&&v.c(b,Z,X,"setPortSpots:v");var c=b.ra;if(rp(c)){t&&v.c(b,Z,X,"setPortSpotsBus:v");t&&v.c(c,pa,X,"setPortSpots:align");var d=a.mc===Ro,e=Ap(b),g;switch(e){case 0:g=tc;break;case 90:g=lc;break;case 180:g=sc;break;default:g=hc}var i,j,k,l=b.Lb,m=l.length;switch(c){case sp:case hp:for(c=0;c<m;c++)if(i=l[c],j=d?i.zb:i.xb,j.next(),k=j.value,k!==n&&(k=k.Ia,k!==n)){i=90===e||270===e?sc:hc;if(1===m||c===m-1&&1===m%2)switch(e){case 0:i=sc;break;
case 90:i=hc;break;case 180:i=tc;break;default:i=lc}else 0===c%2&&(i=90===e||270===e?tc:lc);d?(b.mj&&(k.bb=g),b.lj&&(k.eb=i)):(b.mj&&(k.bb=i),b.lj&&(k.eb=g))}break;case tp:i=90===e||270===e?tc:lc;for(j=d?b.xb:b.zb;j.next();)k=j.value,k=k.Ia,k!==n&&(d?(b.mj&&(k.bb=g),b.lj&&(k.eb=i)):(b.mj&&(k.bb=i),b.lj&&(k.eb=g)));break;case up:i=90===e||270===e?sc:hc;for(j=d?b.xb:b.zb;j.next();)k=j.value,k=k.Ia,k!==n&&(d?(b.mj&&(k.bb=g),b.lj&&(k.eb=i)):(b.mj&&(k.bb=i),b.lj&&(k.eb=g)))}}else if(d=Ap(b),a.mc===Ro)for(e=
b.xb;e.next();){if(g=e.value,g=g.Ia,g!==n){if(b.ng)if(Zb(b.Ie))switch(d){case 0:g.bb=tc;break;case 90:g.bb=lc;break;case 180:g.bb=sc;break;default:g.bb=hc}else g.bb=b.Ie;if(b.mg)if(Zb(b.ze))switch(d){case 0:g.eb=sc;break;case 90:g.eb=hc;break;case 180:g.eb=tc;break;default:g.eb=lc}else g.eb=b.ze}}else for(e=b.zb;e.next();)if(g=e.value,g=g.Ia,g!==n){if(b.ng)if(Zb(b.Ie))switch(d){case 0:g.eb=tc;break;case 90:g.eb=lc;break;case 180:g.eb=sc;break;default:g.eb=hc}else g.eb=b.Ie;if(b.mg)if(Zb(b.ze))switch(d){case 0:g.bb=
sc;break;case 90:g.bb=hc;break;case 180:g.bb=tc;break;default:g.bb=lc}else g.bb=b.ze}d=b.Lb;e=d.length;for(g=0;g<e;g++)Yp(a,d[g])}}function Ap(a){t&&v.c(a,Z,X,"orthoAngle:v");a=a.$b;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}function Dp(a){t&&v.c(a,Z,X,"computeLayerSpacing:v");var b=Ap(a),b=90===b||270===b,c=a.rd;if(0<a.dg)var d=Math.min(1,a.dg),c=c-(b?a.height*d:a.width*d);if(c<(b?-a.height:-a.width))c=b?-a.height:-a.width;return c}
function Ep(a){t&&v.c(a,Z,X,"computeNodeIndent:v");var b=Ap(a),b=90===b||270===b,c=a.Tg;if(0<a.jg)var d=Math.min(1,a.jg),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}v.a(X,"roots",X.prototype.XG);v.defineProperty(X,{XG:"roots"},s("zc"),function(a){this.zc!==a&&(this.zc=a,this.v())});v.a(X,"path",X.prototype.path);v.defineProperty(X,{path:"path"},s("mc"),function(a){if(this.mc!==a&&(t&&v.c(a,pa,X,"path"),a===Ro||a===Yo))this.mc=a,this.v()});v.a(X,"treeStyle",X.prototype.ZD);
v.defineProperty(X,{ZD:"treeStyle"},s("Zq"),function(a){if(this.Ic!==a&&(t&&v.c(a,pa,X,"treeStyle"),a===So||a===kp||a===lp||a===jp))this.Zq=a,this.v()});v.a(X,"arrangement",X.prototype.Ud);v.defineProperty(X,{Ud:"arrangement"},s("Ic"),function(a){if(this.Ic!==a&&(t&&v.c(a,pa,X,"arrangement"),a===To||a===ep||a===Xo))this.Ic=a,this.v()});v.a(X,"arrangementSpacing",X.prototype.zu);v.defineProperty(X,{zu:"arrangementSpacing"},s("df"),function(a){this.df.z(a)||(this.df.Xa(a),this.v())});
v.a(X,"rootDefaults",X.prototype.WG);v.defineProperty(X,{WG:"rootDefaults"},s("aa"),function(a){this.aa!==a&&(t&&v.c(a,Z,X,"rootDefaults"),this.aa=a,this.v())});v.a(X,"alternateDefaults",X.prototype.$E);v.defineProperty(X,{$E:"alternateDefaults"},s("Z"),function(a){this.Z!==a&&(t&&v.c(a,Z,X,"alternateDefaults"),this.Z=a,this.v())});v.a(X,"sorting",X.prototype.Kf);
v.defineProperty(X,{Kf:"sorting"},function(){return this.aa.fc},function(a){if(this.aa.fc!==a&&(t&&v.c(a,pa,X,"sorting"),a===mp||a===np||a===op||pp))this.aa.fc=a,this.v()});v.a(X,"comparer",X.prototype.kh);v.defineProperty(X,{kh:"comparer"},function(){return this.aa.cc},function(a){this.aa.cc!==a&&(t&&v.e(a,"function",X,"comparer"),this.aa.cc=a,this.v())});v.a(X,"angle",X.prototype.Wa);
v.defineProperty(X,{Wa:"angle"},function(){return this.aa.$b},function(a){if(this.aa.$b!==a&&(0===a||90===a||180===a||270===a))this.aa.$b=a,this.v()});v.a(X,"alignment",X.prototype.vb);v.defineProperty(X,{vb:"alignment"},function(){return this.aa.ra},function(a){this.aa.ra!==a&&(t&&v.Za(a,X,X,"alignment"),this.aa.ra=a,this.v())});v.a(X,"nodeIndent",X.prototype.Uy);v.defineProperty(X,{Uy:"nodeIndent"},function(){return this.aa.Tg},function(a){this.aa.Tg!==a&&0<=a&&(this.aa.Tg=a,this.v())});
v.a(X,"nodeIndentPastParent",X.prototype.Vy);v.defineProperty(X,{Vy:"nodeIndentPastParent"},function(){return this.aa.jg},function(a){this.aa.jg!==a&&(0<=a&&1>=a)&&(this.aa.jg=a,this.v())});v.a(X,"nodeSpacing",X.prototype.ev);v.defineProperty(X,{ev:"nodeSpacing"},function(){return this.aa.hd},function(a){this.aa.hd!==a&&(this.aa.hd=a,this.v())});v.a(X,"layerSpacing",X.prototype.Yr);v.defineProperty(X,{Yr:"layerSpacing"},function(){return this.aa.rd},function(a){this.aa.rd!==a&&(this.aa.rd=a,this.v())});
v.a(X,"layerSpacingParentOverlap",X.prototype.Ky);v.defineProperty(X,{Ky:"layerSpacingParentOverlap"},function(){return this.aa.dg},function(a){this.aa.dg!==a&&(0<=a&&1>=a)&&(this.aa.dg=a,this.v())});v.a(X,"compaction",X.prototype.Fu);v.defineProperty(X,{Fu:"compaction"},function(){return this.aa.Vf},function(a){if(this.aa.Vf!==a&&(t&&v.c(a,pa,X,"compaction"),a===xp||a===zp))this.aa.Vf=a,this.v()});v.a(X,"breadthLimit",X.prototype.Vx);
v.defineProperty(X,{Vx:"breadthLimit"},function(){return this.aa.Sf},function(a){this.aa.Sf!==a&&0<=a&&(this.aa.Sf=a,this.v())});v.a(X,"rowSpacing",X.prototype.ov);v.defineProperty(X,{ov:"rowSpacing"},function(){return this.aa.he},function(a){this.aa.he!==a&&(this.aa.he=a,this.v())});v.a(X,"rowIndent",X.prototype.cz);v.defineProperty(X,{cz:"rowIndent"},function(){return this.aa.Vc},function(a){this.aa.Vc!==a&&0<=a&&(this.aa.Vc=a,this.v())});v.a(X,"commentSpacing",X.prototype.by);
v.defineProperty(X,{by:"commentSpacing"},function(){return this.aa.od},function(a){this.aa.od!==a&&(this.aa.od=a,this.v())});v.a(X,"commentMargin",X.prototype.ay);v.defineProperty(X,{ay:"commentMargin"},function(){return this.aa.bc},function(a){this.aa.bc!==a&&(this.aa.bc=a,this.v())});v.a(X,"setsPortSpot",X.prototype.mj);v.defineProperty(X,{mj:"setsPortSpot"},function(){return this.aa.ng},function(a){this.aa.ng!==a&&(this.aa.ng=a,this.v())});v.a(X,"portSpot",X.prototype.Zy);
v.defineProperty(X,{Zy:"portSpot"},function(){return this.aa.Ie},function(a){this.aa.Ie.z(a)||(this.aa.Ie=a,this.v())});v.a(X,"setsChildPortSpot",X.prototype.lj);v.defineProperty(X,{lj:"setsChildPortSpot"},function(){return this.aa.mg},function(a){this.aa.mg!==a&&(this.aa.mg=a,this.v())});v.a(X,"childPortSpot",X.prototype.Zx);v.defineProperty(X,{Zx:"childPortSpot"},function(){return this.aa.ze},function(a){this.aa.ze.z(a)||(this.aa.ze=a,this.v())});v.a(X,"alternateSorting",X.prototype.kF);
v.defineProperty(X,{kF:"alternateSorting"},function(){return this.Z.fc},function(a){if(this.Z.fc!==a&&(t&&v.c(a,pa,X,"alternateSorting"),a===mp||a===np||a===op||pp))this.Z.fc=a,this.v()});v.a(X,"alternateComparer",X.prototype.YE);v.defineProperty(X,{YE:"alternateComparer"},function(){return this.Z.cc},function(a){this.Z.cc!==a&&(t&&v.e(a,"function",X,"alternateComparer"),this.Z.cc=a,this.v())});v.a(X,"alternateAngle",X.prototype.SE);
v.defineProperty(X,{SE:"alternateAngle"},function(){return this.Z.$b},function(a){if(this.Z.$b!==a&&(0===a||90===a||180===a||270===a))this.Z.$b=a,this.v()});v.a(X,"alternateAlignment",X.prototype.RE);v.defineProperty(X,{RE:"alternateAlignment"},function(){return this.Z.ra},function(a){this.Z.ra!==a&&(t&&v.Za(a,X,X,"alternateAlignment"),this.Z.ra=a,this.v())});v.a(X,"alternateNodeIndent",X.prototype.cF);
v.defineProperty(X,{cF:"alternateNodeIndent"},function(){return this.Z.Tg},function(a){this.Z.Tg!==a&&0<=a&&(this.Z.Tg=a,this.v())});v.a(X,"alternateNodeIndentPastParent",X.prototype.dF);v.defineProperty(X,{dF:"alternateNodeIndentPastParent"},function(){return this.Z.jg},function(a){this.Z.jg!==a&&(0<=a&&1>=a)&&(this.Z.jg=a,this.v())});v.a(X,"alternateNodeSpacing",X.prototype.eF);v.defineProperty(X,{eF:"alternateNodeSpacing"},function(){return this.Z.hd},function(a){this.Z.hd!==a&&(this.Z.hd=a,this.v())});
v.a(X,"alternateLayerSpacing",X.prototype.aF);v.defineProperty(X,{aF:"alternateLayerSpacing"},function(){return this.Z.rd},function(a){this.Z.rd!==a&&(this.Z.rd=a,this.v())});v.a(X,"alternateLayerSpacingParentOverlap",X.prototype.bF);v.defineProperty(X,{bF:"alternateLayerSpacingParentOverlap"},function(){return this.Z.dg},function(a){this.Z.dg!==a&&(0<=a&&1>=a)&&(this.Z.dg=a,this.v())});v.a(X,"alternateCompaction",X.prototype.XE);
v.defineProperty(X,{XE:"alternateCompaction"},function(){return this.Z.Vf},function(a){if(this.Z.Vf!==a&&(t&&v.c(a,pa,X,"alternateCompaction"),a===xp||a===zp))this.Z.Vf=a,this.v()});v.a(X,"alternateBreadthLimit",X.prototype.TE);v.defineProperty(X,{TE:"alternateBreadthLimit"},function(){return this.Z.Sf},function(a){this.Z.Sf!==a&&0<=a&&(this.Z.Sf=a,this.v())});v.a(X,"alternateRowSpacing",X.prototype.hF);
v.defineProperty(X,{hF:"alternateRowSpacing"},function(){return this.Z.he},function(a){this.Z.he!==a&&(this.Z.he=a,this.v())});v.a(X,"alternateRowIndent",X.prototype.gF);v.defineProperty(X,{gF:"alternateRowIndent"},function(){return this.Z.Vc},function(a){this.Z.Vc!==a&&0<=a&&(this.Z.Vc=a,this.v())});v.a(X,"alternateCommentSpacing",X.prototype.WE);v.defineProperty(X,{WE:"alternateCommentSpacing"},function(){return this.Z.od},function(a){this.Z.od!==a&&(this.Z.od=a,this.v())});
v.a(X,"alternateCommentMargin",X.prototype.VE);v.defineProperty(X,{VE:"alternateCommentMargin"},function(){return this.Z.bc},function(a){this.Z.bc!==a&&(this.Z.bc=a,this.v())});v.a(X,"alternateSetsPortSpot",X.prototype.jF);v.defineProperty(X,{jF:"alternateSetsPortSpot"},function(){return this.Z.ng},function(a){this.Z.ng!==a&&(this.Z.ng=a,this.v())});v.a(X,"alternatePortSpot",X.prototype.fF);
v.defineProperty(X,{fF:"alternatePortSpot"},function(){return this.Z.Ie},function(a){this.Z.Ie.z(a)||(this.Z.Ie=a,this.v())});v.a(X,"alternateSetsChildPortSpot",X.prototype.iF);v.defineProperty(X,{iF:"alternateSetsChildPortSpot"},function(){return this.Z.mg},function(a){this.Z.mg!==a&&(this.Z.mg=a,this.v())});v.a(X,"alternateChildPortSpot",X.prototype.UE);v.defineProperty(X,{UE:"alternateChildPortSpot"},function(){return this.Z.ze},function(a){this.Z.ze.z(a)||(this.Z.ze=a,this.v())});var Ro;
X.PathDestination=Ro=v.l(X,"PathDestination",0);var Yo;X.PathSource=Yo=v.l(X,"PathSource",1);var mp;X.SortingForwards=mp=v.l(X,"SortingForwards",10);var np;X.SortingReverse=np=v.l(X,"SortingReverse",11);var op;X.SortingAscending=op=v.l(X,"SortingAscending",12);var pp;X.SortingDescending=pp=v.l(X,"SortingDescending",13);var Rp;X.AlignmentCenterSubtrees=Rp=v.l(X,"AlignmentCenterSubtrees",20);var qp;X.AlignmentCenterChildren=qp=v.l(X,"AlignmentCenterChildren",21);var Bp;
X.AlignmentStart=Bp=v.l(X,"AlignmentStart",22);var Cp;X.AlignmentEnd=Cp=v.l(X,"AlignmentEnd",23);var sp;X.AlignmentBus=sp=v.l(X,"AlignmentBus",24);var hp;X.AlignmentBusBranching=hp=v.l(X,"AlignmentBusBranching",25);var tp;X.AlignmentTopLeftBus=tp=v.l(X,"AlignmentTopLeftBus",26);var up;X.AlignmentBottomRightBus=up=v.l(X,"AlignmentBottomRightBus",27);var xp;X.CompactionNone=xp=v.l(X,"CompactionNone",30);var zp;X.CompactionBlock=zp=v.l(X,"CompactionBlock",31);var So;
X.StyleLayered=So=v.l(X,"StyleLayered",40);var lp;X.StyleLastParents=lp=v.l(X,"StyleLastParents",41);var kp;X.StyleAlternating=kp=v.l(X,"StyleAlternating",42);var jp;X.StyleRootOnly=jp=v.l(X,"StyleRootOnly",43);var To;X.ArrangementVertical=To=v.l(X,"ArrangementVertical",50);var ep;X.ArrangementHorizontal=ep=v.l(X,"ArrangementHorizontal",51);var Xo;X.ArrangementFixedRoots=Xo=v.l(X,"ArrangementFixedRoots",52);function Vo(){Im.call(this)}v.J("TreeNetwork",Vo);v.va(Vo,Im);
Vo.prototype.createVertex=Vo.prototype.Vi=function(){return new Z};Vo.prototype.createEdge=Vo.prototype.En=function(){return new Zp};
function Z(){Mm.call(this);this.Sj=p;this.mb=n;this.Lb=[];this.Mh=this.tt=this.Xs=this.gl=this.qH=0;this.Eq=this.Rp=this.pd=this.xa=this.Ka=this.O=n;this.ik=this.hk=this.mx=p;this.fc=mp;this.cc=Rm;this.$b=0;this.ra=qp;this.jg=this.Tg=0;this.hd=20;this.rd=50;this.dg=0;this.Vf=zp;this.Sf=0;this.he=25;this.od=this.Vc=10;this.bc=20;this.ng=h;this.Ie=cc;this.mg=h;this.ze=cc}v.J("TreeVertex",Z);v.va(Z,Mm);
function Uo(a,b){b!==n&&(a.fc=b.fc,a.cc=b.cc,a.$b=b.$b,a.ra=b.ra,a.Tg=b.Tg,a.jg=b.jg,a.hd=b.hd,a.rd=b.rd,a.dg=b.dg,a.Vf=b.Vf,a.Sf=b.Sf,a.he=b.he,a.Vc=b.Vc,a.od=b.od,a.bc=b.bc,a.ng=b.ng,a.Ie=b.Ie,a.mg=b.mg,a.ze=b.ze)}v.a(Z,"initialized",Z.prototype.gG);v.defineProperty(Z,{gG:"initialized"},s("Sj"),ba("Sj"));v.a(Z,"parent",Z.prototype.parent);v.defineProperty(Z,{parent:"parent"},s("mb"),ba("mb"));v.a(Z,"children",Z.prototype.children);v.defineProperty(Z,{children:"children"},s("Lb"),ba("Lb"));
v.m(Z,{Bl:"childrenCount"},function(){return this.Lb.length});v.a(Z,"level",Z.prototype.uG);v.defineProperty(Z,{uG:"level"},s("gl"),ba("gl"));v.a(Z,"descendantCount",Z.prototype.BF);v.defineProperty(Z,{BF:"descendantCount"},s("Xs"),ba("Xs"));v.a(Z,"maxChildrenCount",Z.prototype.AG);v.defineProperty(Z,{AG:"maxChildrenCount"},s("tt"),ba("tt"));v.a(Z,"maxGenerationCount",Z.prototype.BG);v.defineProperty(Z,{BG:"maxGenerationCount"},s("Mh"),ba("Mh"));v.a(Z,"relativePosition",Z.prototype.PG);
v.defineProperty(Z,{PG:"relativePosition"},s("O"),function(a){v.c(a,D,Z,"relativePosition");this.O=a});v.a(Z,"subtreeSize",Z.prototype.iH);v.defineProperty(Z,{iH:"subtreeSize"},s("Ka"),function(a){v.c(a,J,Z,"subtreeSize");this.Ka=a});v.a(Z,"subtreeOffset",Z.prototype.hH);v.defineProperty(Z,{hH:"subtreeOffset"},s("xa"),function(a){v.c(a,D,Z,"subtreeOffset");this.xa=a});v.a(Z,"comments",Z.prototype.cy);v.defineProperty(Z,{cy:"comments"},s("pd"),ba("pd"));v.a(Z,"sorting",Z.prototype.Kf);
v.defineProperty(Z,{Kf:"sorting"},s("fc"),ba("fc"));v.a(Z,"comparer",Z.prototype.kh);v.defineProperty(Z,{kh:"comparer"},s("cc"),ba("cc"));v.a(Z,"angle",Z.prototype.Wa);v.defineProperty(Z,{Wa:"angle"},s("$b"),ba("$b"));v.a(Z,"alignment",Z.prototype.vb);v.defineProperty(Z,{vb:"alignment"},s("ra"),ba("ra"));v.a(Z,"nodeIndent",Z.prototype.Uy);v.defineProperty(Z,{Uy:"nodeIndent"},s("Tg"),ba("Tg"));v.a(Z,"nodeIndentPastParent",Z.prototype.Vy);v.defineProperty(Z,{Vy:"nodeIndentPastParent"},s("jg"),ba("jg"));
v.a(Z,"nodeSpacing",Z.prototype.ev);v.defineProperty(Z,{ev:"nodeSpacing"},s("hd"),ba("hd"));v.a(Z,"layerSpacing",Z.prototype.Yr);v.defineProperty(Z,{Yr:"layerSpacing"},s("rd"),ba("rd"));v.a(Z,"layerSpacingParentOverlap",Z.prototype.Ky);v.defineProperty(Z,{Ky:"layerSpacingParentOverlap"},s("dg"),ba("dg"));v.a(Z,"compaction",Z.prototype.Fu);v.defineProperty(Z,{Fu:"compaction"},s("Vf"),ba("Vf"));v.a(Z,"breadthLimit",Z.prototype.Vx);v.defineProperty(Z,{Vx:"breadthLimit"},s("Sf"),ba("Sf"));
v.a(Z,"rowSpacing",Z.prototype.ov);v.defineProperty(Z,{ov:"rowSpacing"},s("he"),ba("he"));v.a(Z,"rowIndent",Z.prototype.cz);v.defineProperty(Z,{cz:"rowIndent"},s("Vc"),ba("Vc"));v.a(Z,"commentSpacing",Z.prototype.by);v.defineProperty(Z,{by:"commentSpacing"},s("od"),ba("od"));v.a(Z,"commentMargin",Z.prototype.ay);v.defineProperty(Z,{ay:"commentMargin"},s("bc"),ba("bc"));v.a(Z,"setsPortSpot",Z.prototype.mj);v.defineProperty(Z,{mj:"setsPortSpot"},s("ng"),ba("ng"));v.a(Z,"portSpot",Z.prototype.Zy);
v.defineProperty(Z,{Zy:"portSpot"},s("Ie"),ba("Ie"));v.a(Z,"setsChildPortSpot",Z.prototype.lj);v.defineProperty(Z,{lj:"setsChildPortSpot"},s("mg"),ba("mg"));v.a(Z,"childPortSpot",Z.prototype.Zx);v.defineProperty(Z,{Zx:"childPortSpot"},s("ze"),ba("ze"));v.a(Z,"routeFirstRow",Z.prototype.aH);v.defineProperty(Z,{aH:"routeFirstRow"},s("mx"),ba("mx"));v.a(Z,"routeAroundCentered",Z.prototype.ZG);v.defineProperty(Z,{ZG:"routeAroundCentered"},s("hk"),ba("hk"));v.a(Z,"routeAroundLastParent",Z.prototype.$G);
v.defineProperty(Z,{$G:"routeAroundLastParent"},s("ik"),ba("ik"));function Zp(){Nm.call(this);this.wq=new D(0,0)}v.J("TreeEdge",Zp);v.va(Zp,Nm);
Zp.prototype.commit=Zp.prototype.ci=function(){var a=this.Ia;if(a!==n&&a.cf!==Xf){var b=this.p.Eb,c=n,d=n;switch(b.mc){case Ro:c=this.I;d=this.G;break;case Yo:c=this.G;d=this.I;break;default:v.g("Unhandled path value "+b.mc.toString())}if(!(c===n||d===n))if(b=this.wq,0===b.x&&0===b.y&&!c.mx){var e=c;t&&v.c(e,Z,Zp,"adjustRouteForAngleChange:parent");t&&v.c(d,Z,Zp,"adjustRouteForAngleChange:child");a=this.Ia;c=Ap(e);b=Ap(d);if(c!==b&&(b=Dp(e),e=e.rb,d=d.rb,!(0===c&&d.left-e.right<b+1||90===c&&d.top-
e.bottom<b+1||180===c&&e.left-d.right<b+1||270===c&&e.top-d.bottom<b+1))){Zl(a);var d=a.Re===Vj,g=a.cf===Bh,i=rp(this.I.ra);a.Hk();0===c?(c=e.right+b/2,d?4===a.da&&(b=a.h(3).y,a.A(1,new D(c-20,a.h(1).y)),a.q(2,new D(c-20,b)),a.q(3,new D(c,b)),a.q(4,new D(c+20,b)),a.A(5,new D(a.h(5).x,b))):g?i?a.A(3,new D(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new D(c,a.h(2).y)),a.A(3,new D(c,a.h(3).y))):4===a.da?a.q(2,new D(c,a.h(2).y)):3===a.da?a.A(1,new D(c,a.h(2).y)):2===a.da&&a.q(1,new D(c,a.h(1).y))):90===c?(b=
e.bottom+b/2,d?4===a.da&&(c=a.h(3).x,a.A(1,new D(a.h(1).x,b-20)),a.q(2,new D(c,b-20)),a.q(3,new D(c,b)),a.q(4,new D(c,b+20)),a.A(5,new D(c,a.h(5).y))):g?i?a.A(3,new D(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new D(a.h(2).x,b)),a.A(3,new D(a.h(3).x,b))):4===a.da?a.q(2,new D(a.h(2).x,b)):3===a.da?a.A(1,new D(a.h(2).x,b)):2===a.da&&a.q(1,new D(a.h(1).x,b))):180===c?(c=e.left-b/2,d?4===a.da&&(b=a.h(3).y,a.A(1,new D(c+20,a.h(1).y)),a.q(2,new D(c+20,b)),a.q(3,new D(c,b)),a.q(4,new D(c-20,b)),a.A(5,new D(a.h(5).x,
b))):g?i?a.A(3,new D(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new D(c,a.h(2).y)),a.A(3,new D(c,a.h(3).y))):4===a.da?a.q(2,new D(c,a.h(2).y)):3===a.da?a.A(1,new D(c,a.h(2).y)):2===a.da&&a.q(1,new D(c,a.h(1).y))):270===c&&(b=e.top-b/2,d?4===a.da&&(c=a.h(3).x,a.A(1,new D(a.h(1).x,b+20)),a.q(2,new D(c,b+20)),a.q(3,new D(c,b)),a.q(4,new D(c,b-20)),a.A(5,new D(c,a.h(5).y))):g?i?a.A(3,new D(a.h(2).x,a.h(4).y)):6===a.da&&(a.A(2,new D(a.h(2).x,b)),a.A(3,new D(a.h(3).x,b))):4===a.da?a.q(2,new D(a.h(2).x,b)):3===
a.da?a.A(1,new D(a.h(2).x,b)):2===a.da&&a.q(1,new D(a.h(1).x,b)));a.di()}}else{var e=c.rb,j=Ap(c),d=Dp(c),g=c.he;Zl(a);var i=a.Re===Vj,k=a.cf===Bh,l,m,q,r;a.Hk();if(k||i){for(l=2;4<a.da;)a.nD(2);m=a.h(1);q=a.h(2)}else{for(l=1;3<a.da;)a.nD(1);m=a.h(0);q=a.h(a.da-1)}r=a.h(a.da-1);0===j?(c.ra===Cp?(j=e.bottom+b.y,0===b.y&&m.y>r.y+c.Vc&&(j=Math.min(j,Math.max(m.y,j-Ep(c))))):c.ra===Bp?(j=e.top+b.y,0===b.y&&m.y<r.y-c.Vc&&(j=Math.max(j,Math.min(m.y,j+Ep(c))))):j=c.hk||c.ik&&1===c.Mh?e.top-c.xa.y+b.y:e.y+
e.height/2+b.y,i?(a.q(l,new D(m.x,j)),l++,a.q(l,new D(e.right+d,j)),l++,a.q(l,new D(e.right+d+(b.x-g)/3,j)),l++,a.q(l,new D(e.right+d+2*(b.x-g)/3,j)),l++,a.q(l,new D(e.right+d+(b.x-g),j)),l++,a.q(l,new D(q.x,j))):(k&&(a.q(l,new D(e.right+d/2,m.y)),l++),a.q(l,new D(e.right+d/2,j)),l++,a.q(l,new D(e.right+d+b.x-(k?g/2:g),j)),l++,k&&a.q(l,new D(a.h(l-1).x,q.y)))):90===j?(c.ra===Cp?(j=e.right+b.x,0===b.x&&m.x>r.x+c.Vc&&(j=Math.min(j,Math.max(m.x,j-Ep(c))))):c.ra===Bp?(j=e.left+b.x,0===b.x&&m.x<r.x-c.Vc&&
(j=Math.max(j,Math.min(m.x,j+Ep(c))))):j=c.hk||c.ik&&1===c.Mh?e.left-c.xa.x+b.x:e.x+e.width/2+b.x,i?(a.q(l,new D(j,m.y)),l++,a.q(l,new D(j,e.bottom+d)),l++,a.q(l,new D(j,e.bottom+d+(b.y-g)/3)),l++,a.q(l,new D(j,e.bottom+d+2*(b.y-g)/3)),l++,a.q(l,new D(j,e.bottom+d+(b.y-g))),l++,a.q(l,new D(j,q.y))):(k&&(a.q(l,new D(m.x,e.bottom+d/2)),l++),a.q(l,new D(j,e.bottom+d/2)),l++,a.q(l,new D(j,e.bottom+d+b.y-(k?g/2:g))),l++,k&&a.q(l,new D(q.x,a.h(l-1).y)))):180===j?(c.ra===Cp?(j=e.bottom+b.y,0===b.y&&m.y>
r.y+c.Vc&&(j=Math.min(j,Math.max(m.y,j-Ep(c))))):c.ra===Bp?(j=e.top+b.y,0===b.y&&m.y<r.y-c.Vc&&(j=Math.max(j,Math.min(m.y,j+Ep(c))))):j=c.hk||c.ik&&1===c.Mh?e.top-c.xa.y+b.y:e.y+e.height/2+b.y,i?(a.q(l,new D(m.x,j)),l++,a.q(l,new D(e.left-d,j)),l++,a.q(l,new D(e.left-d+(b.x+g)/3,j)),l++,a.q(l,new D(e.left-d+2*(b.x+g)/3,j)),l++,a.q(l,new D(e.left-d+(b.x+g),j)),l++,a.q(l,new D(q.x,j))):(k&&(a.q(l,new D(e.left-d/2,m.y)),l++),a.q(l,new D(e.left-d/2,j)),l++,a.q(l,new D(e.left-d+b.x+(k?g/2:g),j)),l++,k&&
a.q(l,new D(a.h(l-1).x,q.y)))):270===j?(c.ra===Cp?(j=e.right+b.x,0===b.x&&m.x>r.x+c.Vc&&(j=Math.min(j,Math.max(m.x,j-Ep(c))))):c.ra===Bp?(j=e.left+b.x,0===b.x&&m.x<r.x-c.Vc&&(j=Math.max(j,Math.min(m.x,j+Ep(c))))):j=c.hk||c.ik&&1===c.Mh?e.left-c.xa.x+b.x:e.x+e.width/2+b.x,i?(a.q(l,new D(j,m.y)),l++,a.q(l,new D(j,e.top-d)),l++,a.q(l,new D(j,e.top-d+(b.y+g)/3)),l++,a.q(l,new D(j,e.top-d+2*(b.y+g)/3)),l++,a.q(l,new D(j,e.top-d+(b.y+g))),l++,a.q(l,new D(j,q.y))):(k&&(a.q(l,new D(m.x,e.top-d/2)),l++),a.q(l,
new D(j,e.top-d/2)),l++,a.q(l,new D(j,e.top-d+b.y+(k?g/2:g))),l++,k&&a.q(l,new D(q.x,a.h(l-1).y)))):v.g("Invalid angle "+j);a.di()}}};v.a(Zp,"relativePoint",Zp.prototype.OG);v.defineProperty(Zp,{OG:"relativePoint"},s("wq"),ba("wq"));window.go=fa;fa.version="1.0.8"; })(window);
